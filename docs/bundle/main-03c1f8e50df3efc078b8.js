!function(e){function s(t){if(n[t])return n[t].exports;var a=n[t]={"exports":{},"id":t,"loaded":!1};return e[t].call(a.exports,a,a.exports,s),a.loaded=!0,a.exports}var n={};return s.m=e,s.c=n,s.p="./bundle/",s(0)}([function(e,s,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var a=n(1),r=t(a),l=n(3),i=n(4);n(5),n(6),n(8);var o=n(156),p=t(o);(0,i.importAll)(n(169)),(0,i.importAll)(n(171)),(0,l.render)(r["default"].createElement(l.Router,null,r["default"].createElement(p["default"],null)),document.getElementById("root"))},function(e,s,n){e.exports=n(2)(1)},function(e,s){e.exports=vendor},function(e,s,n){e.exports=n(2)(154)},function(e,s,n){"use strict";function t(e){e&&e.keys().forEach(function(s){e(s)})}function a(e){var s={};return Object.keys(e).forEach(function(n){var t=void 0,a="dev",r=e[n];if(t=r[a],!t){t=r.defaults}t&&(t.env="dev",t.mode=r.mode||"server",s[n]=t)}),s}Object.defineProperty(s,"__esModule",{"value":!0}),s.importAll=t,s.getCurrentProxyConfig=a},function(e,s){"use strict"},function(e,s,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var a=n(3),r=n(7),l=t(r),i=n(4);a.request.init((0,i.getCurrentProxyConfig)(l["default"])),a.request.config({"verify":function(e){return 200===e.status},"loading":function(){console.log("loading...")},"error":function(e){console.log("error",e)},"complete":function(e){console.log("complete")}})},function(e,s){"use strict";var n={"example":{"mode":"cors","wds":{"prefix":"/v1.0","url":"http://cors.zmei.me"},"defaults":{"prefix":"/v1.0","url":"http://cors.zmei.me"}}};e.exports=n},function(e,s,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var a=n(3),r=n(9),l=t(r),i=n(10),o=t(i),p=n(11),c=t(p),u=n(115),d=t(u),f=n(131),h=t(f);a.router.config({"mapStateToProps":function(e){return{"example":e.example}},"components":{"NotFound":l["default"],"Forbidden":o["default"]}}),a.router.register({"home":{"component":c["default"],"index":!0},"examples":d["default"],"docs":h["default"]})},function(e,s,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(s,"__esModule",{"value":!0});var a=n(1),r=t(a),l=n(3);s["default"]=function(e){return r["default"].createElement("div",null,"404 not found!",r["default"].createElement("a",{"href":"javascript:void(0);","onClick":l.actions.routing.goBack},"❮ 返回"))}},function(e,s,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(s,"__esModule",{"value":!0});var a=n(1),r=t(a),l=n(3);s["default"]=function(e){return r["default"].createElement("div",null,"403 forbidden!",r["default"].createElement("a",{"href":"javascript:void(0);","onClick":l.actions.routing.goBack},"❮ 返回"))}},function(e,s,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function a(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function r(e,s){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!s||"object"!=typeof s&&"function"!=typeof s?e:s}function l(e,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function, not "+typeof s);e.prototype=Object.create(s&&s.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(e,s):e.__proto__=s)}Object.defineProperty(s,"__esModule",{"value":!0});var i=function(){function e(e,s){for(var n=0;n<s.length;n++){var t=s[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(s,n,t){return n&&e(s.prototype,n),t&&e(s,t),s}}(),o=n(1),p=t(o),c=n(3),u=n(12),d=t(u),f=n(13);n(101);var h=n(102),m=t(h),g=n(103),y=t(g),j=n(105),v=t(j),b=function(e){function s(){return a(this,s),r(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return l(s,e),i(s,[{"key":"render","value":function(){var e=this.props,s=e.showConsole,n=e.showMore;return p["default"].createElement("div",{"className":d["default"].main+" clear"},p["default"].createElement("div",{"className":d["default"].box},p["default"].createElement(f.VelocityComponent,{"animation":s?"slideUp":"slideDown","duration":s?500:4e3,"runOnMount":!n},p["default"].createElement(m["default"],null)),p["default"].createElement(f.VelocityComponent,{"animation":{"left":s?0:600},"duration":1e3},p["default"].createElement(y["default"],null)),s?p["default"].createElement(f.VelocityComponent,{"animation":"transition.fadeIn","duration":1e3,"delay":600,"runOnMount":!0},p["default"].createElement(v["default"],null)):void 0))}}]),s}(o.Component);s["default"]=(0,c.smart)(function(e){return e.home})(b)},function(e,s){e.exports={"main":"style__main-2Yq7p","box":"style__box-1K7ka","info":"style__info-2w9gl","logo":"style__logo-3qtzY","title":"style__title-3WlMp","btns":"style__btns-ShqB1","btn":"style__btn-3Lw-p","primary":"style__primary-3qltL"}},function(e,s,n){e.exports={"VelocityComponent":n(14),"VelocityTransitionGroup":n(67),"velocityHelpers":n(100)}},function(e,s,n){var t={"forEach":n(15),"isEqual":n(41),"keys":n(23),"omit":n(49)},a=n(1),r=n(64),l=n(65),i=a.createClass({"displayName":"VelocityComponent","propTypes":{"animation":a.PropTypes.any,"children":a.PropTypes.element.isRequired,"runOnMount":a.PropTypes.bool,"targetQuerySelector":a.PropTypes.string,"interruptBehavior":a.PropTypes.string},"getDefaultProps":function(){return{"animation":null,"runOnMount":!1,"targetQuerySelector":null,"interruptBehavior":"stop"}},"componentDidMount":function(){this.runAnimation(),this.props.runOnMount!==!0&&this._finishAnimation()},"componentWillUpdate":function(e,s){t.isEqual(e.animation,this.props.animation)||("stop"===e.interruptBehavior?this._stopAnimation():"finish"===e.interruptBehavior&&this._finishAnimation(),this._scheduleAnimation())},"componentWillUnmount":function(){this._stopAnimation(),this._clearVelocityCache(this._getDOMTarget())},"runAnimation":function(e){if(e=e||{},this._shouldRunAnimation=!1,this.isMounted()&&null!=this.props.animation){e.stop?l(this._getDOMTarget(),"stop",!0):e.finish&&l(this._getDOMTarget(),"finishAll",!0);var s=t.omit(this.props,t.keys(this.constructor.propTypes));l(this._getDOMTarget(),this.props.animation,s)}},"_scheduleAnimation":function(){this._shouldRunAnimation||(this._shouldRunAnimation=!0,setTimeout(this.runAnimation,0))},"_getDOMTarget":function(){var e=r.findDOMNode(this);return"children"===this.props.targetQuerySelector?e.children:null!=this.props.targetQuerySelector?e.querySelectorAll(this.props.targetQuerySelector):e},"_finishAnimation":function(){l(this._getDOMTarget(),"finishAll",!0)},"_stopAnimation":function(){l(this._getDOMTarget(),"stop",!0)},"_clearVelocityCache":function(e){e.length?t.forEach(e,this._clearVelocityCache):l.Utilities.removeData(e,["velocity","fxqueue"])},"render":function(){return this.props.children}});e.exports=i},function(e,s,n){var t=n(16),a=n(17),r=n(38),l=r(t,a);e.exports=l},function(e,s){function n(e,s){for(var n=-1,t=e.length;++n<t&&s(e[n],n,e)!==!1;);return e}e.exports=n},function(e,s,n){var t=n(18),a=n(37),r=a(t);e.exports=r},function(e,s,n){function t(e,s){return a(e,s,r)}var a=n(19),r=n(23);e.exports=t},function(e,s,n){var t=n(20),a=t();e.exports=a},function(e,s,n){function t(e){return function(s,n,t){for(var r=a(s),l=t(s),i=l.length,o=e?i:-1;e?o--:++o<i;){var p=l[o];if(n(r[p],p,r)===!1)break}return s}}var a=n(21);e.exports=t},function(e,s,n){function t(e){return a(e)?e:Object(e)}var a=n(22);e.exports=t},function(e,s){function n(e){var s=typeof e;return!!e&&("object"==s||"function"==s)}e.exports=n},function(e,s,n){var t=n(24),a=n(28),r=n(22),l=n(32),i=t(Object,"keys"),o=i?function(e){var s=null==e?void 0:e.constructor;return"function"==typeof s&&s.prototype===e||"function"!=typeof e&&a(e)?l(e):r(e)?i(e):[]}:l;e.exports=o},function(e,s,n){function t(e,s){var n=null==e?void 0:e[s];return a(n)?n:void 0}var a=n(25);e.exports=t},function(e,s,n){function t(e){return null!=e&&(a(e)?c.test(o.call(e)):r(e)&&l.test(e))}var a=n(26),r=n(27),l=/^\[object .+?Constructor\]$/,i=Object.prototype,o=Function.prototype.toString,p=i.hasOwnProperty,c=RegExp("^"+o.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=t},function(e,s,n){function t(e){return a(e)&&i.call(e)==r}var a=n(22),r="[object Function]",l=Object.prototype,i=l.toString;e.exports=t},function(e,s){function n(e){return!!e&&"object"==typeof e}e.exports=n},function(e,s,n){function t(e){return null!=e&&r(a(e))}var a=n(29),r=n(31);e.exports=t},function(e,s,n){var t=n(30),a=t("length");e.exports=a},function(e,s){function n(e){return function(s){return null==s?void 0:s[e]}}e.exports=n},function(e,s){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=t}var t=9007199254740991;e.exports=n},function(e,s,n){function t(e){for(var s=o(e),n=s.length,t=n&&e.length,p=!!t&&i(t)&&(r(e)||a(e)),u=-1,d=[];++u<n;){var f=s[u];(p&&l(f,t)||c.call(e,f))&&d.push(f)}return d}var a=n(33),r=n(34),l=n(35),i=n(31),o=n(36),p=Object.prototype,c=p.hasOwnProperty;e.exports=t},function(e,s,n){function t(e){return r(e)&&a(e)&&i.call(e,"callee")&&!o.call(e,"callee")}var a=n(28),r=n(27),l=Object.prototype,i=l.hasOwnProperty,o=l.propertyIsEnumerable;e.exports=t},function(e,s,n){var t=n(24),a=n(31),r=n(27),l="[object Array]",i=Object.prototype,o=i.toString,p=t(Array,"isArray"),c=p||function(e){return r(e)&&a(e.length)&&o.call(e)==l};e.exports=c},function(e,s){function n(e,s){return e="number"==typeof e||t.test(e)?+e:-1,s=null==s?a:s,e>-1&&e%1==0&&e<s}var t=/^\d+$/,a=9007199254740991;e.exports=n},function(e,s,n){function t(e){if(null==e)return[];o(e)||(e=Object(e));var s=e.length;s=s&&i(s)&&(r(e)||a(e))&&s||0;for(var n=e.constructor,t=-1,p="function"==typeof n&&n.prototype===e,u=Array(s),d=s>0;++t<s;)u[t]=t+"";for(var f in e)d&&l(f,s)||"constructor"==f&&(p||!c.call(e,f))||u.push(f);return u}var a=n(33),r=n(34),l=n(35),i=n(31),o=n(22),p=Object.prototype,c=p.hasOwnProperty;e.exports=t},function(e,s,n){function t(e,s){return function(n,t){var i=n?a(n):0;if(!r(i))return e(n,t);for(var o=s?i:-1,p=l(n);(s?o--:++o<i)&&t(p[o],o,p)!==!1;);return n}}var a=n(29),r=n(31),l=n(21);e.exports=t},function(e,s,n){function t(e,s){return function(n,t,l){return"function"==typeof t&&void 0===l&&r(n)?e(n,t):s(n,a(t,l,3))}}var a=n(39),r=n(34);e.exports=t},function(e,s,n){function t(e,s,n){if("function"!=typeof e)return a;if(void 0===s)return e;switch(n){case 1:return function(n){return e.call(s,n)};case 3:return function(n,t,a){return e.call(s,n,t,a)};case 4:return function(n,t,a,r){return e.call(s,n,t,a,r)};case 5:return function(n,t,a,r,l){return e.call(s,n,t,a,r,l)}}return function(){return e.apply(s,arguments)}}var a=n(40);e.exports=t},function(e,s){function n(e){return e}e.exports=n},function(e,s,n){function t(e,s,n,t){n="function"==typeof n?r(n,t,3):void 0;var l=n?n(e,s):void 0;return void 0===l?a(e,s,n):!!l}var a=n(42),r=n(39);e.exports=t},function(e,s,n){function t(e,s,n,i,o,p){return e===s||(null==e||null==s||!r(e)&&!l(s)?e!==e&&s!==s:a(e,s,t,n,i,o,p))}var a=n(43),r=n(22),l=n(27);e.exports=t},function(e,s,n){function t(e,s,n,t,d,m,g){var y=i(e),j=i(s),v=c,b=c;y||(v=h.call(e),v==p?v=u:v!=u&&(y=o(e))),j||(b=h.call(s),b==p?b=u:b!=u&&(j=o(s)));var w=v==u,x=b==u,k=v==b;if(k&&!y&&!w)return r(e,s,v);if(!d){var _=w&&f.call(e,"__wrapped__"),E=x&&f.call(s,"__wrapped__");if(_||E)return n(_?e.value():e,E?s.value():s,t,d,m,g)}if(!k)return!1;m||(m=[]),g||(g=[]);for(var P=m.length;P--;)if(m[P]==e)return g[P]==s;m.push(e),g.push(s);var O=(y?a:l)(e,s,n,t,d,m,g);return m.pop(),g.pop(),O}var a=n(44),r=n(46),l=n(47),i=n(34),o=n(48),p="[object Arguments]",c="[object Array]",u="[object Object]",d=Object.prototype,f=d.hasOwnProperty,h=d.toString;e.exports=t},function(e,s,n){function t(e,s,n,t,r,l,i){var o=-1,p=e.length,c=s.length;if(p!=c&&!(r&&c>p))return!1;for(;++o<p;){var u=e[o],d=s[o],f=t?t(r?d:u,r?u:d,o):void 0;if(void 0!==f){if(f)continue;return!1}if(r){if(!a(s,function(e){return u===e||n(u,e,t,r,l,i)}))return!1}else if(u!==d&&!n(u,d,t,r,l,i))return!1}return!0}var a=n(45);e.exports=t},function(e,s){function n(e,s){for(var n=-1,t=e.length;++n<t;)if(s(e[n],n,e))return!0;return!1}e.exports=n},function(e,s){function n(e,s,n){switch(n){case t:case a:return+e==+s;case r:return e.name==s.name&&e.message==s.message;case l:return e!=+e?s!=+s:e==+s;case i:case o:return e==s+""}return!1}var t="[object Boolean]",a="[object Date]",r="[object Error]",l="[object Number]",i="[object RegExp]",o="[object String]";e.exports=n},function(e,s,n){function t(e,s,n,t,r,i,o){var p=a(e),c=p.length,u=a(s),d=u.length;if(c!=d&&!r)return!1;for(var f=c;f--;){var h=p[f];if(!(r?h in s:l.call(s,h)))return!1}for(var m=r;++f<c;){h=p[f];var g=e[h],y=s[h],j=t?t(r?y:g,r?g:y,h):void 0;if(!(void 0===j?n(g,y,t,r,i,o):j))return!1;m||(m="constructor"==h)}if(!m){var v=e.constructor,b=s.constructor;if(v!=b&&"constructor"in e&&"constructor"in s&&!("function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b))return!1}return!0}var a=n(23),r=Object.prototype,l=r.hasOwnProperty;e.exports=t},function(e,s,n){function t(e){return r(e)&&a(e.length)&&!!T[A.call(e)]}var a=n(31),r=n(27),l="[object Arguments]",i="[object Array]",o="[object Boolean]",p="[object Date]",c="[object Error]",u="[object Function]",d="[object Map]",f="[object Number]",h="[object Object]",m="[object RegExp]",g="[object Set]",y="[object String]",j="[object WeakMap]",v="[object ArrayBuffer]",b="[object Float32Array]",w="[object Float64Array]",x="[object Int8Array]",k="[object Int16Array]",_="[object Int32Array]",E="[object Uint8Array]",P="[object Uint8ClampedArray]",O="[object Uint16Array]",S="[object Uint32Array]",T={};T[b]=T[w]=T[x]=T[k]=T[_]=T[E]=T[P]=T[O]=T[S]=!0,T[l]=T[i]=T[v]=T[o]=T[p]=T[c]=T[u]=T[d]=T[f]=T[h]=T[m]=T[g]=T[y]=T[j]=!1;var C=Object.prototype,A=C.toString;e.exports=t},function(e,s,n){var t=n(50),a=n(51),r=n(58),l=n(39),i=n(36),o=n(60),p=n(61),c=n(63),u=c(function(e,s){if(null==e)return{};if("function"!=typeof s[0]){var s=t(r(s),String);return o(e,a(i(e),s))}var n=l(s[0],s[1],3);return p(e,function(e,s,t){return!n(e,s,t)})});e.exports=u},function(e,s){function n(e,s){for(var n=-1,t=e.length,a=Array(t);++n<t;)a[n]=s(e[n],n,e);return a}e.exports=n},function(e,s,n){function t(e,s){var n=e?e.length:0,t=[];if(!n)return t;var o=-1,p=a,c=!0,u=c&&s.length>=i?l(s):null,d=s.length;u&&(p=r,c=!1,s=u);e:for(;++o<n;){var f=e[o];if(c&&f===f){for(var h=d;h--;)if(s[h]===f)continue e;t.push(f)}else p(s,f,0)<0&&t.push(f)}return t}var a=n(52),r=n(54),l=n(55),i=200;e.exports=t},function(e,s,n){function t(e,s,n){if(s!==s)return a(e,n);for(var t=n-1,r=e.length;++t<r;)if(e[t]===s)return t;return-1}var a=n(53);e.exports=t},function(e,s){function n(e,s,n){for(var t=e.length,a=s+(n?0:-1);n?a--:++a<t;){var r=e[a];if(r!==r)return a}return-1}e.exports=n},function(e,s,n){function t(e,s){var n=e.data,t="string"==typeof s||a(s)?n.set.has(s):n.hash[s];return t?0:-1}var a=n(22);e.exports=t},function(e,s,n){(function(s){function t(e){return i&&l?new a(e):null}var a=n(56),r=n(24),l=r(s,"Set"),i=r(Object,"create");e.exports=t}).call(s,function(){return this}())},function(e,s,n){(function(s){function t(e){var s=e?e.length:0;for(this.data={"hash":i(null),"set":new l};s--;)this.push(e[s])}var a=n(57),r=n(24),l=r(s,"Set"),i=r(Object,"create");t.prototype.push=a,e.exports=t}).call(s,function(){return this}())},function(e,s,n){function t(e){var s=this.data;"string"==typeof e||a(e)?s.set.add(e):s.hash[e]=!0}var a=n(22);e.exports=t},function(e,s,n){function t(e,s,n,p){p||(p=[]);for(var c=-1,u=e.length;++c<u;){var d=e[c];o(d)&&i(d)&&(n||l(d)||r(d))?s?t(d,s,n,p):a(p,d):n||(p[p.length]=d)}return p}var a=n(59),r=n(33),l=n(34),i=n(28),o=n(27);e.exports=t},function(e,s){function n(e,s){for(var n=-1,t=s.length,a=e.length;++n<t;)e[a+n]=s[n];return e}e.exports=n},function(e,s,n){function t(e,s){e=a(e);for(var n=-1,t=s.length,r={};++n<t;){var l=s[n];l in e&&(r[l]=e[l])}return r}var a=n(21);e.exports=t},function(e,s,n){function t(e,s){var n={};return a(e,function(e,t,a){s(e,t,a)&&(n[t]=e)}),n}var a=n(62);e.exports=t},function(e,s,n){function t(e,s){return a(e,s,r)}var a=n(19),r=n(36);e.exports=t},function(e,s){function n(e,s){if("function"!=typeof e)throw new TypeError(t);return s=a(void 0===s?e.length-1:+s||0,0),function(){for(var n=arguments,t=-1,r=a(n.length-s,0),l=Array(r);++t<r;)l[t]=n[s+t];switch(s){case 0:return e.call(this,l);case 1:return e.call(this,n[0],l);case 2:return e.call(this,n[0],n[1],l)}var i=Array(s+1);for(t=-1;++t<s;)i[t]=n[t];return i[s]=l,e.apply(this,i)}}var t="Expected a function",a=Math.max;e.exports=n},function(e,s,n){e.exports=n(2)(153)},function(e,s,n){if("undefined"==typeof window||"undefined"==typeof navigator||navigator.userAgent.indexOf("Node.js")!==-1||navigator.userAgent.indexOf("jsdom")!==-1){var t=function(){};t.Utilities={},t.Utilities.removeData=function(){},t.velocityReactServerShim=!0,e.exports=t}else{var a=window.jQuery||window.Zepto||window;e.exports=a.Velocity?a.Velocity:n(66)}},function(e,s,n){var t,a;!function(e){"use strict";function s(e){var s=e.length,t=n.type(e);return"function"!==t&&!n.isWindow(e)&&(!(1!==e.nodeType||!s)||("array"===t||0===s||"number"==typeof s&&s>0&&s-1 in e))}if(!e.jQuery){var n=function(e,s){return new n.fn.init(e,s)};n.isWindow=function(e){return e&&e===e.window},n.type=function(e){return e?"object"==typeof e||"function"==typeof e?a[l.call(e)]||"object":typeof e:e+""},n.isArray=Array.isArray||function(e){return"array"===n.type(e)},n.isPlainObject=function(e){var s;if(!e||"object"!==n.type(e)||e.nodeType||n.isWindow(e))return!1;try{if(e.constructor&&!r.call(e,"constructor")&&!r.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}for(s in e);return void 0===s||r.call(e,s)},n.each=function(e,n,t){var a,r=0,l=e.length,i=s(e);if(t){if(i)for(;r<l&&(a=n.apply(e[r],t),a!==!1);r++);else for(r in e)if(e.hasOwnProperty(r)&&(a=n.apply(e[r],t),a===!1))break}else if(i)for(;r<l&&(a=n.call(e[r],r,e[r]),a!==!1);r++);else for(r in e)if(e.hasOwnProperty(r)&&(a=n.call(e[r],r,e[r]),a===!1))break;return e},n.data=function(e,s,a){if(void 0===a){var r=e[n.expando],l=r&&t[r];if(void 0===s)return l;if(l&&s in l)return l[s]}else if(void 0!==s){var i=e[n.expando]||(e[n.expando]=++n.uuid);return t[i]=t[i]||{},t[i][s]=a,a}},n.removeData=function(e,s){var a=e[n.expando],r=a&&t[a];r&&(s?n.each(s,function(e,s){delete r[s]}):delete t[a])},n.extend=function(){var e,s,t,a,r,l,i=arguments[0]||{},o=1,p=arguments.length,c=!1;for("boolean"==typeof i&&(c=i,i=arguments[o]||{},o++),"object"!=typeof i&&"function"!==n.type(i)&&(i={}),o===p&&(i=this,o--);o<p;o++)if(r=arguments[o])for(a in r)r.hasOwnProperty(a)&&(e=i[a],t=r[a],i!==t&&(c&&t&&(n.isPlainObject(t)||(s=n.isArray(t)))?(s?(s=!1,l=e&&n.isArray(e)?e:[]):l=e&&n.isPlainObject(e)?e:{},i[a]=n.extend(c,l,t)):void 0!==t&&(i[a]=t)));return i},n.queue=function(e,t,a){function r(e,n){var t=n||[];return e&&(s(Object(e))?!function(e,s){for(var n=+s.length,t=0,a=e.length;t<n;)e[a++]=s[t++];if(n!==n)for(;void 0!==s[t];)e[a++]=s[t++];return e.length=a,e}(t,"string"==typeof e?[e]:e):[].push.call(t,e)),t}if(e){t=(t||"fx")+"queue";var l=n.data(e,t);return a?(!l||n.isArray(a)?l=n.data(e,t,r(a)):l.push(a),l):l||[]}},n.dequeue=function(e,s){n.each(e.nodeType?[e]:e,function(e,t){s=s||"fx";var a=n.queue(t,s),r=a.shift();"inprogress"===r&&(r=a.shift()),r&&("fx"===s&&a.unshift("inprogress"),r.call(t,function(){n.dequeue(t,s)}))})},n.fn=n.prototype={"init":function(e){if(e.nodeType)return this[0]=e,this;throw new Error("Not a DOM node.")},"offset":function(){var s=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{"top":0,"left":0};return{"top":s.top+(e.pageYOffset||document.scrollTop||0)-(document.clientTop||0),"left":s.left+(e.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},"position":function(){function e(e){for(var s=e.offsetParent;s&&"html"!==s.nodeName.toLowerCase()&&s.style&&"static"===s.style.position.toLowerCase();)s=s.offsetParent;return s||document}var s=this[0],t=e(s),a=this.offset(),r=/^(?:body|html)$/i.test(t.nodeName)?{"top":0,"left":0}:n(t).offset();return a.top-=parseFloat(s.style.marginTop)||0,a.left-=parseFloat(s.style.marginLeft)||0,t.style&&(r.top+=parseFloat(t.style.borderTopWidth)||0,r.left+=parseFloat(t.style.borderLeftWidth)||0),{"top":a.top-r.top,"left":a.left-r.left}}};var t={};n.expando="velocity"+(new Date).getTime(),n.uuid=0;for(var a={},r=a.hasOwnProperty,l=a.toString,i="Boolean Number String Function Array Date RegExp Object Error".split(" "),o=0;o<i.length;o++)a["[object "+i[o]+"]"]=i[o].toLowerCase();n.fn.init.prototype=n.fn,e.Velocity={"Utilities":n}}}(window),function(r){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=r():(t=r,a="function"==typeof t?t.call(s,n,s,e):t,!(void 0!==a&&(e.exports=a)))}(function(){"use strict";return function(e,s,n,t){function a(e){for(var s=-1,n=e?e.length:0,t=[];++s<n;){var a=e[s];a&&t.push(a)}return t}function r(e){return b.isWrapped(e)?e=j.call(e):b.isNode(e)&&(e=[e]),e}function l(e){var s=h.data(e,"velocity");return null===s?t:s}function i(e,s){var n=l(e);n&&n.delayTimer&&!n.delayPaused&&(n.delayRemaining=n.delay-s+n.delayBegin,n.delayPaused=!0,clearTimeout(n.delayTimer.setTimeout))}function o(e,s){var n=l(e);n&&n.delayTimer&&n.delayPaused&&(n.delayPaused=!1,n.delayTimer.setTimeout=setTimeout(n.delayTimer.next,n.delayRemaining))}function p(e){return function(s){return Math.round(s*e)*(1/e)}}function c(e,n,t,a){function r(e,s){return 1-3*s+3*e}function l(e,s){return 3*s-6*e}function i(e){return 3*e}function o(e,s,n){return((r(s,n)*e+l(s,n))*e+i(s))*e}function p(e,s,n){return 3*r(s,n)*e*e+2*l(s,n)*e+i(s)}function c(s,n){for(var a=0;a<m;++a){var r=p(n,e,t);if(0===r)return n;var l=o(n,e,t)-s;n-=l/r}return n}function u(){for(var s=0;s<v;++s)k[s]=o(s*b,e,t)}function d(s,n,a){var r,l,i=0;do l=n+(a-n)/2,r=o(l,e,t)-s,r>0?a=l:n=l;while(Math.abs(r)>y&&++i<j);return l}function f(s){for(var n=0,a=1,r=v-1;a!==r&&k[a]<=s;++a)n+=b;--a;var l=(s-k[a])/(k[a+1]-k[a]),i=n+l*b,o=p(i,e,t);return o>=g?c(s,i):0===o?i:d(s,n,n+b)}function h(){_=!0,e===n&&t===a||u()}var m=4,g=.001,y=1e-7,j=10,v=11,b=1/(v-1),w="Float32Array"in s;if(4!==arguments.length)return!1;for(var x=0;x<4;++x)if("number"!=typeof arguments[x]||isNaN(arguments[x])||!isFinite(arguments[x]))return!1;e=Math.min(e,1),t=Math.min(t,1),e=Math.max(e,0),t=Math.max(t,0);var k=w?new Float32Array(v):new Array(v),_=!1,E=function(s){return _||h(),e===n&&t===a?s:0===s?0:1===s?1:o(f(s),n,a)};E.getControlPoints=function(){return[{"x":e,"y":n},{"x":t,"y":a}]};var P="generateBezier("+[e,n,t,a]+")";return E.toString=function(){return P},E}function u(e,s){var n=e;return b.isString(e)?_.Easings[e]||(n=!1):n=b.isArray(e)&&1===e.length?p.apply(null,e):b.isArray(e)&&2===e.length?E.apply(null,e.concat([s])):!(!b.isArray(e)||4!==e.length)&&c.apply(null,e),n===!1&&(n=_.Easings[_.defaults.easing]?_.defaults.easing:k),n}function d(e){if(e){var s=_.timestamp&&e!==!0?e:y.now(),n=_.State.calls.length;n>1e4&&(_.State.calls=a(_.State.calls),n=_.State.calls.length);for(var r=0;r<n;r++)if(_.State.calls[r]){var i=_.State.calls[r],o=i[0],p=i[2],c=i[3],u=!c,g=null,j=i[5],v=i[6];if(c||(c=_.State.calls[r][3]=s-16),j){if(j.resume!==!0)continue;c=i[3]=Math.round(s-v-16),i[5]=null}v=i[6]=s-c;for(var w=Math.min(v/p.duration,1),x=0,k=o.length;x<k;x++){var E=o[x],O=E.element;if(l(O)){var T=!1;if(p.display!==t&&null!==p.display&&"none"!==p.display){if("flex"===p.display){var C=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];h.each(C,function(e,s){P.setPropertyValue(O,"display",s)})}P.setPropertyValue(O,"display",p.display)}p.visibility!==t&&"hidden"!==p.visibility&&P.setPropertyValue(O,"visibility",p.visibility);for(var A in E)if(E.hasOwnProperty(A)&&"element"!==A){var D,N=E[A],R=b.isString(N.easing)?_.Easings[N.easing]:N.easing;if(b.isString(N.pattern)){var M=1===w?function(e,s,n){var t=N.endValue[s];return n?Math.round(t):t}:function(e,s,n){var t=N.startValue[s],a=N.endValue[s]-t,r=t+a*R(w,p,a);return n?Math.round(r):r};D=N.pattern.replace(/{(\d+)(!)?}/g,M)}else if(1===w)D=N.endValue;else{var F=N.endValue-N.startValue;D=N.startValue+F*R(w,p,F)}if(!u&&D===N.currentValue)continue;if(N.currentValue=D,"tween"===A)g=D;else{var V;if(P.Hooks.registered[A]){V=P.Hooks.getRoot(A);var L=l(O).rootPropertyValueCache[V];L&&(N.rootPropertyValue=L)}var q=P.setPropertyValue(O,A,N.currentValue+(m<9&&0===parseFloat(D)?"":N.unitType),N.rootPropertyValue,N.scrollData);P.Hooks.registered[A]&&(P.Normalizations.registered[V]?l(O).rootPropertyValueCache[V]=P.Normalizations.registered[V]("extract",null,q[1]):l(O).rootPropertyValueCache[V]=q[1]),"transform"===q[0]&&(T=!0)}}p.mobileHA&&l(O).transformCache.translate3d===t&&(l(O).transformCache.translate3d="(0px, 0px, 0px)",T=!0),T&&P.flushTransformCache(O)}}p.display!==t&&"none"!==p.display&&(_.State.calls[r][2].display=!1),p.visibility!==t&&"hidden"!==p.visibility&&(_.State.calls[r][2].visibility=!1),p.progress&&p.progress.call(i[1],i[1],w,Math.max(0,c+p.duration-s),c,g),1===w&&f(r)}}_.State.isTicking&&S(d)}function f(e,s){if(!_.State.calls[e])return!1;for(var n=_.State.calls[e][0],a=_.State.calls[e][1],r=_.State.calls[e][2],i=_.State.calls[e][4],o=!1,p=0,c=n.length;p<c;p++){var u=n[p].element;s||r.loop||("none"===r.display&&P.setPropertyValue(u,"display",r.display),"hidden"===r.visibility&&P.setPropertyValue(u,"visibility",r.visibility));var d=l(u);if(r.loop!==!0&&(h.queue(u)[1]===t||!/\.velocityQueueEntryFlag/i.test(h.queue(u)[1]))&&d){d.isAnimating=!1,d.rootPropertyValueCache={};var f=!1;h.each(P.Lists.transforms3D,function(e,s){var n=/^scale/.test(s)?1:0,a=d.transformCache[s];d.transformCache[s]!==t&&new RegExp("^\\("+n+"[^.]").test(a)&&(f=!0,delete d.transformCache[s])}),r.mobileHA&&(f=!0,delete d.transformCache.translate3d),f&&P.flushTransformCache(u),P.Values.removeClass(u,"velocity-animating")}if(!s&&r.complete&&!r.loop&&p===c-1)try{r.complete.call(a,a)}catch(m){setTimeout(function(){throw m},1)}i&&r.loop!==!0&&i(a),d&&r.loop===!0&&!s&&(h.each(d.tweensContainer,function(e,s){if(/^rotate/.test(e)&&(parseFloat(s.startValue)-parseFloat(s.endValue))%360===0){var n=s.startValue;s.startValue=s.endValue,s.endValue=n}/^backgroundPosition/.test(e)&&100===parseFloat(s.endValue)&&"%"===s.unitType&&(s.endValue=0,s.startValue=100)}),_(u,"reverse",{"loop":!0,"delay":r.delay})),r.queue!==!1&&h.dequeue(u,r.queue)}_.State.calls[e]=!1;for(var g=0,y=_.State.calls.length;g<y;g++)if(_.State.calls[g]!==!1){o=!0;break}o===!1&&(_.State.isTicking=!1,delete _.State.calls,_.State.calls=[])}var h,m=function(){if(n.documentMode)return n.documentMode;for(var e=7;e>4;e--){var s=n.createElement("div");if(s.innerHTML="<!--[if IE "+e+"]><span></span><![endif]-->",s.getElementsByTagName("span").length)return s=null,e}return t}(),g=function(){var e=0;return s.webkitRequestAnimationFrame||s.mozRequestAnimationFrame||function(s){var n,t=(new Date).getTime();return n=Math.max(0,16-(t-e)),e=t+n,setTimeout(function(){s(t+n)},n)}}(),y=function(){var e=s.performance||{};if("function"!=typeof e.now){var n=e.timing&&e.timing.navigationStart?e.timing.navigationStart:(new Date).getTime();e.now=function(){return(new Date).getTime()-n}}return e}(),j=function(){var e=Array.prototype.slice;try{return e.call(n.documentElement),e}catch(s){return function(s,n){var t=this.length;if("number"!=typeof s&&(s=0),"number"!=typeof n&&(n=t),this.slice)return e.call(this,s,n);var a,r=[],l=s>=0?s:Math.max(0,t+s),i=n<0?t+n:Math.min(n,t),o=i-l;if(o>0)if(r=new Array(o),this.charAt)for(a=0;a<o;a++)r[a]=this.charAt(l+a);else for(a=0;a<o;a++)r[a]=this[l+a];return r}}}(),v=function(){return Array.prototype.includes?function(e,s){return e.includes(s)}:Array.prototype.indexOf?function(e,s){return e.indexOf(s)>=0}:function(e,s){for(var n=0;n<e.length;n++)if(e[n]===s)return!0;return!1}},b={"isNumber":function(e){return"number"==typeof e},"isString":function(e){return"string"==typeof e},"isArray":Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},"isFunction":function(e){return"[object Function]"===Object.prototype.toString.call(e)},"isNode":function(e){return e&&e.nodeType},"isWrapped":function(e){return e&&e!==s&&b.isNumber(e.length)&&!b.isString(e)&&!b.isFunction(e)&&!b.isNode(e)&&(0===e.length||b.isNode(e[0]))},"isSVG":function(e){return s.SVGElement&&e instanceof s.SVGElement},"isEmptyObject":function(e){for(var s in e)if(e.hasOwnProperty(s))return!1;return!0}},w=!1;if(e.fn&&e.fn.jquery?(h=e,w=!0):h=s.Velocity.Utilities,m<=8&&!w)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(m<=7)return void(jQuery.fn.velocity=jQuery.fn.animate);var x=400,k="swing",_={"State":{"isMobile":/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(s.navigator.userAgent),"isAndroid":/Android/i.test(s.navigator.userAgent),"isGingerbread":/Android 2\.3\.[3-7]/i.test(s.navigator.userAgent),"isChrome":s.chrome,"isFirefox":/Firefox/i.test(s.navigator.userAgent),"prefixElement":n.createElement("div"),"prefixMatches":{},"scrollAnchor":null,"scrollPropertyLeft":null,"scrollPropertyTop":null,"isTicking":!1,"calls":[],"delayedElements":{"count":0}},"CSS":{},"Utilities":h,"Redirects":{},"Easings":{},"Promise":s.Promise,"defaults":{"queue":"","duration":x,"easing":k,"begin":t,"complete":t,"progress":t,"display":t,"visibility":t,"loop":!1,"delay":!1,"mobileHA":!0,"_cacheValues":!0,"promiseRejectEmpty":!0},"init":function(e){h.data(e,"velocity",{"isSVG":b.isSVG(e),"isAnimating":!1,"computedStyle":null,"tweensContainer":null,"rootPropertyValueCache":{},"transformCache":{}})},"hook":null,"mock":!1,"version":{"major":1,"minor":5,"patch":1},"debug":!1,"timestamp":!0,"pauseAll":function(e){var s=(new Date).getTime();h.each(_.State.calls,function(s,n){if(n){if(e!==t&&(n[2].queue!==e||n[2].queue===!1))return!0;n[5]={"resume":!1}}}),h.each(_.State.delayedElements,function(e,n){n&&i(n,s)})},"resumeAll":function(e){var s=(new Date).getTime();h.each(_.State.calls,function(s,n){if(n){if(e!==t&&(n[2].queue!==e||n[2].queue===!1))return!0;n[5]&&(n[5].resume=!0)}}),h.each(_.State.delayedElements,function(e,n){n&&o(n,s)})}};s.pageYOffset!==t?(_.State.scrollAnchor=s,_.State.scrollPropertyLeft="pageXOffset",_.State.scrollPropertyTop="pageYOffset"):(_.State.scrollAnchor=n.documentElement||n.body.parentNode||n.body,_.State.scrollPropertyLeft="scrollLeft",_.State.scrollPropertyTop="scrollTop");var E=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function s(s,n,t){var a={"x":s.x+t.dx*n,"v":s.v+t.dv*n,"tension":s.tension,"friction":s.friction};return{"dx":a.v,"dv":e(a)}}function n(n,t){var a={"dx":n.v,"dv":e(n)},r=s(n,.5*t,a),l=s(n,.5*t,r),i=s(n,t,l),o=1/6*(a.dx+2*(r.dx+l.dx)+i.dx),p=1/6*(a.dv+2*(r.dv+l.dv)+i.dv);return n.x=n.x+o*t,n.v=n.v+p*t,n}return function t(e,s,a){var r,l,i,o={"x":-1,"v":0,"tension":null,"friction":null},p=[0],c=0,u=1e-4,d=.016;for(e=parseFloat(e)||500,s=parseFloat(s)||20,a=a||null,o.tension=e,o.friction=s,r=null!==a,r?(c=t(e,s),l=c/a*d):l=d;;)if(i=n(i||o,l),p.push(1+i.x),c+=16,!(Math.abs(i.x)>u&&Math.abs(i.v)>u))break;return r?function(e){return p[e*(p.length-1)|0]}:c}}();_.Easings={"linear":function(e){return e},"swing":function(e){return.5-Math.cos(e*Math.PI)/2},"spring":function(e){return 1-Math.cos(4.5*e*Math.PI)*Math.exp(6*-e)}},h.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(e,s){
_.Easings[s[0]]=c.apply(null,s[1])});var P=_.CSS={"RegEx":{"isHex":/^#([A-f\d]{3}){1,2}$/i,"valueUnwrap":/^[A-z]+\((.*)\)$/i,"wrappedValueAlreadyExtracted":/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,"valueSplit":/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},"Lists":{"colors":["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],"transformsBase":["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],"transforms3D":["transformPerspective","translateZ","scaleZ","rotateX","rotateY"],"units":["%","em","ex","ch","rem","vw","vh","vmin","vmax","cm","mm","Q","in","pc","pt","px","deg","grad","rad","turn","s","ms"],"colorNames":{"aliceblue":"240,248,255","antiquewhite":"250,235,215","aquamarine":"127,255,212","aqua":"0,255,255","azure":"240,255,255","beige":"245,245,220","bisque":"255,228,196","black":"0,0,0","blanchedalmond":"255,235,205","blueviolet":"138,43,226","blue":"0,0,255","brown":"165,42,42","burlywood":"222,184,135","cadetblue":"95,158,160","chartreuse":"127,255,0","chocolate":"210,105,30","coral":"255,127,80","cornflowerblue":"100,149,237","cornsilk":"255,248,220","crimson":"220,20,60","cyan":"0,255,255","darkblue":"0,0,139","darkcyan":"0,139,139","darkgoldenrod":"184,134,11","darkgray":"169,169,169","darkgrey":"169,169,169","darkgreen":"0,100,0","darkkhaki":"189,183,107","darkmagenta":"139,0,139","darkolivegreen":"85,107,47","darkorange":"255,140,0","darkorchid":"153,50,204","darkred":"139,0,0","darksalmon":"233,150,122","darkseagreen":"143,188,143","darkslateblue":"72,61,139","darkslategray":"47,79,79","darkturquoise":"0,206,209","darkviolet":"148,0,211","deeppink":"255,20,147","deepskyblue":"0,191,255","dimgray":"105,105,105","dimgrey":"105,105,105","dodgerblue":"30,144,255","firebrick":"178,34,34","floralwhite":"255,250,240","forestgreen":"34,139,34","fuchsia":"255,0,255","gainsboro":"220,220,220","ghostwhite":"248,248,255","gold":"255,215,0","goldenrod":"218,165,32","gray":"128,128,128","grey":"128,128,128","greenyellow":"173,255,47","green":"0,128,0","honeydew":"240,255,240","hotpink":"255,105,180","indianred":"205,92,92","indigo":"75,0,130","ivory":"255,255,240","khaki":"240,230,140","lavenderblush":"255,240,245","lavender":"230,230,250","lawngreen":"124,252,0","lemonchiffon":"255,250,205","lightblue":"173,216,230","lightcoral":"240,128,128","lightcyan":"224,255,255","lightgoldenrodyellow":"250,250,210","lightgray":"211,211,211","lightgrey":"211,211,211","lightgreen":"144,238,144","lightpink":"255,182,193","lightsalmon":"255,160,122","lightseagreen":"32,178,170","lightskyblue":"135,206,250","lightslategray":"119,136,153","lightsteelblue":"176,196,222","lightyellow":"255,255,224","limegreen":"50,205,50","lime":"0,255,0","linen":"250,240,230","magenta":"255,0,255","maroon":"128,0,0","mediumaquamarine":"102,205,170","mediumblue":"0,0,205","mediumorchid":"186,85,211","mediumpurple":"147,112,219","mediumseagreen":"60,179,113","mediumslateblue":"123,104,238","mediumspringgreen":"0,250,154","mediumturquoise":"72,209,204","mediumvioletred":"199,21,133","midnightblue":"25,25,112","mintcream":"245,255,250","mistyrose":"255,228,225","moccasin":"255,228,181","navajowhite":"255,222,173","navy":"0,0,128","oldlace":"253,245,230","olivedrab":"107,142,35","olive":"128,128,0","orangered":"255,69,0","orange":"255,165,0","orchid":"218,112,214","palegoldenrod":"238,232,170","palegreen":"152,251,152","paleturquoise":"175,238,238","palevioletred":"219,112,147","papayawhip":"255,239,213","peachpuff":"255,218,185","peru":"205,133,63","pink":"255,192,203","plum":"221,160,221","powderblue":"176,224,230","purple":"128,0,128","red":"255,0,0","rosybrown":"188,143,143","royalblue":"65,105,225","saddlebrown":"139,69,19","salmon":"250,128,114","sandybrown":"244,164,96","seagreen":"46,139,87","seashell":"255,245,238","sienna":"160,82,45","silver":"192,192,192","skyblue":"135,206,235","slateblue":"106,90,205","slategray":"112,128,144","snow":"255,250,250","springgreen":"0,255,127","steelblue":"70,130,180","tan":"210,180,140","teal":"0,128,128","thistle":"216,191,216","tomato":"255,99,71","turquoise":"64,224,208","violet":"238,130,238","wheat":"245,222,179","whitesmoke":"245,245,245","white":"255,255,255","yellowgreen":"154,205,50","yellow":"255,255,0"}},"Hooks":{"templates":{"textShadow":["Color X Y Blur","black 0px 0px 0px"],"boxShadow":["Color X Y Blur Spread","black 0px 0px 0px 0px"],"clip":["Top Right Bottom Left","0px 0px 0px 0px"],"backgroundPosition":["X Y","0% 0%"],"transformOrigin":["X Y Z","50% 50% 0px"],"perspectiveOrigin":["X Y","50% 50%"]},"registered":{},"register":function(){for(var e=0;e<P.Lists.colors.length;e++){var s="color"===P.Lists.colors[e]?"0 0 0 1":"255 255 255 1";P.Hooks.templates[P.Lists.colors[e]]=["Red Green Blue Alpha",s]}var n,t,a;if(m)for(n in P.Hooks.templates)if(P.Hooks.templates.hasOwnProperty(n)){t=P.Hooks.templates[n],a=t[0].split(" ");var r=t[1].match(P.RegEx.valueSplit);"Color"===a[0]&&(a.push(a.shift()),r.push(r.shift()),P.Hooks.templates[n]=[a.join(" "),r.join(" ")])}for(n in P.Hooks.templates)if(P.Hooks.templates.hasOwnProperty(n)){t=P.Hooks.templates[n],a=t[0].split(" ");for(var l in a)if(a.hasOwnProperty(l)){var i=n+a[l],o=l;P.Hooks.registered[i]=[n,o]}}},"getRoot":function(e){var s=P.Hooks.registered[e];return s?s[0]:e},"getUnit":function(e,s){var n=(e.substr(s||0,5).match(/^[a-z%]+/)||[])[0]||"";return n&&v(P.Lists.units,n)?n:""},"fixColors":function(e){return e.replace(/(rgba?\(\s*)?(\b[a-z]+\b)/g,function(e,s,n){return P.Lists.colorNames.hasOwnProperty(n)?(s?s:"rgba(")+P.Lists.colorNames[n]+(s?"":",1)"):s+n})},"cleanRootPropertyValue":function(e,s){return P.RegEx.valueUnwrap.test(s)&&(s=s.match(P.RegEx.valueUnwrap)[1]),P.Values.isCSSNullValue(s)&&(s=P.Hooks.templates[e][1]),s},"extractValue":function(e,s){var n=P.Hooks.registered[e];if(n){var t=n[0],a=n[1];return s=P.Hooks.cleanRootPropertyValue(t,s),s.toString().match(P.RegEx.valueSplit)[a]}return s},"injectValue":function(e,s,n){var t=P.Hooks.registered[e];if(t){var a,r,l=t[0],i=t[1];return n=P.Hooks.cleanRootPropertyValue(l,n),a=n.toString().match(P.RegEx.valueSplit),a[i]=s,r=a.join(" ")}return n}},"Normalizations":{"registered":{"clip":function(e,s,n){switch(e){case"name":return"clip";case"extract":var t;return P.RegEx.wrappedValueAlreadyExtracted.test(n)?t=n:(t=n.toString().match(P.RegEx.valueUnwrap),t=t?t[1].replace(/,(\s+)?/g," "):n),t;case"inject":return"rect("+n+")"}},"blur":function(e,s,n){switch(e){case"name":return _.State.isFirefox?"filter":"-webkit-filter";case"extract":var t=parseFloat(n);if(!t&&0!==t){var a=n.toString().match(/blur\(([0-9]+[A-z]+)\)/i);t=a?a[1]:0}return t;case"inject":return parseFloat(n)?"blur("+n+")":"none"}},"opacity":function(e,s,n){if(m<=8)switch(e){case"name":return"filter";case"extract":var t=n.toString().match(/alpha\(opacity=(.*)\)/i);return n=t?t[1]/100:1;case"inject":return s.style.zoom=1,parseFloat(n)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(n),10)+")"}else switch(e){case"name":return"opacity";case"extract":return n;case"inject":return n}}},"register":function(){function e(e,s,n){var t="border-box"===P.getPropertyValue(s,"boxSizing").toString().toLowerCase();if(t===(n||!1)){var a,r,l=0,i="width"===e?["Left","Right"]:["Top","Bottom"],o=["padding"+i[0],"padding"+i[1],"border"+i[0]+"Width","border"+i[1]+"Width"];for(a=0;a<o.length;a++)r=parseFloat(P.getPropertyValue(s,o[a])),isNaN(r)||(l+=r);return n?-l:l}return 0}function s(s,n){return function(t,a,r){switch(t){case"name":return s;case"extract":return parseFloat(r)+e(s,a,n);case"inject":return parseFloat(r)-e(s,a,n)+"px"}}}m&&!(m>9)||_.State.isGingerbread||(P.Lists.transformsBase=P.Lists.transformsBase.concat(P.Lists.transforms3D));for(var n=0;n<P.Lists.transformsBase.length;n++)!function(){var e=P.Lists.transformsBase[n];P.Normalizations.registered[e]=function(s,n,a){switch(s){case"name":return"transform";case"extract":return l(n)===t||l(n).transformCache[e]===t?/^scale/i.test(e)?1:0:l(n).transformCache[e].replace(/[()]/g,"");case"inject":var r=!1;switch(e.substr(0,e.length-1)){case"translate":r=!/(%|px|em|rem|vw|vh|\d)$/i.test(a);break;case"scal":case"scale":_.State.isAndroid&&l(n).transformCache[e]===t&&a<1&&(a=1),r=!/(\d)$/i.test(a);break;case"skew":r=!/(deg|\d)$/i.test(a);break;case"rotate":r=!/(deg|\d)$/i.test(a)}return r||(l(n).transformCache[e]="("+a+")"),l(n).transformCache[e]}}}();for(var a=0;a<P.Lists.colors.length;a++)!function(){var e=P.Lists.colors[a];P.Normalizations.registered[e]=function(s,n,a){switch(s){case"name":return e;case"extract":var r;if(P.RegEx.wrappedValueAlreadyExtracted.test(a))r=a;else{var l,i={"black":"rgb(0, 0, 0)","blue":"rgb(0, 0, 255)","gray":"rgb(128, 128, 128)","green":"rgb(0, 128, 0)","red":"rgb(255, 0, 0)","white":"rgb(255, 255, 255)"};/^[A-z]+$/i.test(a)?l=i[a]!==t?i[a]:i.black:P.RegEx.isHex.test(a)?l="rgb("+P.Values.hexToRgb(a).join(" ")+")":/^rgba?\(/i.test(a)||(l=i.black),r=(l||a).toString().match(P.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return(!m||m>8)&&3===r.split(" ").length&&(r+=" 1"),r;case"inject":return/^rgb/.test(a)?a:(m<=8?4===a.split(" ").length&&(a=a.split(/\s+/).slice(0,3).join(" ")):3===a.split(" ").length&&(a+=" 1"),(m<=8?"rgb":"rgba")+"("+a.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")")}}}();P.Normalizations.registered.innerWidth=s("width",!0),P.Normalizations.registered.innerHeight=s("height",!0),P.Normalizations.registered.outerWidth=s("width"),P.Normalizations.registered.outerHeight=s("height")}},"Names":{"camelCase":function(e){return e.replace(/-(\w)/g,function(e,s){return s.toUpperCase()})},"SVGAttribute":function(e){var s="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(m||_.State.isAndroid&&!_.State.isChrome)&&(s+="|transform"),new RegExp("^("+s+")$","i").test(e)},"prefixCheck":function(e){if(_.State.prefixMatches[e])return[_.State.prefixMatches[e],!0];for(var s=["","Webkit","Moz","ms","O"],n=0,t=s.length;n<t;n++){var a;if(a=0===n?e:s[n]+e.replace(/^\w/,function(e){return e.toUpperCase()}),b.isString(_.State.prefixElement.style[a]))return _.State.prefixMatches[e]=a,[a,!0]}return[e,!1]}},"Values":{"hexToRgb":function(e){var s,n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return e=e.replace(n,function(e,s,n,t){return s+s+n+n+t+t}),s=t.exec(e),s?[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]:[0,0,0]},"isCSSNullValue":function(e){return!e||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(e)},"getUnitType":function(e){return/^(rotate|skew)/i.test(e)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(e)?"":"px"},"getDisplayType":function(e){var s=e&&e.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(s)?"inline":/^(li)$/i.test(s)?"list-item":/^(tr)$/i.test(s)?"table-row":/^(table)$/i.test(s)?"table":/^(tbody)$/i.test(s)?"table-row-group":"block"},"addClass":function(e,s){if(e)if(e.classList)e.classList.add(s);else if(b.isString(e.className))e.className+=(e.className.length?" ":"")+s;else{var n=e.getAttribute(m<=7?"className":"class")||"";e.setAttribute("class",n+(n?" ":"")+s)}},"removeClass":function(e,s){if(e)if(e.classList)e.classList.remove(s);else if(b.isString(e.className))e.className=e.className.toString().replace(new RegExp("(^|\\s)"+s.split(" ").join("|")+"(\\s|$)","gi")," ");else{var n=e.getAttribute(m<=7?"className":"class")||"";e.setAttribute("class",n.replace(new RegExp("(^|s)"+s.split(" ").join("|")+"(s|$)","gi")," "))}}},"getPropertyValue":function(e,n,a,r){function i(e,n){var a=0;if(m<=8)a=h.css(e,n);else{var o=!1;/^(width|height)$/.test(n)&&0===P.getPropertyValue(e,"display")&&(o=!0,P.setPropertyValue(e,"display",P.Values.getDisplayType(e)));var p=function(){o&&P.setPropertyValue(e,"display","none")};if(!r){if("height"===n&&"border-box"!==P.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var c=e.offsetHeight-(parseFloat(P.getPropertyValue(e,"borderTopWidth"))||0)-(parseFloat(P.getPropertyValue(e,"borderBottomWidth"))||0)-(parseFloat(P.getPropertyValue(e,"paddingTop"))||0)-(parseFloat(P.getPropertyValue(e,"paddingBottom"))||0);return p(),c}if("width"===n&&"border-box"!==P.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var u=e.offsetWidth-(parseFloat(P.getPropertyValue(e,"borderLeftWidth"))||0)-(parseFloat(P.getPropertyValue(e,"borderRightWidth"))||0)-(parseFloat(P.getPropertyValue(e,"paddingLeft"))||0)-(parseFloat(P.getPropertyValue(e,"paddingRight"))||0);return p(),u}}var d;d=l(e)===t?s.getComputedStyle(e,null):l(e).computedStyle?l(e).computedStyle:l(e).computedStyle=s.getComputedStyle(e,null),"borderColor"===n&&(n="borderTopColor"),a=9===m&&"filter"===n?d.getPropertyValue(n):d[n],""!==a&&null!==a||(a=e.style[n]),p()}if("auto"===a&&/^(top|right|bottom|left)$/i.test(n)){var f=i(e,"position");("fixed"===f||"absolute"===f&&/top|left/i.test(n))&&(a=h(e).position()[n]+"px")}return a}var o;if(P.Hooks.registered[n]){var p=n,c=P.Hooks.getRoot(p);a===t&&(a=P.getPropertyValue(e,P.Names.prefixCheck(c)[0])),P.Normalizations.registered[c]&&(a=P.Normalizations.registered[c]("extract",e,a)),o=P.Hooks.extractValue(p,a)}else if(P.Normalizations.registered[n]){var u,d;u=P.Normalizations.registered[n]("name",e),"transform"!==u&&(d=i(e,P.Names.prefixCheck(u)[0]),P.Values.isCSSNullValue(d)&&P.Hooks.templates[n]&&(d=P.Hooks.templates[n][1])),o=P.Normalizations.registered[n]("extract",e,d)}if(!/^[\d-]/.test(o)){var f=l(e);if(f&&f.isSVG&&P.Names.SVGAttribute(n))if(/^(height|width)$/i.test(n))try{o=e.getBBox()[n]}catch(g){o=0}else o=e.getAttribute(n);else o=i(e,P.Names.prefixCheck(n)[0])}return P.Values.isCSSNullValue(o)&&(o=0),_.debug>=2&&console.log("Get "+n+": "+o),o},"setPropertyValue":function(e,n,t,a,r){var i=n;if("scroll"===n)r.container?r.container["scroll"+r.direction]=t:"Left"===r.direction?s.scrollTo(t,r.alternateValue):s.scrollTo(r.alternateValue,t);else if(P.Normalizations.registered[n]&&"transform"===P.Normalizations.registered[n]("name",e))P.Normalizations.registered[n]("inject",e,t),i="transform",t=l(e).transformCache[n];else{if(P.Hooks.registered[n]){var o=n,p=P.Hooks.getRoot(n);a=a||P.getPropertyValue(e,p),t=P.Hooks.injectValue(o,t,a),n=p}if(P.Normalizations.registered[n]&&(t=P.Normalizations.registered[n]("inject",e,t),n=P.Normalizations.registered[n]("name",e)),i=P.Names.prefixCheck(n)[0],m<=8)try{e.style[i]=t}catch(c){_.debug&&console.log("Browser does not support ["+t+"] for ["+i+"]")}else{var u=l(e);u&&u.isSVG&&P.Names.SVGAttribute(n)?e.setAttribute(n,t):e.style[i]=t}_.debug>=2&&console.log("Set "+n+" ("+i+"): "+t)}return[i,t]},"flushTransformCache":function(e){var s="",n=l(e);if((m||_.State.isAndroid&&!_.State.isChrome)&&n&&n.isSVG){var t=function(s){return parseFloat(P.getPropertyValue(e,s))},a={"translate":[t("translateX"),t("translateY")],"skewX":[t("skewX")],"skewY":[t("skewY")],"scale":1!==t("scale")?[t("scale"),t("scale")]:[t("scaleX"),t("scaleY")],"rotate":[t("rotateZ"),0,0]};h.each(l(e).transformCache,function(e){/^translate/i.test(e)?e="translate":/^scale/i.test(e)?e="scale":/^rotate/i.test(e)&&(e="rotate"),a[e]&&(s+=e+"("+a[e].join(" ")+") ",delete a[e])})}else{var r,i;h.each(l(e).transformCache,function(n){return r=l(e).transformCache[n],"transformPerspective"===n?(i=r,!0):(9===m&&"rotateZ"===n&&(n="rotate"),void(s+=n+r+" "))}),i&&(s="perspective"+i+" "+s)}P.setPropertyValue(e,"transform",s)}};P.Hooks.register(),P.Normalizations.register(),_.hook=function(e,s,n){var a;return e=r(e),h.each(e,function(e,r){if(l(r)===t&&_.init(r),n===t)a===t&&(a=P.getPropertyValue(r,s));else{var i=P.setPropertyValue(r,s,n);"transform"===i[0]&&_.CSS.flushTransformCache(r),a=i}}),a};var O=function(){function e(){return c?E.promise||null:m}function a(e,a){function r(r){var c,f;if(o.begin&&0===T)try{o.begin.call(y,y)}catch(m){setTimeout(function(){throw m},1)}if("scroll"===D){var g,x,k,O=/^x$/i.test(o.axis)?"Left":"Top",C=parseFloat(o.offset)||0;o.container?b.isWrapped(o.container)||b.isNode(o.container)?(o.container=o.container[0]||o.container,g=o.container["scroll"+O],k=g+h(e).position()[O.toLowerCase()]+C):o.container=null:(g=_.State.scrollAnchor[_.State["scrollProperty"+O]],x=_.State.scrollAnchor[_.State["scrollProperty"+("Left"===O?"Top":"Left")]],k=h(e).offset()[O.toLowerCase()]+C),p={"scroll":{"rootPropertyValue":!1,"startValue":g,"currentValue":g,"endValue":k,"unitType":"","easing":o.easing,"scrollData":{"container":o.container,"direction":O,"alternateValue":x}},"element":e},_.debug&&console.log("tweensContainer (scroll): ",p.scroll,e)}else if("reverse"===D){if(c=l(e),!c)return;if(!c.tweensContainer)return void h.dequeue(e,o.queue);"none"===c.opts.display&&(c.opts.display="auto"),"hidden"===c.opts.visibility&&(c.opts.visibility="visible"),c.opts.loop=!1,c.opts.begin=null,c.opts.complete=null,w.easing||delete o.easing,w.duration||delete o.duration,o=h.extend({},c.opts,o),f=h.extend(!0,{},c?c.tweensContainer:null);for(var A in f)if(f.hasOwnProperty(A)&&"element"!==A){var N=f[A].startValue;f[A].startValue=f[A].currentValue=f[A].endValue,f[A].endValue=N,b.isEmptyObject(w)||(f[A].easing=o.easing),_.debug&&console.log("reverse tweensContainer ("+A+"): "+JSON.stringify(f[A]),e)}p=f}else if("start"===D){c=l(e),c&&c.tweensContainer&&c.isAnimating===!0&&(f=c.tweensContainer);var R=function(s,n){var t,r,l;return b.isFunction(s)&&(s=s.call(e,a,S)),b.isArray(s)?(t=s[0],!b.isArray(s[1])&&/^[\d-]/.test(s[1])||b.isFunction(s[1])||P.RegEx.isHex.test(s[1])?l=s[1]:b.isString(s[1])&&!P.RegEx.isHex.test(s[1])&&_.Easings[s[1]]||b.isArray(s[1])?(r=n?s[1]:u(s[1],o.duration),l=s[2]):l=s[1]||s[2]):t=s,n||(r=r||o.easing),b.isFunction(t)&&(t=t.call(e,a,S)),b.isFunction(l)&&(l=l.call(e,a,S)),[t||0,r,l]},M=function(a,r){var l,u=P.Hooks.getRoot(a),d=!1,m=r[0],g=r[1],y=r[2];if(!(c&&c.isSVG||"tween"===u||P.Names.prefixCheck(u)[1]!==!1||P.Normalizations.registered[u]!==t))return void(_.debug&&console.log("Skipping ["+u+"] due to a lack of browser support."));(o.display!==t&&null!==o.display&&"none"!==o.display||o.visibility!==t&&"hidden"!==o.visibility)&&/opacity|filter/.test(a)&&!y&&0!==m&&(y=0),o._cacheValues&&f&&f[a]?(y===t&&(y=f[a].endValue+f[a].unitType),d=c.rootPropertyValueCache[u]):P.Hooks.registered[a]?y===t?(d=P.getPropertyValue(e,u),y=P.getPropertyValue(e,a,d)):d=P.Hooks.templates[u][1]:y===t&&(y=P.getPropertyValue(e,a));var j,v,w,x=!1,k=function(e,s){var n,t;return t=(s||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(e){return n=e,""}),n||(n=P.Values.getUnitType(e)),[t,n]};if(y!==m&&b.isString(y)&&b.isString(m)){l="";var E=0,O=0,S=[],T=[],C=0,A=0,D=0;for(y=P.Hooks.fixColors(y),m=P.Hooks.fixColors(m);E<y.length&&O<m.length;){var N=y[E],R=m[O];if(/[\d\.-]/.test(N)&&/[\d\.-]/.test(R)){for(var M=N,F=R,V=".",q=".";++E<y.length;){if(N=y[E],N===V)V="..";else if(!/\d/.test(N))break;M+=N}for(;++O<m.length;){if(R=m[O],R===q)q="..";else if(!/\d/.test(R))break;F+=R}var I=P.Hooks.getUnit(y,E),X=P.Hooks.getUnit(m,O);if(E+=I.length,O+=X.length,I===X)M===F?l+=M+I:(l+="{"+S.length+(A?"!":"")+"}"+I,S.push(parseFloat(M)),T.push(parseFloat(F)));else{var Y=parseFloat(M),H=parseFloat(F);l+=(C<5?"calc":"")+"("+(Y?"{"+S.length+(A?"!":"")+"}":"0")+I+" + "+(H?"{"+(S.length+(Y?1:0))+(A?"!":"")+"}":"0")+X+")",Y&&(S.push(Y),T.push(0)),H&&(S.push(0),T.push(H))}}else{if(N!==R){C=0;break}l+=N,E++,O++,0===C&&"c"===N||1===C&&"a"===N||2===C&&"l"===N||3===C&&"c"===N||C>=4&&"("===N?C++:(C&&C<5||C>=4&&")"===N&&--C<5)&&(C=0),0===A&&"r"===N||1===A&&"g"===N||2===A&&"b"===N||3===A&&"a"===N||A>=3&&"("===N?(3===A&&"a"===N&&(D=1),A++):D&&","===N?++D>3&&(A=D=0):(D&&A<(D?5:4)||A>=(D?4:3)&&")"===N&&--A<(D?5:4))&&(A=D=0)}}E===y.length&&O===m.length||(_.debug&&console.error('Trying to pattern match mis-matched strings ["'+m+'", "'+y+'"]'),l=t),l&&(S.length?(_.debug&&console.log('Pattern found "'+l+'" -> ',S,T,"["+y+","+m+"]"),y=S,m=T,v=w=""):l=t)}l||(j=k(a,y),y=j[0],w=j[1],j=k(a,m),m=j[0].replace(/^([+-\/*])=/,function(e,s){return x=s,""}),v=j[1],y=parseFloat(y)||0,m=parseFloat(m)||0,"%"===v&&(/^(fontSize|lineHeight)$/.test(a)?(m/=100,v="em"):/^scale/.test(a)?(m/=100,v=""):/(Red|Green|Blue)$/i.test(a)&&(m=m/100*255,v="")));var U=function(){var t={"myParent":e.parentNode||n.body,"position":P.getPropertyValue(e,"position"),"fontSize":P.getPropertyValue(e,"fontSize")},a=t.position===L.lastPosition&&t.myParent===L.lastParent,r=t.fontSize===L.lastFontSize;L.lastParent=t.myParent,L.lastPosition=t.position,L.lastFontSize=t.fontSize;var l=100,i={};if(r&&a)i.emToPx=L.lastEmToPx,i.percentToPxWidth=L.lastPercentToPxWidth,i.percentToPxHeight=L.lastPercentToPxHeight;else{var o=c&&c.isSVG?n.createElementNS("http://www.w3.org/2000/svg","rect"):n.createElement("div");_.init(o),t.myParent.appendChild(o),h.each(["overflow","overflowX","overflowY"],function(e,s){_.CSS.setPropertyValue(o,s,"hidden")}),_.CSS.setPropertyValue(o,"position",t.position),_.CSS.setPropertyValue(o,"fontSize",t.fontSize),_.CSS.setPropertyValue(o,"boxSizing","content-box"),h.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(e,s){_.CSS.setPropertyValue(o,s,l+"%")}),_.CSS.setPropertyValue(o,"paddingLeft",l+"em"),i.percentToPxWidth=L.lastPercentToPxWidth=(parseFloat(P.getPropertyValue(o,"width",null,!0))||1)/l,i.percentToPxHeight=L.lastPercentToPxHeight=(parseFloat(P.getPropertyValue(o,"height",null,!0))||1)/l,i.emToPx=L.lastEmToPx=(parseFloat(P.getPropertyValue(o,"paddingLeft"))||1)/l,t.myParent.removeChild(o)}return null===L.remToPx&&(L.remToPx=parseFloat(P.getPropertyValue(n.body,"fontSize"))||16),null===L.vwToPx&&(L.vwToPx=parseFloat(s.innerWidth)/100,L.vhToPx=parseFloat(s.innerHeight)/100),i.remToPx=L.remToPx,i.vwToPx=L.vwToPx,i.vhToPx=L.vhToPx,_.debug>=1&&console.log("Unit ratios: "+JSON.stringify(i),e),i};if(/[\/*]/.test(x))v=w;else if(w!==v&&0!==y)if(0===m)v=w;else{i=i||U();var W=/margin|padding|left|right|width|text|word|letter/i.test(a)||/X$/.test(a)||"x"===a?"x":"y";switch(w){case"%":y*="x"===W?i.percentToPxWidth:i.percentToPxHeight;break;case"px":break;default:y*=i[w+"ToPx"]}switch(v){case"%":y*=1/("x"===W?i.percentToPxWidth:i.percentToPxHeight);break;case"px":break;default:y*=1/i[v+"ToPx"]}}switch(x){case"+":m=y+m;break;case"-":m=y-m;break;case"*":m*=y;break;case"/":m=y/m}p[a]={"rootPropertyValue":d,"startValue":y,"currentValue":y,"endValue":m,"unitType":v,"easing":g},l&&(p[a].pattern=l),_.debug&&console.log("tweensContainer ("+a+"): "+JSON.stringify(p[a]),e)};for(var F in j)if(j.hasOwnProperty(F)){var V=P.Names.camelCase(F),I=R(j[F]);if(v(P.Lists.colors,V)){var X=I[0],Y=I[1],H=I[2];if(P.RegEx.isHex.test(X)){for(var U=["Red","Green","Blue"],W=P.Values.hexToRgb(X),z=H?P.Values.hexToRgb(H):t,B=0;B<U.length;B++){var Z=[W[B]];Y&&Z.push(Y),z!==t&&Z.push(z[B]),M(V+U[B],Z)}continue}}M(V,I)}p.element=e}p.element&&(P.Values.addClass(e,"velocity-animating"),q.push(p),c=l(e),c&&(""===o.queue&&(c.tweensContainer=p,c.opts=o),c.isAnimating=!0),T===S-1?(_.State.calls.push([q,y,o,null,E.resolver,null,0]),_.State.isTicking===!1&&(_.State.isTicking=!0,d())):T++)}var i,o=h.extend({},_.defaults,w),p={};switch(l(e)===t&&_.init(e),parseFloat(o.delay)&&o.queue!==!1&&h.queue(e,o.queue,function(s,n){if(n===!0)return!0;_.velocityQueueEntryFlag=!0;var t=_.State.delayedElements.count++;_.State.delayedElements[t]=e;var a=function(e){return function(){_.State.delayedElements[e]=!1,s()}}(t);l(e).delayBegin=(new Date).getTime(),l(e).delay=parseFloat(o.delay),l(e).delayTimer={"setTimeout":setTimeout(s,parseFloat(o.delay)),"next":a}}),o.duration.toString().toLowerCase()){case"fast":o.duration=200;break;case"normal":o.duration=x;break;case"slow":o.duration=600;break;default:o.duration=parseFloat(o.duration)||1}if(_.mock!==!1&&(_.mock===!0?o.duration=o.delay=1:(o.duration*=parseFloat(_.mock)||1,o.delay*=parseFloat(_.mock)||1)),o.easing=u(o.easing,o.duration),o.begin&&!b.isFunction(o.begin)&&(o.begin=null),o.progress&&!b.isFunction(o.progress)&&(o.progress=null),o.complete&&!b.isFunction(o.complete)&&(o.complete=null),o.display!==t&&null!==o.display&&(o.display=o.display.toString().toLowerCase(),"auto"===o.display&&(o.display=_.CSS.Values.getDisplayType(e))),o.visibility!==t&&null!==o.visibility&&(o.visibility=o.visibility.toString().toLowerCase()),o.mobileHA=o.mobileHA&&_.State.isMobile&&!_.State.isGingerbread,o.queue===!1)if(o.delay){var c=_.State.delayedElements.count++;_.State.delayedElements[c]=e;var f=function(e){return function(){_.State.delayedElements[e]=!1,r()}}(c);l(e).delayBegin=(new Date).getTime(),l(e).delay=parseFloat(o.delay),l(e).delayTimer={"setTimeout":setTimeout(r,parseFloat(o.delay)),"next":f}}else r();else h.queue(e,o.queue,function(e,s){return s===!0?(E.promise&&E.resolver(y),!0):(_.velocityQueueEntryFlag=!0,void r(e))});""!==o.queue&&"fx"!==o.queue||"inprogress"===h.queue(e)[0]||h.dequeue(e)}var p,c,m,g,y,j,w,k=arguments[0]&&(arguments[0].p||h.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||b.isString(arguments[0].properties));b.isWrapped(this)?(c=!1,g=0,y=this,m=this):(c=!0,g=1,y=k?arguments[0].elements||arguments[0].e:arguments[0]);var E={"promise":null,"resolver":null,"rejecter":null};if(c&&_.Promise&&(E.promise=new _.Promise(function(e,s){E.resolver=e,E.rejecter=s})),k?(j=arguments[0].properties||arguments[0].p,w=arguments[0].options||arguments[0].o):(j=arguments[g],w=arguments[g+1]),y=r(y),!y)return void(E.promise&&(j&&w&&w.promiseRejectEmpty===!1?E.resolver():E.rejecter()));var S=y.length,T=0;if(!/^(stop|finish|finishAll|pause|resume)$/i.test(j)&&!h.isPlainObject(w)){var C=g+1;w={};for(var A=C;A<arguments.length;A++)b.isArray(arguments[A])||!/^(fast|normal|slow)$/i.test(arguments[A])&&!/^\d/.test(arguments[A])?b.isString(arguments[A])||b.isArray(arguments[A])?w.easing=arguments[A]:b.isFunction(arguments[A])&&(w.complete=arguments[A]):w.duration=arguments[A]}var D;switch(j){case"scroll":D="scroll";break;case"reverse":D="reverse";break;case"pause":var N=(new Date).getTime();return h.each(y,function(e,s){i(s,N)}),h.each(_.State.calls,function(e,s){var n=!1;s&&h.each(s[1],function(e,a){var r=w===t?"":w;return r!==!0&&s[2].queue!==r&&(w!==t||s[2].queue!==!1)||(h.each(y,function(e,t){if(t===a)return s[5]={"resume":!1},n=!0,!1}),!n&&void 0)})}),e();case"resume":return h.each(y,function(e,s){o(s,N)}),h.each(_.State.calls,function(e,s){var n=!1;s&&h.each(s[1],function(e,a){var r=w===t?"":w;return r!==!0&&s[2].queue!==r&&(w!==t||s[2].queue!==!1)||(!s[5]||(h.each(y,function(e,t){if(t===a)return s[5].resume=!0,n=!0,!1}),!n&&void 0))})}),e();case"finish":case"finishAll":case"stop":h.each(y,function(e,s){l(s)&&l(s).delayTimer&&(clearTimeout(l(s).delayTimer.setTimeout),l(s).delayTimer.next&&l(s).delayTimer.next(),delete l(s).delayTimer),"finishAll"!==j||w!==!0&&!b.isString(w)||(h.each(h.queue(s,b.isString(w)?w:""),function(e,s){b.isFunction(s)&&s()}),h.queue(s,b.isString(w)?w:"",[]))});var R=[];return h.each(_.State.calls,function(e,s){s&&h.each(s[1],function(n,a){var r=w===t?"":w;return r!==!0&&s[2].queue!==r&&(w!==t||s[2].queue!==!1)||void h.each(y,function(n,t){if(t===a)if((w===!0||b.isString(w))&&(h.each(h.queue(t,b.isString(w)?w:""),function(e,s){b.isFunction(s)&&s(null,!0)}),h.queue(t,b.isString(w)?w:"",[])),"stop"===j){var i=l(t);i&&i.tweensContainer&&r!==!1&&h.each(i.tweensContainer,function(e,s){s.endValue=s.currentValue}),R.push(e)}else"finish"!==j&&"finishAll"!==j||(s[2].duration=1)})})}),"stop"===j&&(h.each(R,function(e,s){f(s,!0)}),E.promise&&E.resolver(y)),e();default:if(!h.isPlainObject(j)||b.isEmptyObject(j)){if(b.isString(j)&&_.Redirects[j]){p=h.extend({},w);var M=p.duration,F=p.delay||0;return p.backwards===!0&&(y=h.extend(!0,[],y).reverse()),h.each(y,function(e,s){parseFloat(p.stagger)?p.delay=F+parseFloat(p.stagger)*e:b.isFunction(p.stagger)&&(p.delay=F+p.stagger.call(s,e,S)),p.drag&&(p.duration=parseFloat(M)||(/^(callout|transition)/.test(j)?1e3:x),p.duration=Math.max(p.duration*(p.backwards?1-e/S:(e+1)/S),.75*p.duration,200)),_.Redirects[j].call(s,s,p||{},e,S,y,E.promise?E:t)}),e()}var V="Velocity: First argument ("+j+") was not a property map, a known action, or a registered redirect. Aborting.";return E.promise?E.rejecter(new Error(V)):s.console&&console.log(V),e()}D="start"}var L={"lastParent":null,"lastPosition":null,"lastFontSize":null,"lastPercentToPxWidth":null,"lastPercentToPxHeight":null,"lastEmToPx":null,"remToPx":null,"vwToPx":null,"vhToPx":null},q=[];h.each(y,function(e,s){b.isNode(s)&&a(s,e)}),p=h.extend({},_.defaults,w),p.loop=parseInt(p.loop,10);var I=2*p.loop-1;if(p.loop)for(var X=0;X<I;X++){var Y={"delay":p.delay,"progress":p.progress};X===I-1&&(Y.display=p.display,Y.visibility=p.visibility,Y.complete=p.complete),O(y,"reverse",Y)}return e()};_=h.extend(O,_),_.animate=O;var S=s.requestAnimationFrame||g;if(!_.State.isMobile&&n.hidden!==t){var T=function(){n.hidden?(S=function(e){return setTimeout(function(){e(!0)},16)},d()):S=s.requestAnimationFrame||g};T(),n.addEventListener("visibilitychange",T)}return e.Velocity=_,e!==s&&(e.fn.velocity=O,e.fn.velocity.defaults=_.defaults),h.each(["Down","Up"],function(e,s){_.Redirects["slide"+s]=function(e,n,a,r,l,i){var o=h.extend({},n),p=o.begin,c=o.complete,u={},d={"height":"","marginTop":"","marginBottom":"","paddingTop":"","paddingBottom":""};o.display===t&&(o.display="Down"===s?"inline"===_.CSS.Values.getDisplayType(e)?"inline-block":"block":"none"),o.begin=function(){0===a&&p&&p.call(l,l);for(var n in d)if(d.hasOwnProperty(n)){u[n]=e.style[n];var t=P.getPropertyValue(e,n);d[n]="Down"===s?[t,0]:[0,t]}u.overflow=e.style.overflow,e.style.overflow="hidden"},o.complete=function(){for(var s in u)u.hasOwnProperty(s)&&(e.style[s]=u[s]);a===r-1&&(c&&c.call(l,l),i&&i.resolver(l))},_(e,d,o)}}),h.each(["In","Out"],function(e,s){_.Redirects["fade"+s]=function(e,n,a,r,l,i){var o=h.extend({},n),p=o.complete,c={"opacity":"In"===s?1:0};0!==a&&(o.begin=null),a!==r-1?o.complete=null:o.complete=function(){p&&p.call(l,l),i&&i.resolver(l)},o.display===t&&(o.display="In"===s?"auto":"none"),_(this,c,o)}}),_}(window.jQuery||window.Zepto||window,window,window?window.document:void 0)})},function(e,s,n){var t={"each":n(68),"extend":n(69),"forEach":n(15),"isEqual":n(41),"keys":n(23),"omit":n(49),"pluck":n(76)},a=n(1),r=n(64),l=n(94),i=n(65),o="undefined"!=typeof window&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,0)});o="undefined"!=typeof window&&o.bind(window);var p=a.createClass({"displayName":"VelocityTransitionGroupChild","propTypes":{"children":a.PropTypes.element.isRequired,"willAppearFunc":a.PropTypes.func.isRequired,"willEnterFunc":a.PropTypes.func.isRequired,"willLeaveFunc":a.PropTypes.func.isRequired},"componentWillAppear":function(e){this.props.willAppearFunc(r.findDOMNode(this),e)},"componentWillEnter":function(e){this.props.willEnterFunc(r.findDOMNode(this),e)},"componentWillLeave":function(e){this.props.willLeaveFunc(r.findDOMNode(this),e)},"componentWillUnmount":function(){i.Utilities.removeData(r.findDOMNode(this),["velocity","fxqueue"])},"render":function(){return a.Children.only(this.props.children)}}),c=a.createClass({"displayName":"VelocityTransitionGroup","statics":{"disabledForTest":!1},"propTypes":{"runOnMount":a.PropTypes.bool,"enter":a.PropTypes.any,"leave":a.PropTypes.any,"children":a.PropTypes.any,"enterHideStyle":a.PropTypes.object,"enterShowStyle":a.PropTypes.object},"getDefaultProps":function(){return{"runOnMount":!1,"enter":null,"leave":null,"enterHideStyle":{"display":"none"},"enterShowStyle":{"display":""}}},"componentWillMount":function(){this._scheduled=!1,this._entering=[],this._leaving=[]},"componentWillUnmount":function(){this._entering=[],this._leaving=[]},"render":function(){var e=t.omit(this.props,t.keys(this.constructor.propTypes));return this.constructor.disabledForTest||i.velocityReactServerShim||(e.childFactory=this._wrapChild),
a.createElement(l,e,this.props.children)},"childWillAppear":function(e,s){if(this.props.runOnMount)this.childWillEnter(e,s);else{this._finishAnimation(e,this.props.enter);var n=this;window.setTimeout(function(){n.isMounted()&&s()},0)}},"childWillEnter":function(e,s){this._shortCircuitAnimation(this.props.enter,s)||(this._finishAnimation(e,this.props.leave,{"begin":void 0,"complete":void 0}),t.forEach(this.props.enterHideStyle,function(s,n){i.CSS.setPropertyValue(e,n,s)}),this._entering.push({"node":e,"doneFn":s}),this._schedule())},"childWillLeave":function(e,s){this._shortCircuitAnimation(this.props.leave,s)||(this._leaving.push({"node":e,"doneFn":s}),this._schedule())},"_shortCircuitAnimation":function(e,s){return!(!document.hidden&&null!=this._parseAnimationProp(e).animation)&&(this.isMounted()&&s(),!0)},"_schedule":function(){this._scheduled||(this._scheduled=!0,o(this._runAnimations))},"_runAnimations":function(){this._scheduled=!1,this._runAnimation(!0,this._entering,this.props.enter),this._runAnimation(!1,this._leaving,this.props.leave),this._entering=[],this._leaving=[]},"_parseAnimationProp":function(e){var s,n,a;return"string"==typeof e?(s=e,a=null,n={}):(s=null!=e?e.animation:null,a=null!=e?e.style:null,n=t.omit(e,"animation","style")),{"animation":s,"style":a,"opts":n}},"_runAnimation":function(e,s,n){if(this.isMounted()&&0!==s.length){var a=t.pluck(s,"node"),r=t.pluck(s,"doneFn"),l=this._parseAnimationProp(n),p=l.animation,c=l.style,u=l.opts;e&&(t.isEqual(this.props.enterShowStyle,{"display":""})&&(/^(fade|slide)/.test(p)||/In$/.test(p))||(c=t.extend({},this.props.enterShowStyle,c))),null!=c&&t.each(c,function(e,s){i.hook(a,s,e)});var d=this,f=function(){d.isMounted()&&r.map(function(e){e()})};e?(f(),f=null):i(a,"stop");var h;if(f&&u.complete){var m=u.complete;h=function(){f(),m.apply(this,arguments)}}else h=f||u.complete;o(function(){i(a,p,t.extend({},u,{"complete":h}))})}},"_finishAnimation":function(e,s,n){var a=this._parseAnimationProp(s),r=a.animation,l=a.style,o=t.extend({},a.opts,n);null!=l&&t.each(l,function(s,n){i.hook(e,n,s)}),null!=r&&(i(e,r,o),i(e,"finishAll",!0))},"_wrapChild":function(e){return a.createElement(p,{"willAppearFunc":this.childWillAppear,"willEnterFunc":this.childWillEnter,"willLeaveFunc":this.childWillLeave},e)}});e.exports=c},function(e,s,n){e.exports=n(15)},function(e,s,n){e.exports=n(70)},function(e,s,n){var t=n(71),a=n(72),r=n(74),l=r(function(e,s,n){return n?t(e,s,n):a(e,s)});e.exports=l},function(e,s,n){function t(e,s,n){for(var t=-1,r=a(s),l=r.length;++t<l;){var i=r[t],o=e[i],p=n(o,s[i],i,e,s);(p===p?p===o:o!==o)&&(void 0!==o||i in e)||(e[i]=p)}return e}var a=n(23);e.exports=t},function(e,s,n){function t(e,s){return null==s?e:a(s,r(s),e)}var a=n(73),r=n(23);e.exports=t},function(e,s){function n(e,s,n){n||(n={});for(var t=-1,a=s.length;++t<a;){var r=s[t];n[r]=e[r]}return n}e.exports=n},function(e,s,n){function t(e){return l(function(s,n){var t=-1,l=null==s?0:n.length,i=l>2?n[l-2]:void 0,o=l>2?n[2]:void 0,p=l>1?n[l-1]:void 0;for("function"==typeof i?(i=a(i,p,5),l-=2):(i="function"==typeof p?p:void 0,l-=i?1:0),o&&r(n[0],n[1],o)&&(i=l<3?void 0:i,l=1);++t<l;){var c=n[t];c&&e(s,c,i)}return s})}var a=n(39),r=n(75),l=n(63);e.exports=t},function(e,s,n){function t(e,s,n){if(!l(n))return!1;var t=typeof s;if("number"==t?a(n)&&r(s,n.length):"string"==t&&s in n){var i=n[s];return e===e?e===i:i!==i}return!1}var a=n(28),r=n(35),l=n(22);e.exports=t},function(e,s,n){function t(e,s){return a(e,r(s))}var a=n(77),r=n(91);e.exports=t},function(e,s,n){function t(e,s,n){var t=i(e)?a:l;return s=r(s,n,3),t(e,s)}var a=n(50),r=n(78),l=n(93),i=n(34);e.exports=t},function(e,s,n){function t(e,s,n){var t=typeof e;return"function"==t?void 0===s?e:l(e,s,n):null==e?i:"object"==t?a(e):void 0===s?o(e):r(e,s)}var a=n(79),r=n(84),l=n(39),i=n(40),o=n(91);e.exports=t},function(e,s,n){function t(e){var s=r(e);if(1==s.length&&s[0][2]){var n=s[0][0],t=s[0][1];return function(e){return null!=e&&(e[n]===t&&(void 0!==t||n in l(e)))}}return function(e){return a(e,s)}}var a=n(80),r=n(81),l=n(21);e.exports=t},function(e,s,n){function t(e,s,n){var t=s.length,l=t,i=!n;if(null==e)return!l;for(e=r(e);t--;){var o=s[t];if(i&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++t<l;){o=s[t];var p=o[0],c=e[p],u=o[1];if(i&&o[2]){if(void 0===c&&!(p in e))return!1}else{var d=n?n(c,u,p):void 0;if(!(void 0===d?a(u,c,n,!0):d))return!1}}return!0}var a=n(42),r=n(21);e.exports=t},function(e,s,n){function t(e){for(var s=r(e),n=s.length;n--;)s[n][2]=a(s[n][1]);return s}var a=n(82),r=n(83);e.exports=t},function(e,s,n){function t(e){return e===e&&!a(e)}var a=n(22);e.exports=t},function(e,s,n){function t(e){e=r(e);for(var s=-1,n=a(e),t=n.length,l=Array(t);++s<t;){var i=n[s];l[s]=[i,e[i]]}return l}var a=n(23),r=n(21);e.exports=t},function(e,s,n){function t(e,s){var n=i(e),t=o(e)&&p(s),f=e+"";return e=d(e),function(i){if(null==i)return!1;var o=f;if(i=u(i),(n||!t)&&!(o in i)){if(i=1==e.length?i:a(i,l(e,0,-1)),null==i)return!1;o=c(e),i=u(i)}return i[o]===s?void 0!==s||o in i:r(s,i[o],void 0,!0)}}var a=n(85),r=n(42),l=n(86),i=n(34),o=n(87),p=n(82),c=n(88),u=n(21),d=n(89);e.exports=t},function(e,s,n){function t(e,s,n){if(null!=e){void 0!==n&&n in a(e)&&(s=[n]);for(var t=0,r=s.length;null!=e&&t<r;)e=e[s[t++]];return t&&t==r?e:void 0}}var a=n(21);e.exports=t},function(e,s){function n(e,s,n){var t=-1,a=e.length;s=null==s?0:+s||0,s<0&&(s=-s>a?0:a+s),n=void 0===n||n>a?a:+n||0,n<0&&(n+=a),a=s>n?0:n-s>>>0,s>>>=0;for(var r=Array(a);++t<a;)r[t]=e[t+s];return r}e.exports=n},function(e,s,n){function t(e,s){var n=typeof e;if("string"==n&&i.test(e)||"number"==n)return!0;if(a(e))return!1;var t=!l.test(e);return t||null!=s&&e in r(s)}var a=n(34),r=n(21),l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,i=/^\w*$/;e.exports=t},function(e,s){function n(e){var s=e?e.length:0;return s?e[s-1]:void 0}e.exports=n},function(e,s,n){function t(e){if(r(e))return e;var s=[];return a(e).replace(l,function(e,n,t,a){s.push(t?a.replace(i,"$1"):n||e)}),s}var a=n(90),r=n(34),l=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,i=/\\(\\)?/g;e.exports=t},function(e,s){function n(e){return null==e?"":e+""}e.exports=n},function(e,s,n){function t(e){return l(e)?a(e):r(e)}var a=n(30),r=n(92),l=n(87);e.exports=t},function(e,s,n){function t(e){var s=e+"";return e=r(e),function(n){return a(n,e,s)}}var a=n(85),r=n(89);e.exports=t},function(e,s,n){function t(e,s){var n=-1,t=r(e)?Array(e.length):[];return a(e,function(e,a,r){t[++n]=s(e,a,r)}),t}var a=n(17),r=n(28);e.exports=t},function(e,s,n){"use strict";e.exports=n(95)},function(e,s,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function a(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function r(e,s){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!s||"object"!=typeof s&&"function"!=typeof s?e:s}function l(e,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function, not "+typeof s);e.prototype=Object.create(s&&s.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(e,s):e.__proto__=s)}s.__esModule=!0;var i=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},o=n(96),p=t(o),c=n(1),u=t(c),d=n(97),f=t(d),h=n(98),m=(t(h),n(99)),g=({"component":f["default"].any,"childFactory":f["default"].func,"children":f["default"].node},{"component":"span","childFactory":function(e){return e}}),y=function(e){function s(n,t){a(this,s);var l=r(this,e.call(this,n,t));return l.performAppear=function(e,s){l.currentlyTransitioningKeys[e]=!0,s.componentWillAppear?s.componentWillAppear(l._handleDoneAppearing.bind(l,e,s)):l._handleDoneAppearing(e,s)},l._handleDoneAppearing=function(e,s){s.componentDidAppear&&s.componentDidAppear(),delete l.currentlyTransitioningKeys[e];var n=(0,m.getChildMapping)(l.props.children);n&&n.hasOwnProperty(e)||l.performLeave(e,s)},l.performEnter=function(e,s){l.currentlyTransitioningKeys[e]=!0,s.componentWillEnter?s.componentWillEnter(l._handleDoneEntering.bind(l,e,s)):l._handleDoneEntering(e,s)},l._handleDoneEntering=function(e,s){s.componentDidEnter&&s.componentDidEnter(),delete l.currentlyTransitioningKeys[e];var n=(0,m.getChildMapping)(l.props.children);n&&n.hasOwnProperty(e)||l.performLeave(e,s)},l.performLeave=function(e,s){l.currentlyTransitioningKeys[e]=!0,s.componentWillLeave?s.componentWillLeave(l._handleDoneLeaving.bind(l,e,s)):l._handleDoneLeaving(e,s)},l._handleDoneLeaving=function(e,s){s.componentDidLeave&&s.componentDidLeave(),delete l.currentlyTransitioningKeys[e];var n=(0,m.getChildMapping)(l.props.children);n&&n.hasOwnProperty(e)?l.keysToEnter.push(e):l.setState(function(s){var n=i({},s.children);return delete n[e],{"children":n}})},l.childRefs=Object.create(null),l.state={"children":(0,m.getChildMapping)(n.children)},l}return l(s,e),s.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},s.prototype.componentDidMount=function(){var e=this.state.children;for(var s in e)e[s]&&this.performAppear(s,this.childRefs[s])},s.prototype.componentWillReceiveProps=function(e){var s=(0,m.getChildMapping)(e.children),n=this.state.children;this.setState({"children":(0,m.mergeChildMappings)(n,s)});for(var t in s){var a=n&&n.hasOwnProperty(t);!s[t]||a||this.currentlyTransitioningKeys[t]||this.keysToEnter.push(t)}for(var r in n){var l=s&&s.hasOwnProperty(r);!n[r]||l||this.currentlyTransitioningKeys[r]||this.keysToLeave.push(r)}},s.prototype.componentDidUpdate=function(){var e=this,s=this.keysToEnter;this.keysToEnter=[],s.forEach(function(s){return e.performEnter(s,e.childRefs[s])});var n=this.keysToLeave;this.keysToLeave=[],n.forEach(function(s){return e.performLeave(s,e.childRefs[s])})},s.prototype.render=function(){var e=this,s=[],n=function(n){var t=e.state.children[n];if(t){var a="string"!=typeof t.ref,r=e.props.childFactory(t),l=function(s){e.childRefs[n]=s};r===t&&a&&(l=(0,p["default"])(t.ref,l)),s.push(u["default"].cloneElement(r,{"key":n,"ref":l}))}};for(var t in this.state.children)n(t);var a=i({},this.props);return delete a.transitionLeave,delete a.transitionName,delete a.transitionAppear,delete a.transitionEnter,delete a.childFactory,delete a.transitionLeaveTimeout,delete a.transitionEnterTimeout,delete a.transitionAppearTimeout,delete a.component,u["default"].createElement(this.props.component,a,s)},s}(u["default"].Component);y.displayName="TransitionGroup",y.propTypes={},y.defaultProps=g,s["default"]=y,e.exports=s["default"]},function(e,s){e.exports=function(){for(var e=arguments.length,s=[],n=0;n<e;n++)s[n]=arguments[n];if(s=s.filter(function(e){return null!=e}),0!==s.length)return 1===s.length?s[0]:s.reduce(function(e,s){return function(){e.apply(this,arguments),s.apply(this,arguments)}})}},function(e,s,n){e.exports=n(2)(157)},function(e,s,n){e.exports=n(2)(211)},function(e,s,n){"use strict";function t(e){if(!e)return e;var s={};return r.Children.map(e,function(e){return e}).forEach(function(e){s[e.key]=e}),s}function a(e,s){function n(n){return s.hasOwnProperty(n)?s[n]:e[n]}e=e||{},s=s||{};var t={},a=[];for(var r in e)s.hasOwnProperty(r)?a.length&&(t[r]=a,a=[]):a.push(r);var l=void 0,i={};for(var o in s){if(t.hasOwnProperty(o))for(l=0;l<t[o].length;l++){var p=t[o][l];i[t[o][l]]=n(p)}i[o]=n(o)}for(l=0;l<a.length;l++)i[a[l]]=n(a[l]);return i}s.__esModule=!0,s.getChildMapping=t,s.mergeChildMappings=a;var r=n(1)},function(e,s,n){function t(e,s){a.isObject(e)&&(s=e,e="");var n="VelocityHelper.animation."+l++ +e;if(r.velocityReactServerShim)return n;if(void 0===r.RegisterEffect)throw"Velocity.RegisterEffect not found. You need to require 'velocity-animate/velocity.ui' at a top level for UI Pack.";return r.RegisterEffect(n,s),n}var a={"isObject":n(22)},r=n(65),l=0;e.exports={"registerEffect":t}},function(e,s,n){!function(s){"use strict";e.exports=s()}(function(){"use strict";return function(e,s,n,t){function a(e,s){var n=[];return!(!e||!s)&&(l.each([e,s],function(e,s){var t=[];l.each(s,function(e,s){for(;s.toString().length<5;)s="0"+s;t.push(s)}),n.push(t.join(""))}),parseFloat(n[0])>parseFloat(n[1]))}var r=e.Velocity;if(!r||!r.Utilities)return void(s.console&&console.log("Velocity UI Pack: Velocity must be loaded first. Aborting."));var l=r.Utilities,i=r.version,o={"major":1,"minor":1,"patch":0};if(a(o,i)){var p="Velocity UI Pack: You need to update Velocity (velocity.js) to a newer version. Visit http://github.com/julianshapiro/velocity.";throw alert(p),new Error(p)}r.RegisterEffect=r.RegisterUI=function(e,s){function n(e,s,n,t){var a,i=0;l.each(e.nodeType?[e]:e,function(e,s){t&&(n+=e*t),a=s.parentNode;var o=["height","paddingTop","paddingBottom","marginTop","marginBottom"];"border-box"===r.CSS.getPropertyValue(s,"boxSizing").toString().toLowerCase()&&(o=["height"]),l.each(o,function(e,n){i+=parseFloat(r.CSS.getPropertyValue(s,n))})}),r.animate(a,{"height":("In"===s?"+":"-")+"="+i},{"queue":!1,"easing":"ease-in-out","duration":n*("In"===s?.6:1)})}return r.Redirects[e]=function(a,i,o,p,c,u,d){var f=o===p-1,h=0;d=d||s.loop,"function"==typeof s.defaultDuration?s.defaultDuration=s.defaultDuration.call(c,c):s.defaultDuration=parseFloat(s.defaultDuration);for(var m=0;m<s.calls.length;m++)b=s.calls[m][1],"number"==typeof b&&(h+=b);var g=h>=1?0:s.calls.length?(1-h)/s.calls.length:1;for(m=0;m<s.calls.length;m++){var y=s.calls[m],j=y[0],v=1e3,b=y[1],w=y[2]||{},x={};if(i.duration!==t?v=i.duration:s.defaultDuration!==t&&(v=s.defaultDuration),x.duration=v*("number"==typeof b?b:g),x.queue=i.queue||"",x.easing=w.easing||"ease",x.delay=parseFloat(w.delay)||0,x.loop=!s.loop&&w.loop,x._cacheValues=w._cacheValues||!0,0===m){if(x.delay+=parseFloat(i.delay)||0,0===o&&(x.begin=function(){i.begin&&i.begin.call(c,c);var s=e.match(/(In|Out)$/);s&&"In"===s[0]&&j.opacity!==t&&l.each(c.nodeType?[c]:c,function(e,s){r.CSS.setPropertyValue(s,"opacity",0)}),i.animateParentHeight&&s&&n(c,s[0],v+x.delay,i.stagger)}),null!==i.display)if(i.display!==t&&"none"!==i.display)x.display=i.display;else if(/In$/.test(e)){var k=r.CSS.Values.getDisplayType(a);x.display="inline"===k?"inline-block":k}i.visibility&&"hidden"!==i.visibility&&(x.visibility=i.visibility)}if(m===s.calls.length-1){var _=function(){i.display!==t&&"none"!==i.display||!/Out$/.test(e)||l.each(c.nodeType?[c]:c,function(e,s){r.CSS.setPropertyValue(s,"display","none")}),i.complete&&i.complete.call(c,c),u&&u.resolver(c||a)};x.complete=function(){if(d&&r.Redirects[e](a,i,o,p,c,u,d===!0||Math.max(0,d-1)),s.reset){for(var n in s.reset)if(s.reset.hasOwnProperty(n)){var l=s.reset[n];r.CSS.Hooks.registered[n]!==t||"string"!=typeof l&&"number"!=typeof l||(s.reset[n]=[s.reset[n],s.reset[n]])}var h={"duration":0,"queue":!1};f&&(h.complete=_),r.animate(a,s.reset,h)}else f&&_()},"hidden"===i.visibility&&(x.visibility=i.visibility)}r.animate(a,j,x)}},r},r.RegisterEffect.packagedEffects={"callout.bounce":{"defaultDuration":550,"calls":[[{"translateY":-30},.25],[{"translateY":0},.125],[{"translateY":-15},.125],[{"translateY":0},.25]]},"callout.shake":{"defaultDuration":800,"calls":[[{"translateX":-11}],[{"translateX":11}],[{"translateX":-11}],[{"translateX":11}],[{"translateX":-11}],[{"translateX":11}],[{"translateX":-11}],[{"translateX":0}]]},"callout.flash":{"defaultDuration":1100,"calls":[[{"opacity":[0,"easeInOutQuad",1]}],[{"opacity":[1,"easeInOutQuad"]}],[{"opacity":[0,"easeInOutQuad"]}],[{"opacity":[1,"easeInOutQuad"]}]]},"callout.pulse":{"defaultDuration":825,"calls":[[{"scaleX":1.1,"scaleY":1.1},.5,{"easing":"easeInExpo"}],[{"scaleX":1,"scaleY":1},.5]]},"callout.swing":{"defaultDuration":950,"calls":[[{"rotateZ":15}],[{"rotateZ":-10}],[{"rotateZ":5}],[{"rotateZ":-5}],[{"rotateZ":0}]]},"callout.tada":{"defaultDuration":1e3,"calls":[[{"scaleX":.9,"scaleY":.9,"rotateZ":-3},.1],[{"scaleX":1.1,"scaleY":1.1,"rotateZ":3},.1],[{"scaleX":1.1,"scaleY":1.1,"rotateZ":-3},.1],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],[{"scaleX":1,"scaleY":1,"rotateZ":0},.2]]},"transition.fadeIn":{"defaultDuration":500,"calls":[[{"opacity":[1,0]}]]},"transition.fadeOut":{"defaultDuration":500,"calls":[[{"opacity":[0,1]}]]},"transition.flipXIn":{"defaultDuration":700,"calls":[[{"opacity":[1,0],"transformPerspective":[800,800],"rotateY":[0,-55]}]],"reset":{"transformPerspective":0}},"transition.flipXOut":{"defaultDuration":700,"calls":[[{"opacity":[0,1],"transformPerspective":[800,800],"rotateY":55}]],"reset":{"transformPerspective":0,"rotateY":0}},"transition.flipYIn":{"defaultDuration":800,"calls":[[{"opacity":[1,0],"transformPerspective":[800,800],"rotateX":[0,-45]}]],"reset":{"transformPerspective":0}},"transition.flipYOut":{"defaultDuration":800,"calls":[[{"opacity":[0,1],"transformPerspective":[800,800],"rotateX":25}]],"reset":{"transformPerspective":0,"rotateX":0}},"transition.flipBounceXIn":{"defaultDuration":900,"calls":[[{"opacity":[.725,0],"transformPerspective":[400,400],"rotateY":[-10,90]},.5],[{"opacity":.8,"rotateY":10},.25],[{"opacity":1,"rotateY":0},.25]],"reset":{"transformPerspective":0}},"transition.flipBounceXOut":{"defaultDuration":800,"calls":[[{"opacity":[.9,1],"transformPerspective":[400,400],"rotateY":-10}],[{"opacity":0,"rotateY":90}]],"reset":{"transformPerspective":0,"rotateY":0}},"transition.flipBounceYIn":{"defaultDuration":850,"calls":[[{"opacity":[.725,0],"transformPerspective":[400,400],"rotateX":[-10,90]},.5],[{"opacity":.8,"rotateX":10},.25],[{"opacity":1,"rotateX":0},.25]],"reset":{"transformPerspective":0}},"transition.flipBounceYOut":{"defaultDuration":800,"calls":[[{"opacity":[.9,1],"transformPerspective":[400,400],"rotateX":-15}],[{"opacity":0,"rotateX":90}]],"reset":{"transformPerspective":0,"rotateX":0}},"transition.swoopIn":{"defaultDuration":850,"calls":[[{"opacity":[1,0],"transformOriginX":["100%","50%"],"transformOriginY":["100%","100%"],"scaleX":[1,0],"scaleY":[1,0],"translateX":[0,-700],"translateZ":0}]],"reset":{"transformOriginX":"50%","transformOriginY":"50%"}},"transition.swoopOut":{"defaultDuration":850,"calls":[[{"opacity":[0,1],"transformOriginX":["50%","100%"],"transformOriginY":["100%","100%"],"scaleX":0,"scaleY":0,"translateX":-700,"translateZ":0}]],"reset":{"transformOriginX":"50%","transformOriginY":"50%","scaleX":1,"scaleY":1,"translateX":0}},"transition.whirlIn":{"defaultDuration":850,"calls":[[{"opacity":[1,0],"transformOriginX":["50%","50%"],"transformOriginY":["50%","50%"],"scaleX":[1,0],"scaleY":[1,0],"rotateY":[0,160]},1,{"easing":"easeInOutSine"}]]},"transition.whirlOut":{"defaultDuration":750,"calls":[[{"opacity":[0,"easeInOutQuint",1],"transformOriginX":["50%","50%"],"transformOriginY":["50%","50%"],"scaleX":0,"scaleY":0,"rotateY":160},1,{"easing":"swing"}]],"reset":{"scaleX":1,"scaleY":1,"rotateY":0}},"transition.shrinkIn":{"defaultDuration":750,"calls":[[{"opacity":[1,0],"transformOriginX":["50%","50%"],"transformOriginY":["50%","50%"],"scaleX":[1,1.5],"scaleY":[1,1.5],"translateZ":0}]]},"transition.shrinkOut":{"defaultDuration":600,"calls":[[{"opacity":[0,1],"transformOriginX":["50%","50%"],"transformOriginY":["50%","50%"],"scaleX":1.3,"scaleY":1.3,"translateZ":0}]],"reset":{"scaleX":1,"scaleY":1}},"transition.expandIn":{"defaultDuration":700,"calls":[[{"opacity":[1,0],"transformOriginX":["50%","50%"],"transformOriginY":["50%","50%"],"scaleX":[1,.625],"scaleY":[1,.625],"translateZ":0}]]},"transition.expandOut":{"defaultDuration":700,"calls":[[{"opacity":[0,1],"transformOriginX":["50%","50%"],"transformOriginY":["50%","50%"],"scaleX":.5,"scaleY":.5,"translateZ":0}]],"reset":{"scaleX":1,"scaleY":1}},"transition.bounceIn":{"defaultDuration":800,"calls":[[{"opacity":[1,0],"scaleX":[1.05,.3],"scaleY":[1.05,.3]},.35],[{"scaleX":.9,"scaleY":.9,"translateZ":0},.2],[{"scaleX":1,"scaleY":1},.45]]},"transition.bounceOut":{"defaultDuration":800,"calls":[[{"scaleX":.95,"scaleY":.95},.35],[{"scaleX":1.1,"scaleY":1.1,"translateZ":0},.35],[{"opacity":[0,1],"scaleX":.3,"scaleY":.3},.3]],"reset":{"scaleX":1,"scaleY":1}},"transition.bounceUpIn":{"defaultDuration":800,"calls":[[{"opacity":[1,0],"translateY":[-30,1e3]},.6,{"easing":"easeOutCirc"}],[{"translateY":10},.2],[{"translateY":0},.2]]},"transition.bounceUpOut":{"defaultDuration":1e3,"calls":[[{"translateY":20},.2],[{"opacity":[0,"easeInCirc",1],"translateY":-1e3},.8]],"reset":{"translateY":0}},"transition.bounceDownIn":{"defaultDuration":800,"calls":[[{"opacity":[1,0],"translateY":[30,-1e3]},.6,{"easing":"easeOutCirc"}],[{"translateY":-10},.2],[{"translateY":0},.2]]},"transition.bounceDownOut":{"defaultDuration":1e3,"calls":[[{"translateY":-20},.2],[{"opacity":[0,"easeInCirc",1],"translateY":1e3},.8]],"reset":{"translateY":0}},"transition.bounceLeftIn":{"defaultDuration":750,"calls":[[{"opacity":[1,0],"translateX":[30,-1250]},.6,{"easing":"easeOutCirc"}],[{"translateX":-10},.2],[{"translateX":0},.2]]},"transition.bounceLeftOut":{"defaultDuration":750,"calls":[[{"translateX":30},.2],[{"opacity":[0,"easeInCirc",1],"translateX":-1250},.8]],"reset":{"translateX":0}},"transition.bounceRightIn":{"defaultDuration":750,"calls":[[{"opacity":[1,0],"translateX":[-30,1250]},.6,{"easing":"easeOutCirc"}],[{"translateX":10},.2],[{"translateX":0},.2]]},"transition.bounceRightOut":{"defaultDuration":750,"calls":[[{"translateX":-30},.2],[{"opacity":[0,"easeInCirc",1],"translateX":1250},.8]],"reset":{"translateX":0}},"transition.slideUpIn":{"defaultDuration":900,"calls":[[{"opacity":[1,0],"translateY":[0,20],"translateZ":0}]]},"transition.slideUpOut":{"defaultDuration":900,"calls":[[{"opacity":[0,1],"translateY":-20,"translateZ":0}]],"reset":{"translateY":0}},"transition.slideDownIn":{"defaultDuration":900,"calls":[[{"opacity":[1,0],"translateY":[0,-20],"translateZ":0}]]},"transition.slideDownOut":{"defaultDuration":900,"calls":[[{"opacity":[0,1],"translateY":20,"translateZ":0}]],"reset":{"translateY":0}},"transition.slideLeftIn":{"defaultDuration":1e3,"calls":[[{"opacity":[1,0],"translateX":[0,-20],"translateZ":0}]]},"transition.slideLeftOut":{"defaultDuration":1050,"calls":[[{"opacity":[0,1],"translateX":-20,"translateZ":0}]],"reset":{"translateX":0}},"transition.slideRightIn":{"defaultDuration":1e3,"calls":[[{"opacity":[1,0],"translateX":[0,20],"translateZ":0}]]},"transition.slideRightOut":{"defaultDuration":1050,"calls":[[{"opacity":[0,1],"translateX":20,"translateZ":0}]],"reset":{"translateX":0}},"transition.slideUpBigIn":{"defaultDuration":850,"calls":[[{"opacity":[1,0],"translateY":[0,75],"translateZ":0}]]},"transition.slideUpBigOut":{"defaultDuration":800,"calls":[[{"opacity":[0,1],"translateY":-75,"translateZ":0}]],"reset":{"translateY":0}},"transition.slideDownBigIn":{"defaultDuration":850,"calls":[[{"opacity":[1,0],"translateY":[0,-75],"translateZ":0}]]},"transition.slideDownBigOut":{"defaultDuration":800,"calls":[[{"opacity":[0,1],"translateY":75,"translateZ":0}]],"reset":{"translateY":0}},"transition.slideLeftBigIn":{"defaultDuration":800,"calls":[[{"opacity":[1,0],"translateX":[0,-75],"translateZ":0}]]},"transition.slideLeftBigOut":{"defaultDuration":750,"calls":[[{"opacity":[0,1],"translateX":-75,"translateZ":0}]],"reset":{"translateX":0}},"transition.slideRightBigIn":{"defaultDuration":800,"calls":[[{"opacity":[1,0],"translateX":[0,75],"translateZ":0}]]},"transition.slideRightBigOut":{"defaultDuration":750,"calls":[[{"opacity":[0,1],"translateX":75,"translateZ":0}]],"reset":{"translateX":0}},"transition.perspectiveUpIn":{"defaultDuration":800,"calls":[[{"opacity":[1,0],"transformPerspective":[800,800],"transformOriginX":[0,0],"transformOriginY":["100%","100%"],"rotateX":[0,-180]}]],"reset":{"transformPerspective":0,"transformOriginX":"50%","transformOriginY":"50%"}},"transition.perspectiveUpOut":{"defaultDuration":850,"calls":[[{"opacity":[0,1],"transformPerspective":[800,800],"transformOriginX":[0,0],"transformOriginY":["100%","100%"],"rotateX":-180}]],"reset":{"transformPerspective":0,"transformOriginX":"50%","transformOriginY":"50%","rotateX":0}},"transition.perspectiveDownIn":{"defaultDuration":800,"calls":[[{"opacity":[1,0],"transformPerspective":[800,800],"transformOriginX":[0,0],"transformOriginY":[0,0],"rotateX":[0,180]}]],"reset":{"transformPerspective":0,"transformOriginX":"50%","transformOriginY":"50%"}},"transition.perspectiveDownOut":{"defaultDuration":850,"calls":[[{"opacity":[0,1],"transformPerspective":[800,800],"transformOriginX":[0,0],"transformOriginY":[0,0],"rotateX":180}]],"reset":{"transformPerspective":0,"transformOriginX":"50%","transformOriginY":"50%","rotateX":0}},"transition.perspectiveLeftIn":{"defaultDuration":950,"calls":[[{"opacity":[1,0],"transformPerspective":[2e3,2e3],"transformOriginX":[0,0],"transformOriginY":[0,0],"rotateY":[0,-180]}]],"reset":{"transformPerspective":0,"transformOriginX":"50%","transformOriginY":"50%"}},"transition.perspectiveLeftOut":{"defaultDuration":950,"calls":[[{"opacity":[0,1],"transformPerspective":[2e3,2e3],"transformOriginX":[0,0],"transformOriginY":[0,0],"rotateY":-180}]],"reset":{"transformPerspective":0,"transformOriginX":"50%","transformOriginY":"50%","rotateY":0}},"transition.perspectiveRightIn":{"defaultDuration":950,"calls":[[{"opacity":[1,0],"transformPerspective":[2e3,2e3],"transformOriginX":["100%","100%"],"transformOriginY":[0,0],"rotateY":[0,180]}]],"reset":{"transformPerspective":0,"transformOriginX":"50%","transformOriginY":"50%"}},"transition.perspectiveRightOut":{"defaultDuration":950,"calls":[[{"opacity":[0,1],"transformPerspective":[2e3,2e3],"transformOriginX":["100%","100%"],"transformOriginY":[0,0],"rotateY":180}]],"reset":{"transformPerspective":0,"transformOriginX":"50%","transformOriginY":"50%","rotateY":0}}};for(var c in r.RegisterEffect.packagedEffects)r.RegisterEffect.packagedEffects.hasOwnProperty(c)&&r.RegisterEffect(c,r.RegisterEffect.packagedEffects[c]);r.RunSequence=function(e){var s=l.extend(!0,[],e);s.length>1&&(l.each(s.reverse(),function(e,n){var t=s[e+1];if(t){var a=n.o||n.options,i=t.o||t.options,o=a&&a.sequenceQueue===!1?"begin":"complete",p=i&&i[o],c={};c[o]=function(){var e=t.e||t.elements,s=e.nodeType?[e]:e;p&&p.call(s,s),r(n)},t.o?t.o=l.extend({},i,c):t.options=l.extend({},i,c)}}),s.reverse()),r(s[0])}}(window.jQuery||window.Zepto||window,window,window?window.document:void 0)})},function(e,s,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function a(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function r(e,s){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!s||"object"!=typeof s&&"function"!=typeof s?e:s}function l(e,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function, not "+typeof s);e.prototype=Object.create(s&&s.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(e,s):e.__proto__=s)}Object.defineProperty(s,"__esModule",{"value":!0});var i=function(){function e(e,s){for(var n=0;n<s.length;n++){var t=s[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(s,n,t){return n&&e(s.prototype,n),t&&e(s,t),s}}(),o=n(1),p=t(o),c=n(3),u=n(12),d=t(u),f=function(e){function s(){return a(this,s),r(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return l(s,e),i(s,[{"key":"render","value":function(){var e=this.props;return p["default"].createElement("div",{"className":d["default"].info},p["default"].createElement("div",{"className":d["default"].title},p["default"].createElement("h3",null,"Born to build"),p["default"].createElement("p",null,"better enterprise",p["default"].createElement("br",null),"boilerplate and tool for",p["default"].createElement("br",null),p["default"].createElement("span",{"className":"blue"},"React")," & ",p["default"].createElement("span",{"className":"purple"},"Redux")),p["default"].createElement("span",{"className":d["default"].tip},"企业级 WEB 前端脚手架")),p["default"].createElement("p",{"className":d["default"].btns},p["default"].createElement("button",{"className":d["default"].btn+" "+d["default"].primary,"onClick":e.quickStart},"开始使用"),p["default"].createElement("a",{"className":d["default"].btn,"href":"https://github.com/gem-mine/gem-mine","target":"_blank"},"GitHub")))}}]),s}(o.Component);s["default"]=(0,c.smart)(null,function(e){return{"quickStart":function(){c.actions.home.setField({"showConsole":!0})}}})(f)},function(e,s,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(s,"__esModule",{"value":!0});var a=n(1),r=t(a),l=n(13),i=n(104),o=t(i),p=n(12),c=t(p);s["default"]=function(e){return r["default"].createElement("div",{"className":c["default"].logo},r["default"].createElement(l.VelocityComponent,{"animation":{"rotateZ":-360},"duration":5e3,"loop":!0,"easing":"linear","runOnMount":!0},r["default"].createElement("img",{"src":o["default"],"alt":"logo"})))}},function(e,s,n){e.exports=n.p+"logo-3fec646f7c415b30213a261431b6b07f.png"},function(e,s,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(s,"__esModule",{"value":!0});var a=n(1),r=t(a),l=n(106),i=t(l),o=n(108),p=t(o),c=n(107),u=t(c);s["default"]=function(e){return r["default"].createElement(i["default"],{"className":u["default"].typing},r["default"].createElement(p["default"],{"onFinish":e.onFinish}))}},function(e,s,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function a(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function r(e,s){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!s||"object"!=typeof s&&"function"!=typeof s?e:s}function l(e,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function, not "+typeof s);e.prototype=Object.create(s&&s.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(e,s):e.__proto__=s)}Object.defineProperty(s,"__esModule",{"value":!0});var i=function(){function e(e,s){for(var n=0;n<s.length;n++){var t=s[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(s,n,t){return n&&e(s.prototype,n),t&&e(s,t),s}}(),o=n(1),p=t(o),c=n(3),u=n(13),d=n(107),f=t(d),h=function(e){function s(){return a(this,s),r(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return l(s,e),i(s,[{"key":"render","value":function(){var e=this.props,s=e.showMore;return p["default"].createElement("div",{"className":e.className+" "+f["default"].console},p["default"].createElement("div",{"className":f["default"].header},p["default"].createElement("span",{"className":f["default"].red}),p["default"].createElement("span",{"className":f["default"].yellow}),p["default"].createElement("span",{"className":f["default"].green})),p["default"].createElement("div",{"className":f["default"].body},e.children),s?p["default"].createElement(u.VelocityComponent,{"animation":"transition.fadeIn","duration":2e3,"delay":200,"runOnMount":!0,"complete":e.finish},p["default"].createElement("div",{"className":f["default"].footer},p["default"].createElement(c.Link,{"to":(0,c.urlFor)("docs.guide")}," 👉 查看新手指南"))):void 0)}}]),s}(o.Component);s["default"]=(0,c.smart)(function(e){return e.home},function(e){return{"finish":function(){c.actions.home.setField({"done":!0})}}})(h)},function(e,s){e.exports={"typing":"style__typing-3X2qb","tip":"style__tip-RqMqL","console":"style__console-7hyJo","header":"style__header-3plip","red":"style__red-3qNKZ","yellow":"style__yellow-1_ZN0","green":"style__green-yPXAi","body":"style__body-1j7kn","footer":"style__footer-3zi0A"
}},function(e,s,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function a(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function r(e,s){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!s||"object"!=typeof s&&"function"!=typeof s?e:s}function l(e,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function, not "+typeof s);e.prototype=Object.create(s&&s.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(e,s):e.__proto__=s)}Object.defineProperty(s,"__esModule",{"value":!0});var i=function(){function e(e,s){for(var n=0;n<s.length;n++){var t=s[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(s,n,t){return n&&e(s.prototype,n),t&&e(s,t),s}}(),o=n(1),p=t(o),c=n(3),u=n(109),d=t(u),f=n(107),h=t(f),m=function(e){function s(){return a(this,s),r(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return l(s,e),i(s,[{"key":"render","value":function(){var e=this.props,s=e.done,n=p["default"].createElement("span",null,p["default"].createElement("span",{"className":h["default"].tip},"# 安装工具 🛠",p["default"].createElement("br",null)),"$: npm i gem-mine -g",p["default"].createElement("br",null),p["default"].createElement(d["default"].Delay,{"ms":750}),p["default"].createElement("span",{"className":h["default"].tip},"# 初始化项目 🚀 ",p["default"].createElement("br",null)),"$: gem-mine project_name",p["default"].createElement("br",null),p["default"].createElement(d["default"].Delay,{"ms":750}),p["default"].createElement("span",{"className":h["default"].tip},"# 开始开发 😀",p["default"].createElement("br",null)),"$: cd project_name",p["default"].createElement("br",null),p["default"].createElement(d["default"].Delay,{"ms":750}),"$: npm start"),t=s?p["default"].createElement("div",null,n):p["default"].createElement(d["default"],{"cursor":{"hideWhenDone":!0},"startDelay":1300,"avgTypingSpeed":300,"onTypingDone":e.onFinish},n);return t}}]),s}(o.Component);s["default"]=(0,c.smart)(function(e){return e.home},function(e){return{"onFinish":function(){c.actions.home.setField({"showMore":!0})}}})(m)},function(e,s,n){"use strict";function t(e){if(e&&e.__esModule)return e;var s={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(s[n]=e[n]);return s["default"]=e,s}function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function l(e,s){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!s||"object"!=typeof s&&"function"!=typeof s?e:s}function i(e,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function, not "+typeof s);e.prototype=Object.create(s&&s.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(e,s):e.__proto__=s)}Object.defineProperty(s,"__esModule",{"value":!0});var o=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},p=function(){function e(e,s){for(var n=0;n<s.length;n++){var t=s[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(s,n,t){return n&&e(s.prototype,n),t&&e(s,t),s}}(),c=n(1),u=a(c),d=n(110),f=a(d),h=n(112),m=a(h),g=n(113),y=a(g),j=n(114),v=t(j),b=["🔙","⏰"],w=function(e){function s(e){r(this,s);var n=l(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e));return n.state={"textLines":[],"isDone":!1},n.onTypingDone=function(){n.mounted&&(n.setState({"isDone":!0}),n.props.onTypingDone())},n.delayGenerator=function(e,s,t,a){var r=n.props.avgTypingDelay,l=n.props.stdTypingDelay;return n.props.delayGenerator(r,l,{"line":e,"lineIdx":s,"character":t,"charIdx":a,"defDelayGenerator":function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;return v.gaussianRnd(e,s)}})},n.typeLine=function(e,s){if(!n.mounted)return Promise.resolve();var t=e,a=n.props.onLineTyped;return v.isBackspaceElement(e)?(e.props.delay>0&&(n.introducedDelay=e.props.delay),t=String("🔙").repeat(e.props.count)):v.isDelayElement(e)&&(n.introducedDelay=e.props.ms,t="⏰"),new Promise(function(e,r){n.setState({"textLines":n.state.textLines.concat([""])},function(){v.eachPromise(t,n.typeCharacter,t,s).then(function(){return a(t,s)}).then(e)["catch"](r)})})},n.typeCharacter=function(e,s,t,a){if(!n.mounted)return Promise.resolve();var r=n.props.onCharacterTyped;return new Promise(function(l){var i=n.state.textLines.slice();v.sleep(n.introducedDelay).then(function(){n.introducedDelay=null;var o="🔙"===e,p="⏰"===e;if(p)return void l();if(o&&a>0){for(var c=a-1,u=i[c],d=c;d>=0&&(!(u.length>0)||b.includes(u[0]));d--)c=d,u=i[c];i[c]=u.substr(0,u.length-1)}else i[a]+=e;n.setState({"textLines":i},function(){var i=n.delayGenerator(t,a,e,s);r(e,s),setTimeout(l,i)})})})},n.mounted=!1,n.linesToType=[],n.introducedDelay=null,e.children&&(n.linesToType=v.extractTextFromElement(e.children)),n}return i(s,e),p(s,[{"key":"componentDidMount","value":function(){this.mounted=!0;var e=this.props,s=e.children,n=e.startDelay;s?n>0&&"undefined"!=typeof window?setTimeout(this.typeAllLines.bind(this),n):this.typeAllLines():this.onTypingDone()}},{"key":"shouldComponentUpdate","value":function(e,s){if(s.textLines.length!==this.state.textLines.length)return!0;for(var n=0;n<s.textLines.length;n++){var t=this.state.textLines[n],a=s.textLines[n];if(t!==a)return!0}return this.state.isDone!==s.isDone}},{"key":"componentWillUnmount","value":function(){this.mounted=!1}},{"key":"typeAllLines","value":function(){var e=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.linesToType;return v.eachPromise(s,this.typeLine).then(function(){return e.onTypingDone()})}},{"key":"render","value":function(){var e=this.props,s=e.className,n=e.cursor,t=this.state.isDone,a=v.cloneElementWithSpecifiedText({"element":this.props.children,"textLines":this.state.textLines});return u["default"].createElement("div",{"className":"Typist "+s},a,u["default"].createElement(f["default"],o({"isDone":t},n)))}}]),s}(c.Component);w.defaultProps={"className":"","avgTypingDelay":70,"stdTypingDelay":25,"startDelay":0,"cursor":{},"onCharacterTyped":function(){},"onLineTyped":function(){},"onTypingDone":function(){},"delayGenerator":v.gaussianRnd},s["default"]=w,w.Backspace=m["default"],w.Delay=y["default"]},function(e,s,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function a(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function r(e,s){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!s||"object"!=typeof s&&"function"!=typeof s?e:s}function l(e,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function, not "+typeof s);e.prototype=Object.create(s&&s.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(e,s):e.__proto__=s)}Object.defineProperty(s,"__esModule",{"value":!0});var i=function(){function e(e,s){for(var n=0;n<s.length;n++){var t=s[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(s,n,t){return n&&e(s.prototype,n),t&&e(s,t),s}}(),o=n(1),p=t(o);n(111);var c=function(e){function s(e){a(this,s);var n=r(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e));return n._isReRenderingCursor=!1,n.state={"shouldRender":n.props.show},n}return l(s,e),i(s,[{"key":"componentWillReceiveProps","value":function(e){var s=this,n=!this.props.isDone&&e.isDone&&this.props.hideWhenDone;n&&setTimeout(function(){return s.setState({"shouldRender":!1})},this.props.hideWhenDoneDelay)}},{"key":"componentDidUpdate","value":function(){var e=this.props,s=e.show,n=e.isDone;s&&(n||this._isReRenderingCursor||this._reRenderCursor())}},{"key":"_reRenderCursor","value":function(){var e=this;this._isReRenderingCursor=!0,this.setState({"shouldRender":!1},function(){e.setState({"shouldRender":!0},function(){e._isReRenderingCursor=!1})})}},{"key":"render","value":function(){if(this.state.shouldRender){var e=this.props.blink?" Cursor--blinking":"";return p["default"].createElement("span",{"className":"Cursor"+e},this.props.element)}return null}}]),s}(o.Component);c.defaultProps={"blink":!0,"show":!0,"element":"|","hideWhenDone":!1,"hideWhenDoneDelay":1e3,"isDone":!1},s["default"]=c},function(e,s){e.exports={"Typist":"Cursor__Typist-1WrHy","Cursor":"Cursor__Cursor-wYRtT","Cursor--blinking":"Cursor__Cursor--blinking-2i5dm","blink":"Cursor__blink-3Wo8w"}},function(e,s,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(s,"__esModule",{"value":!0});var a=n(1),r=t(a),l=function(){return r["default"].createElement("noscript",null)};l.defaultProps={"count":1,"delay":0},s["default"]=l},function(e,s,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(s,"__esModule",{"value":!0});var a=n(1),r=t(a),l=function(){return r["default"].createElement("noscript",null)};s["default"]=l},function(e,s,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(Array.isArray(e)){for(var s=0,n=Array(e.length);s<e.length;s++)n[s]=e[s];return n}return Array.from(e)}function r(e,s){for(var n=12,t=0,a=0;a<n;a++)t+=Math.random();return t-=n/2,Math.round(t*s)+e}function l(e,s){for(var n=arguments.length,t=Array(n>2?n-2:0),a=2;a<n;a++)t[a-2]=arguments[a];var r=function(e,n,a){return e.then(function(){return s.apply(void 0,[n,a].concat(t))})};return Array.from(e).reduce(r,Promise.resolve())}function i(e,s){var n={};for(var t in e)s.indexOf(t)===-1&&(n[t]=e[t]);return n}function o(e){return e&&e.type===j["default"]}function p(e){return e&&e.type===b["default"]}function c(e){for(var s=e?[e]:[],n=[];s.length>0;){var t=s.pop();g["default"].isValidElement(t)?o(t)||p(t)?n.unshift(t):g["default"].Children.forEach(t.props.children,function(e){s.push(e)}):Array.isArray(t)?t.forEach(function(e){s.push(e)}):n.unshift(t)}return n}function u(e,s){var n=e.type,t=i(e.props,["children"]);return t.key="Typist-element-"+n+"-"+(Date.now()+Math.random()+Math.random()),g["default"].createElement.apply(g["default"],[n,t].concat(a(s)))}function d(e,s,n){if(n>=s.length)return[null,n];var t=n,a=function(e){var n=d(e,s,t),a=h(n,2),r=a[0],l=a[1];return t=l,r},r=g["default"].isValidElement(e)&&!(o(e)||p(e));if(r){var l=g["default"].Children.map(e.props.children,a)||[];return[u(e,l),t]}if(Array.isArray(e)){var i=e.map(a);return[i,t]}return[s[t],t+1]}function f(e){var s=e.element,n=e.textLines;if(s)return d(s,n,0)[0]}Object.defineProperty(s,"__esModule",{"value":!0}),s.sleep=void 0;var h=function(){function e(e,s){var n=[],t=!0,a=!1,r=void 0;try{for(var l,i=e[Symbol.iterator]();!(t=(l=i.next()).done)&&(n.push(l.value),!s||n.length!==s);t=!0);}catch(o){a=!0,r=o}finally{try{!t&&i["return"]&&i["return"]()}finally{if(a)throw r}}return n}return function(s,n){if(Array.isArray(s))return s;if(Symbol.iterator in Object(s))return e(s,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();s.gaussianRnd=r,s.eachPromise=l,s.exclude=i,s.isBackspaceElement=o,s.isDelayElement=p,s.extractTextFromElement=c,s.cloneElement=u,s.cloneElementWithSpecifiedText=f;var m=n(1),g=t(m),y=n(112),j=t(y),v=n(113),b=t(v);s.sleep=function(e){return new Promise(function(s){return null!=e?setTimeout(s,e):s()})}},function(e,s,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(s,"__esModule",{"value":!0});var a=n(116),r=t(a),l=n(120),i=t(l),o=n(121),p=t(o),c=n(123),u=t(c),d=n(125),f=t(d),h=n(126),m=t(h),g=n(127),y=t(g),j=n(129),v=t(j),b=n(130),w=t(b);s["default"]={"path":"/examples","component":r["default"],"description":"一些示例","sub":{"list":{"component":i["default"],"description":"简单示例列表页","index":!0},"constant":{"path":"/constant","component":p["default"],"description":"常量使用例子"},"action":{"path":"/action","component":u["default"],"description":"action使用例子"},"params":{"path":"/params/:id","component":v["default"],"description":"URL变量和参数例子"},"request":{"path":"/request","component":y["default"],"description":"请求使用例子"},"permission":{"path":"/permission","permission":function(e){return e.example.count>10},"redirect":"examples.permission.y","description":"权限拦截例子","module":{"x":{"path":"/x","component":f["default"]},"y":{"path":"/y","component":m["default"]}}},"ui":{"path":"/ui","description":"UI 组件库示例","component":w["default"]}}}},function(e,s,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(s,"__esModule",{"value":!0});var a=n(1),r=t(a),l=n(3),i=n(117),o=t(i),p=n(119),c=t(p),u=n(118),d=t(u);s["default"]=function(e){return r["default"].createElement("div",{"className":d["default"].container},r["default"].createElement(c["default"],null),r["default"].createElement("div",{"className":d["default"].body},r["default"].createElement(l.Routes,{"path":"examples"})),r["default"].createElement(o["default"],null))}},function(e,s,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(s,"__esModule",{"value":!0});var a=n(1),r=t(a),l=n(3),i=n(118),o=t(i);s["default"]=function(e){return r["default"].createElement("div",{"className":o["default"].footer},r["default"].createElement("a",{"href":"javascript:void(0);","className":o["default"].goback,"onClick":l.actions.routing.goBack},"❮ 返回"))}},function(e,s){e.exports={"container":"style__container-38leY","title":"style__title-2YsQK","body":"style__body-az534","link":"style__link-OeiBq","list":"style__list-1RscG","footer":"style__footer-3_Q6M","goback":"style__goback-1pD4o","hot":"style__hot-1MK_X","tip":"style__tip-1YH2S","btn":"style__btn-1egEz"}},function(e,s,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(s,"__esModule",{"value":!0});var a=n(1),r=t(a),l=n(118),i=t(l);s["default"]=function(e){return r["default"].createElement("div",{"className":i["default"].title},"gem-mine")}},function(e,s,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(s,"__esModule",{"value":!0});var a=n(1),r=t(a),l=n(3),i=n(118),o=t(i);s["default"]=function(e){return r["default"].createElement("ul",{"className":o["default"].list},r["default"].createElement("li",null,r["default"].createElement(l.Link,{"className":o["default"].link,"to":(0,l.urlFor)("examples.constant")},"不同环境下的常量示例")),r["default"].createElement("li",null,r["default"].createElement(l.Link,{"className":o["default"].link,"to":(0,l.urlFor)("examples.action")},"action使用示例：计数器")),r["default"].createElement("li",null,r["default"].createElement(l.Link,{"className":o["default"].link,"to":(0,l.urlFor)("examples.params",{"id":233,"name":"robot"})},"路由URL变量和参数例子")),r["default"].createElement("li",null,r["default"].createElement(l.Link,{"className":o["default"].link,"to":(0,l.urlFor)("examples.request")},"请求示例（CORS方式）")),r["default"].createElement("li",null,r["default"].createElement(l.Link,{"className":o["default"].link,"to":(0,l.urlFor)("examples.permission")},"权限拦截：计数器需要大于10才能访问")),r["default"].createElement("li",null,r["default"].createElement(l.Link,{"className":o["default"].link,"to":"/examples/not-found"},"404 page (子路由)"),r["default"].createElement(l.Link,{"className":o["default"].link,"to":"/path/to/not-found"},"404 page (全局)")),r["default"].createElement("li",null,r["default"].createElement(l.Link,{"className":o["default"].link,"to":(0,l.urlFor)("examples.ui")},"UI组件例子")))}},function(e,s,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(s,"__esModule",{"value":!0});var a=n(1),r=t(a),l=n(122),i=n(118),o=t(i);s["default"]=function(e){return r["default"].createElement("div",null,r["default"].createElement("ul",null,r["default"].createElement("li",null,"env：","dev"),r["default"].createElement("li",null,"该环境下的常量值: ",l.NAME)),r["default"].createElement("div",{"className":o["default"].tip},"tip：可以尝试 npm start --env=dev 来设置env，部署时会自动获取机器上设置的 env 值，以此来获取例如不同 API 地址等功能"))}},function(e,s,n){"use strict";var t=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},a={"local":{"NAME":"tom"},"dev":{"NAME":"jerry"},"production":{"NAME":"lucy"}},r=t({},a["dev"]);Object.keys(r).forEach(function(e){s[e]=r[e]})},function(e,s,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(s,"__esModule",{"value":!0});var a=n(1),r=t(a),l=n(3),i=n(124),o=t(i),p=function(e){return r["default"].createElement("div",{"className":o["default"].main},r["default"].createElement("h1",{"className":o["default"].number},e.count),r["default"].createElement("section",null,r["default"].createElement("button",{"className":o["default"].btn,"onClick":e.decrement},"减少"),r["default"].createElement("button",{"className":o["default"].btn,"onClick":e.increment},"增加")))};s["default"]=(0,l.smart)(function(e){return{"count":e.example.count}},function(e){return{"increment":function(){l.actions.example.change(1)},"decrement":function(){l.actions.example.change(-1)}}})(p)},function(e,s){e.exports={"container":"style__container-2n6Rd","title":"style__title-3F1KR","body":"style__body-L3wMK","link":"style__link-eR6Xa","list":"style__list-3cm9r","footer":"style__footer-vo660","goback":"style__goback-xFDdw","hot":"style__hot-14Pez","tip":"style__tip-1dbWx","btn":"style__btn-3KWlc","main":"style__main-1XpWv","number":"style__number-2pveP"}},function(e,s,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(s,"__esModule",{"value":!0});var a=n(1),r=t(a);s["default"]=function(e){return r["default"].createElement("div",null,"yeah! you got it!")}},function(e,s,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(s,"__esModule",{"value":!0});var a=n(1),r=t(a),l=n(3),i=n(118),o=t(i);s["default"]=function(e){return r["default"].createElement("div",null,r["default"].createElement("span",null,"yyyyy "),r["default"].createElement(l.Link,{"className":o["default"].link,"to":(0,l.urlFor)("examples.permission.x")},"goto page X"))}},function(e,s,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(s,"__esModule",{"value":!0});var a=n(1),r=t(a),l=n(3),i=n(128),o=t(i),p=function(e){return r["default"].createElement("div",null,r["default"].createElement("button",{"className":o["default"].btn,"onClick":l.actions.example.corsGet},"request:get")," ",r["default"].createElement("button",{"className":o["default"].btn,"onClick":l.actions.example.corsPost},"request:post"),r["default"].createElement("div",{"className":o["default"].response},"response: ",r["default"].createElement("span",null,JSON.stringify(e.data))),r["default"].createElement("div",{"className":o["default"].tip},r["default"].createElement("p",null,"tip 1: get 请求一定概率服务端会延迟返回 或者 返回错误（打开控制台查看）"),r["default"].createElement("p",{"className":o["default"].hot},"tip 2: CORS 生产环境中不支持 IE8、9（本地开发由于使用了WDS的代理，因此可以），若要支持请选择 nginx 反向代理 或者 服务端代理方案"),r["default"].createElement("p",null,"tip 3: nginx反向代理 和 服务端代理需要服务端配合，请参看文档处理")))};s["default"]=(0,l.smart)(function(e){return{"data":(0,l.getIn)(e,"example.data")}})(p)},function(e,s){e.exports={"container":"style__container-VCShb","title":"style__title-3WbYu","body":"style__body-1uDYe","link":"style__link-Cl3gq","list":"style__list-W3pjR","footer":"style__footer-1lL3s","goback":"style__goback-gg30e","hot":"style__hot-2zpjd","tip":"style__tip-6LLha","btn":"style__btn-766pV","response":"style__response-3-Z7b"}},function(e,s,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(s,"__esModule",{"value":!0});var a=n(1),r=t(a),l=n(3),i=n(118),o=t(i);s["default"]=function(e){var s=l.queryString.parse(e.location.search),n=s.name;return r["default"].createElement("div",null,"hello, ",r["default"].createElement("span",{"className":o["default"].hot},n),", your id:"," ",r["default"].createElement("span",{"className":o["default"].hot},e.match.params.id),r["default"].createElement("p",null,"地址：/examples/params/:id"),r["default"].createElement("p",null,"传参：urlFor('examples.params', ","{","id: 233, name: 'robot'","}",")"))}},function(e,s,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(s,"__esModule",{"value":!0});var a=n(1),r=t(a);s["default"]=function(e){return r["default"].createElement("div",null,"没有选择 UI 组件库")}},function(e,s,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(s,"__esModule",{"value":!0});var a=n(132),r=t(a),l=n(136),i=t(l),o=n(138),p=t(o),c=n(140),u=t(c),d=n(141),f=t(d),h=n(142),m=t(h),g=n(143),y=t(g),j=n(144),v=t(j),b=n(146),w=t(b),x=n(147),k=t(x),_=n(148),E=t(_),P=n(149),O=t(P),S=n(150),T=t(S),C=n(151),A=t(C),D=n(152),N=t(D),R=n(153),M=t(R),F=n(154),V=t(F),L=n(155),q=t(L);s["default"]={"path":"/docs","redirect":"docs.guide.introduce","module":(0,r["default"])({"name":"guide","subs":[{"name":"introduce","markdown":i["default"],"description":"gem-mine 是什么"},{"name":"quickstart","markdown":p["default"],"description":"快速入门"},{"name":"catalogue","markdown":u["default"],"description":"目录结构"},{"name":"example","markdown":f["default"],"description":"开发实例"}]},{"name":"api","subs":[{"name":"command","markdown":m["default"],"description":"命令行"},{"name":"constant","markdown":y["default"],"description":"环境变量与常量"},{"name":"model","markdown":v["default"],"description":"model"},{"name":"router","markdown":w["default"],"description":"路由"},{"name":"request","markdown":k["default"],"description":"网络请求"},{"name":"i18n","markdown":E["default"],"description":"国际化"},{"name":"webpack","markdown":O["default"],"description":"webpack 配置"},{"name":"cat-eye","markdown":T["default"],"description":"cat-eye api 速查"}]},{"name":"question","subs":[{"name":"faq","markdown":A["default"],"description":"如何高效反馈问题"},{"name":"list","markdown":N["default"],"description":"常见问题列表"}]},{"name":"version","subs":[{"name":"changelog","markdown":M["default"],"description":"版本履历"},{"name":"todolist","markdown":V["default"],"description":"待办事项"},{"name":"thanks","markdown":q["default"],"description":"鸣谢"}]})}},function(e,s,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(s,"__esModule",{"value":!0});var a=n(1),r=t(a),l=n(133),i=t(l),o=n(134),p=t(o),c=function(e){return function(s){return r["default"].createElement(i["default"],{"source":e})}},u=function(e){var s={},n=!1,t=void 0;return e.forEach(function(e,a){var r=e.name,l=e.markdown,i=e.description,o=e.path,p=e.index;p&&(n=p),s[r]={"path":o||"/"+r,"index":p,"description":i,"component":c(l)},0===a&&(t=s[r])}),n||(t.index=!0),s},d=function(){for(var e=arguments.length,s=Array(e),n=0;n<e;n++)s[n]=arguments[n];var t={};return s.forEach(function(e){var s=e.name,n=e.path,a=e.redirect,l=e.subs;t[s]={"path":n||"/"+s,"component":function(e){return r["default"].createElement(p["default"],{"keyPath":"docs."+s})},"redirect":a,"sub":u(l)}}),t};s["default"]=d},function(e,s,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(s,"__esModule",{"value":!0});var a=n(1),r=t(a);s["default"]=function(e){return r["default"].createElement("div",{"className":"markdown-body","dangerouslySetInnerHTML":{"__html":e.source}})}},function(e,s,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}function a(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}function r(e,s){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!s||"object"!=typeof s&&"function"!=typeof s?e:s}function l(e,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function, not "+typeof s);e.prototype=Object.create(s&&s.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(e,s):e.__proto__=s)}Object.defineProperty(s,"__esModule",{"value":!0});var i=function(){function e(e,s){for(var n=0;n<s.length;n++){var t=s[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(s,n,t){return n&&e(s.prototype,n),t&&e(s,t),s}}(),o=n(1),p=t(o),c=n(3),u=n(135),d=t(u),f=function(e){function s(){var e,n,t,l;a(this,s);for(var i=arguments.length,o=Array(i),p=0;p<i;p++)o[p]=arguments[p];return n=t=r(this,(e=s.__proto__||Object.getPrototypeOf(s)).call.apply(e,[this].concat(o))),t.gotoTop=function(){document.documentElement.scrollTop=0},t.active=function(e){return(0,c.urlFor)(e.keyPath+"."+e.key)===t.props.location.pathname||t.props.match.isExact},l=n,r(t,l)}return l(s,e),i(s,[{"key":"componentDidMount","value":function(){this.gotoTop()}},{"key":"render","value":function(){var e=this,s=this.props.keyPath,n=c.router.getSub(s);return p["default"].createElement("div",{"className":d["default"].main},p["default"].createElement("div",{"className":d["default"].aside},p["default"].createElement("ul",null,n.map(function(n,t){if(!n.index){var a=void 0;return a=1===t?p["default"].createElement(c.NavLink,{"to":(0,c.urlFor)(s+"."+n.key),"onClick":e.gotoTop,"isActive":function(){return e.active(n)},"activeClassName":d["default"].highlight},n.description):p["default"].createElement(c.NavLink,{"to":(0,c.urlFor)(s+"."+n.key),"onClick":e.gotoTop,"activeClassName":d["default"].highlight},n.description),p["default"].createElement("li",{"key":n.key},a)}}))),p["default"].createElement("div",{"className":d["default"].content},p["default"].createElement(c.Routes,{"path":s})))}}]),s}(o.Component);s["default"]=(0,c.withRouter)(f)},function(e,s){e.exports={"main":"style__main-1qlZU","aside":"style__aside-16alh","highlight":"style__highlight-gK8We","content":"style__content-3AVnB"}},function(e,s,n){e.exports="<h1 id=gem-mine->gem-mine 是什么</h1> <p><span class=green><strong>gem-mine 宝石矿产</strong></span>，一个蕴藏许多珍宝的脚手架。</p> <p>gem-mine 是一个快速创建基于 react + redux + router 的脚手架工具，同时提供代码框架进行业务快速开发。</p> <p><img src="+n(137)+" /></p> <h2 id=->特性</h2> <ul> <li><p>基于命令行快速创建项目骨架</p> <ul> <li>支持选择平台类型：PC 端、移动端</li> <li>支持选择是否对 IE8 进行支持，默认支持。<strong>这里的兼容不仅仅是 polyfill，对于 react、webpack 等版本都会进行处理</strong></li> <li>支持选择内置 UI 组件库</li> <li>支持快速生成管理后台结构</li> </ul> </li> <li><p>基于 cat-eye 猫眼，提供了一套优质的代码框架与工具</p> <ul> <li>简洁易用的 model 系统，大大降低 redux 的繁琐与复杂度</li> <li>抽象封装的 router 系统，基于 react-router 4，支持子路由、权限控制与继承</li> <li>轻量高效的 immutable 工具，简化对 state 的操作，同时提高性能</li> <li>强大简单的网络请求 request 工具，基于 axios<ul> <li>支持多种方式处理跨域问题（server 代理、nginx 反向代理、CORS 跨域）</li> <li>支持多站点跨域</li> <li>可以根据不同环境变量进行统一配置</li> </ul> </li> </ul> </li> <li><p>国际化方案（暂未支持）</p> <ul> <li>业务国际化</li> <li>UI 组件库国际化</li> <li>工具类国际化（moment 定制）</li> <li>支持远程翻译资源文件</li> </ul> </li> </ul> <h2 id=->与社区脚手架的差异</h2> <p><a href=https://github.com/facebookincubator/create-react-app target=_blank>create-react-app</a> 是 facebook 官方的脚手架，具有简单、易上手、易调试的特点，通过底层提供的 react-scripts 屏蔽了 webpack 配置的复杂度，对于纯粹学习使用 react 来说是一个很好的选择。但如果需要进行一些自定义，则需要进行 eject，create-react-app 会将 webpack 配置重新暴露出来。同时，create-react-app 提供的功能都比较基础纯粹，并不提供 redux、router 等工具的结合使用，也没有整合 less、sass、css 模块化，需要开发者自己进行处理。</p> <p><a href=https://github.com/dvajs/dva target=_blank>dva</a> 是阿里提供的一个脚手架。通过 <a href=https://github.com/sorrycc/roadhog target=_blank>roadhog</a> 提供了可配置性 create-react-app 开发体验。dva 提供了对 redux 的封装，享受 redux 带来管理数据的便利性的同时降低了使用的繁琐。同时集成了 redux-saga、react-router-redux、react-router，很大程度上给开发带来了便利。</p> <p>gem-mine 吸收了社区中优质脚手架的优点，同时做了部分增强和改进工作，例如：</p> <ul> <li>model 层设计吸收了更简洁的 <a href=https://github.com/mirrorjs/mirror target=_blank>mirror</a> 设计，并内置加入了一个轻量的 immutable 工具，提供了类似 react 的 this.setState 简便操作 state 工具 this.setField 来操作 redux 的 state，而没有官方提供的 immutable 带来的语法和使用成本。</li> <li>再有，在 路由 层面做了增强，对 react-router 做了兼容 IE8 的基础上，同时提供了一套配置性的路由管理工具，支持路由的嵌套、继承、权限控制等。</li> <li>以及，网络请求工具的封装、国际化方案的支持、可选的内置 UI 组件库 等等，都是致力于降低开发人员上手的难度，专注于业务开发，提供生产力。</li> </ul> <p>最后，兼容 IE8 是脚手架的一个另类的特性，是的，真的很另类。</p> "},function(e,s,n){e.exports=n.p+"gem-mine-c5db4cf70b7166ca8556761793571fc7.png"},function(e,s,n){e.exports='<h1 id=->快速入门</h1> <p>通过一下几个简单的命令就可以开始一个项目的开发：</p> <pre><code class="hljs shell"><span class=hljs-meta>#</span><span class=bash> 没有安装过命令行工具的，先进行安装</span>\nnpm i -g gem-mine\n<span class=hljs-meta>\n#</span><span class=bash> 快速初始化项目</span>\ngem-mine project_name\n<span class=hljs-meta>\n#</span><span class=bash> 启动项目</span>\ncd project_name\nnpm start\n</code></pre> <p>如果已经安装过 gem-mine 则无须重复安装，project_name 是你要创建的项目名称。</p> <p>在创建过程中，会有交互式的命令行提示，逐步提示你进行选择操作：</p> <ul> <li>选择项目运行的平台类型（PC 还是 移动端）</li> <li>是否对 IE8 进行支持</li> <li>是否使用 UI 组件库（提供了 PC 端：fish、ant design；移动端：fish-mobile、ant design mobile）</li> <li>以及是否使用一些常用的代码结构（目前提供了管理后台代码骨架）。</li> </ul> <p>下面是一个演示视频（清晰度压缩，时间不压缩。为了多展示功能（手动斜眼），选择了有管理后台的选项）</p> <video src=http://dn-tomjoke.qbox.me/6.mp4 controls preload> <div class=not-support>您的浏览器不支持视频播放，<a href=http://dn-tomjoke.qbox.me/6.mp4>请点击下载视频观看</a></div> </video> <p>无论你选择那一项，默认创建的项目中带会带有默认的 gem-mine 例子以供学习。</p> <p>是不是想马上来一发，来吧，少年！扫描二维码，入群讨论（标注 gem-mine）。</p> <p><img src='+n(139)+' class="center thumb"/></p> '},function(e,s,n){e.exports=n.p+"qrcode-b29122242b57c8b27f089999d4c825c0.jpg"},function(e,s){e.exports='<h1 id=->目录结构</h1> <p>通过命令行工具，快速创建了项目工程。下面我们来看下项目的目录结构：</p> <pre><code class="hljs text">project\n├── config\n│     ├── webpack （大部分情况下无须去修改此目录下文件）\n│     │     ├── loaders\n│     │     ├── plugins\n│     │     ├── helper<span class=hljs-selector-class>.js</span>\n│     │     ├── dev<span class=hljs-selector-class>.js</span>\n│     │     ├── production<span class=hljs-selector-class>.js</span>\n│     │     ├── polyfill<span class=hljs-selector-class>.js</span>\n│     │     ├── vendor<span class=hljs-selector-class>.js</span>\n│     ├── constant<span class=hljs-selector-class>.js</span>\n│     ├── proxy<span class=hljs-selector-class>.js</span>\n│     ├── webpack<span class=hljs-selector-class>.js</span>\n├── public\n│     ├── index<span class=hljs-selector-class>.html</span>\n│     ├── polyfill-promise<span class=hljs-selector-class>.js</span>\n│     ├── polyfill-ie8<span class=hljs-selector-class>.js</span>\n├── src\n│     ├── components\n│     ├── global\n│     │     ├── model\n│     │     ├── routes\n│     │     │     ├── index<span class=hljs-selector-class>.js</span>\n│     │     ├── util\n│     │     │     ├── sys<span class=hljs-selector-class>.js</span>\n│     │     ├── cat-eye<span class=hljs-selector-class>.js</span>\n│     │     ├── request<span class=hljs-selector-class>.js</span>\n│     ├── styles\n│     ├── App<span class=hljs-selector-class>.jsx</span>\n│     ├── index<span class=hljs-selector-class>.js</span>\n├── <span class=hljs-selector-class>.babelrc</span>\n├── <span class=hljs-selector-class>.editorconfig</span>\n├── <span class=hljs-selector-class>.eslintignore</span>\n├── <span class=hljs-selector-class>.eslintrc</span>\n├── <span class=hljs-selector-class>.gem-mine</span>\n├── <span class=hljs-selector-class>.gitignore</span>\n├── <span class=hljs-selector-class>.npmrc</span>\n├── package<span class=hljs-selector-class>.json</span>\n├── webpack<span class=hljs-selector-class>.config</span><span class=hljs-selector-class>.js</span>\n</code></pre> <p>脚手架约定的目录结构与文件说明如下：</p> <ul> <li><p><code>config</code> 存放项目的 webpack 配置、常量配置、网络请求配置。（<span class=tip>注：常量、网络请求中涉及使用了环境变量，而且是配置，所以放在 config 而不是 src</span>）</p> <ul> <li><code>webpack.js</code> 暴露给开发者的配置文件</li> <li><p><code>webpack</code> 封装的 webpack 配置目录，通常情况下开发者无须去修改，包含：</p> <ul> <li>loaders：存放自定义 webpack loader 目录，在 webpack 常规 loader 无法满足功能需要自己定制 loader 时才会用到</li> <li>plugins：存放自定义 webpack plugins 目录，在 webpack 常规 plugin 无法满足功能需要自己定制 plugin 时才会用到</li> <li>helper.js：webpack 常规辅助工具函数，后续 dev.js、production.js、polyfill.js、vendor.js 重度依赖此文件</li> <li>dev.js：npm start 对应的运行脚本，是一个标准的 webpack 配置文件，用于 webpack 构建开发期的脚本</li> <li>production.js：npm run build 对应的运行脚本，是一个标准的 webpack 配置文件，用于 webpack 打包上线时的脚本</li> <li>polyfill.js：npm run polyfill 对应的运行脚本，是一个标准的 webpack 配置文件，用于 webpack 构建 polyfill 文件</li> <li>vendor.js：npm run vendor 对应的运行脚本，是一个标准的 webpack 配置文件，用于 webpack 构建公共包文件</li> </ul> </li> <li><p><code>constant.js</code> 存放常量的配置，可以根据环境变量 env 来设置不同环境变量下常量值</p> </li> <li><code>proxy.js</code> 存放网络请求配置，可以配置不同环境下的网络请求，包括本地开发的 webpack-dev-server 配置</li> </ul> </li> <li><p><code>public</code> 系统模块之外的资源目录</p> <ul> <li><code>index.html</code> 入口 HTML 文件模板，会被 html-webpack-plugin 处理，如果你要添加一些第三方直接使用的包、一些兼容性处理 等修改模板，例如加入 jquery 等，就需要修改此文件</li> <li><code>polyfill-promise.js</code> IE8-IE11 的 promise 的 polyfill 包</li> <li><code>polyfill-ie8.js</code> 专门针对 IE8 的 polyfill 包，仅在支持 IE8 项目中存在</li> </ul> </li> <li><p><code>src</code> 源码目录</p> <ul> <li><code>components</code> 组件目录</li> <li><code>global</code> 系统通用功能目录<ul> <li>model：通用 model 目录，例如 用户 model，会被多个业务组件使用到时，就放在这里</li> <li>routes：系统路由目录，在这里配置系统中的路由</li> <li>util：通用工具目录，一些通用函数可以放在这里</li> <li>cat-eye.js：cat-eye 配置文件</li> <li>request.js：网络请求的切面配置文件，可以配置全局 或 某个域的请求配置（例如 before、loading、error 等通用处理）</li> </ul> </li> <li><code>styles</code> 样式目录，一般存放一些全局的样式，注意：这里的样式文件不会被 css 模块化处理</li> <li><code>App.jsx</code> 组件入口文件，被 index.js 调用</li> <li><code>index.js</code> 项目入口文件</li> </ul> </li> </ul> <p>剩余的是一些常规配置文件，例如 .babelrc、.eslintrc 等。最外的 webpack.config.js 只是作为 webpack 入口配置文件，无须修改此文件。</p> ';
},function(e,s){e.exports='<h1 id=->开发实例</h1> <p>下面通过 内置用例 和 开发项目实例 来大致介绍下 gem-mine 的业务开发过程</p> <h2 id=gem-mine->gem-mine 内置开发样例</h2> <p>使用 gem-mine 初始化项目后，通过 <code>/examples</code> 可以访问到提供的开发样例列表，<a href=#/examples>点击访问在线样例</a></p> <p>样例的代码主要位于 <code>src/components/examples</code> 目录下，样例包括以下功能：</p> <ul> <li>不同环境下的常量示例：该例子展示了不同环境下（依赖 npm 环境变量 env），例如本地环境、测试环境、生产环境中，一些常量需要不同的值，可以在此例子中得到帮助。本地要模拟不同 env 的值，可以通过指定参数 --env=xxx，例如 <code>npm start --env=production</code>，更多环境变量与常量的使用，<a href=#/docs/api/constant>参看文档：环境变量与常量</a></li> <li>计数器：该例子展示了 model 中 action、reducer、smart 的使用，更多 model 及其概念、使用 的帮助，<a href=#/docs/api/model>参看文档：model</a></li> <li>路由：该例子展示了 路由的配置（配置目录 <code>src/global/routes</code>，例子中给出了如何拆分路由的方案）、路由参数的获取（路径参数与查询参数）、构造路由路径、返回上一页的功能。更多 路由配置和使用的帮助，<a href=#/docs/api/router>参看文档：路由</a></li> <li>网络请求：该例子展示了 网络请求的配置（配置文件 <code>config/proxy.js</code> 以及 通用切面配置 <code>src/global/request.js</code>），使用 CORS 模式给出了 GET/POST 请求示例，包含了通用 loading、异常处理。更多 网络请求的配置和使用，参看 <a href=#/docs/api/request>参看文档：网络请求</a></li> <li>权限拦截：该例子展示了如何在路由层面判断是否有权限访问某个组件，此能力由路由配置提供</li> <li>404 页面：该例子展示了如何配置 404 页面（包含了子路由 404 页面），此能力也是由路由配置提供</li> <li>UI 组件例子：该例子展示了如何使用接入的 UI 组件库，如果没有使用，则无功能。不同 UI 组件库的用例可能会显示不一样，具体 UI 组件库的使用，参看对应文档，脚手架默认提供了 ant design、fish 相关的组件库作为最佳实践，当然你可以接入任意的 React UI 组件库，只是配置上需要你自己多费点心思。</li> </ul> <h2 id=-gem-mine->使用 gem-mine 开发一个项目</h2> <p><span class=red>你现在正在看的文档系统正是使用 gem-mine 创建的一个项目</span>。项目的源码地址：<a href=http://github.com/gem-mine/gem-mine-docs target=_blank>gem-mine-docs</a></p> <p>下面我们来看看是如何一步一步来构建我们的项目的，重点是开发流程以及遇到问题的解决过程。<strong> 建议：可以看一遍 <a href=#/docs/api>使用教程</a> ，然后再来看下面的实操过程，遇到不理解的再回头看文档，然后来理解开发过程，这样往复思考效果会更好一些。</strong></p> <h3 id=->初始化项目</h3> <p>首先，项目定位：</p> <ul> <li>支持 IE8 的 PC WEB 端（只是为了显示兼容性）</li> <li>支持 markdown 编写文档</li> </ul> <pre><code class="hljs shell"><span class=hljs-meta>#</span><span class=bash> 初始化项目</span>\ngem-mine gem-mine-docs\n<span class=hljs-meta>\n#</span><span class=bash> 开始开发</span>\ncd gem-mine\nnpm start\n</code></pre> <p>这里不采用任何 UI 组件库，毕竟只是一个文档系统。如果想在 IE8 下开发预览，请执行 npm start --hot=false，因为 IE8 不支持热加载。更多命令，请参考：<a href=#/docs/api/command>命令行</a></p> <h3 id=->规划模块与路由</h3> <p>模块分为：</p> <ul> <li>首页</li> <li>文档</li> </ul> <p>它们共有头部和底部，头部导航去各个文档的分类，底部则是一些链接地址。</p> <p>因此路由就按此来划分，由于首页仅一个页面，就放在 <code>src/global/routes/index.js</code> 中配置，文档涉及了很多页面，独立拆分出 <code>src/global/routes/docs.js</code> 来配置。我们并不急于如何编写这个文件如何，可以新建出这个路由文件，以及在 components 下建立 <code>home</code> 和 <code>docs</code> 两个目录，作为后续开发的基础。那现在的增加的目录结构为（不变的省略）：</p> <pre><code class="hljs text">├── src\n│     ├── components\n│     │     ├── home\n│     │     ├── docs\n│     ├── <span class=hljs-keyword>global</span>\n│     │     ├── routes\n│     │     │     ├── docs.js\n</code></pre> <p>由于项目中没有涉及到网络请求，因此这一块的配置在此项目中没有体现。</p> <h3 id=->布局开发</h3> <p>头部、底部是公用的，我们在 <code>src/components/common</code> 下分别建立 header、footer。</p> <pre><code class="hljs text">├── src\n│     ├── components\n│     │     ├── common\n│     │     │     ├── <span class=hljs-selector-tag>header</span>\n│     │     │     ├── footer\n</code></pre> <p>这里提一下命名推荐的规范：<strong>目录一律用小写，jsx 组件除了 index.jsx 外采用驼峰命名</strong>，例如：footer 下的 index.jsx、Links.jsx。<strong>组件对外暴露的默认是 index.jsx</strong>。导入时只要到目录一级即可：</p> <pre><code class="hljs jsx"><span class=hljs-keyword>import</span> Footer <span class=hljs-keyword>from</span> <span class=hljs-string>\'components/common/footer\'</span>\n</code></pre> <p>接着就可以根据 react 开发方式，开发 header、footer，其中的样式采用 scss 模块化开发。</p> <p>开发完毕后，在 <code>src/App.jsx</code> 引入，进行布局：</p> <pre><code class="hljs jsx"><span class=hljs-keyword>import</span> Header <span class=hljs-keyword>from</span> <span class=hljs-string>\'components/common/header\'</span>\n<span class=hljs-keyword>import</span> Footer <span class=hljs-keyword>from</span> <span class=hljs-string>\'components/common/footer\'</span>\n\n<span class=hljs-keyword>const</span> App = <span class=hljs-function><span class=hljs-params>props</span> =&gt;</span> {\n  <span class=hljs-keyword>return</span> (\n    <span class=xml><span class=hljs-tag>&lt;<span class=hljs-name>div</span> <span class=hljs-attr>className</span>=<span class=hljs-string>"main"</span>&gt;</span>\n      <span class=hljs-tag>&lt;<span class=hljs-name>Header</span> /&gt;</span>\n      <span class=hljs-tag>&lt;<span class=hljs-name>div</span> <span class=hljs-attr>className</span>=<span class=hljs-string>"body"</span>&gt;</span>\n        <span class=hljs-tag>&lt;<span class=hljs-name>Routes</span> /&gt;</span>\n      <span class=hljs-tag>&lt;/<span class=hljs-name>div</span>&gt;</span>\n      <span class=hljs-tag>&lt;<span class=hljs-name>Footer</span> /&gt;</span>\n    <span class=hljs-tag>&lt;/<span class=hljs-name>div</span>&gt;</span></span>\n  )\n}\n</code></pre> <p>中间的一块留给路由填充组件使用</p> <h3 id=->开发首页</h3> <p>首页希望做的酷炫一些，加入一些动画。同时希望路由切换后切回来，可以保持动画后的状态，因此状态保存在 redux 中，也就是被脚手架提供的 model 托管。</p> <p>经过一些选型比较（依据：兼容性、易用性、维护性），动画库选择 <a href=https://github.com/google-fabric/velocity-react target=_blank>velocity-react@1.2.2</a>：</p> <pre><code class="hljs shell"><span class=hljs-selector-tag>npm</span> <span class=hljs-selector-tag>i</span> <span class=hljs-selector-tag>velocity-react</span>@<span class=hljs-keyword>1</span>.<span class=hljs-keyword>2</span>.<span class=hljs-keyword>2</span> --save\n</code></pre> <p>velocity-react 在 IE8 下的动画需要依赖 jquery，因此引进 jquery-1.9.0（最后支持 IE8 的版本），引入工作需要进行以下三步：</p> <ul> <li>下载 jquery-1.9.0（压缩后的版本），放入 public 目录</li> <li>修改 <code>config/webpack.js</code>，将 jquery-1.9.0.js 加入到 additional 数组中，这样 webpack 编译时就会将其拷贝到目标目录中</li> <li>修改 <code>public/index.html</code>，使用 IE 条件表达式，用 script 标签引入 jquery</li> </ul> <p>然后重新 npm start 启动项目（修改了 webpack 的配置需要重新启动才能生效）</p> <p>此时，home 目录为：</p> <pre><code class="hljs text">├── src\n│     ├── components\n│     │     ├── home\n│     │     │     ├── index<span class=hljs-selector-class>.jsx</span>\n│     │     │     ├── model<span class=hljs-selector-class>.js</span>\n│     │     │     ├── style.scss\n</code></pre> <p>这种标准结构，后续可以考虑加入命令行功能来生成。开发过程中，又拆分出 Console、Info、Logo 三个子组件。Console 组件用到了打字效果，同样经过选型比较，选择了 <code>react-typist</code>。但其不兼容 IE8，此时有几种解决方案：</p> <ol> <li>简单粗暴：使用其源码，将其放入 src，利用脚手架可以处理 IE8 的能力</li> <li>fork 该项目，修改源码，使其源码兼容 IE8，然后 npm 通过 github 来安装</li> <li>修改脚手架，对该包特殊处理</li> </ol> <p>常规的做法是第 2 种，但这里采用了第一种（因为这个 lib 功能比较简单，基本没有后续维护的需求），将其放在了 <code>src/components/common/typist</code>。</p> <p>编写完代码后，修改 <code>src/global/routes/index.js</code>，添加 home 对应的路由，然后浏览器中就能看到酷炫的首页了。</p> <h3 id=->文档开发</h3> <p>为了解析 markdown 文件并将其转化为 jsx，借助了 <code>marked</code> 这个库，同时为了显示代码语法高亮，结合了 <code>highlight.js</code>。这里自定义了一个 webpack 的 loader 来处理 <code>config/webpack/loaders/markdown.js</code>，同时将该 loader 加入 <code>config/webpack.js</code> 的 loaders 字段。同样由于修改了 webpack 配置，需要重新 npm start --hot 启动。</p> <p>解析来就是在 src/components/docs 目录下撸 markdown 文档了。文档具有二级目录，因此使用了子路由功能，鉴于各个文档结构布局的一致性，这里用了一些小技巧，提供了 Layout.jsx 进行封装。</p> <pre><code class="hljs text">├── src\n│     ├── components\n│     │     ├── docs\n│     │     │     ├── api\n│     │     │     │     ├── <span class=hljs-keyword>markdown </span>files\n│     │     │     ├── guide\n│     │     │     │     ├── <span class=hljs-keyword>markdown </span>files\n│     │     │     ├── ...\n│     │     │     ├── Layout.jsx\n│     │     │     ├── style.scss\n</code></pre> <p>然后处理路由，配置对应文档的地址，<code>src/global/routes/docs.js</code> 看起来和常规路由配置有些不同，只是利用了 <code>src/global/routes/docs-helper.js</code> 提供的函数对 markdown 和 Layout 进行统一处理少写点重复的代码，仅此而已。</p> <h3 id=->收获</h3> <p>使用 gem-mine 开发了 gem-mine-docs，一方面验证了其开发的便利性、灵活度，另一方面也反哺了 gem-mine，发现了脚手架一些 bug，并提出一些基础需求让脚手架改进增强。</p> <p>希望你在 gem-mine 的过程中，也能提出思考后的建设性意见，欢迎在 <a href=https://github.com/gem-mine/gem-mine/issues target=_blank> issues</a> 提出问题，如果你可以 pull request 进行贡献，那自然是极好的。只有良好的互动，才是一个健康的程序，健康的生态。</p> '},function(e,s){e.exports="<h1 id=->命令行</h1> <h2 id=-gem-mine>安装 gem-mine</h2> <pre><code>npm <span class=hljs-selector-tag>i</span> gem-mine -g\n</code></pre><h2 id=-gem-mine>使用 gem-mine</h2> <ul> <li>创建项目</li> </ul> <pre><code>gem-mine project_name\n</code></pre><p>如果该项目已经存在，会提示你是否进行覆盖处理，会对脚手架已经存在的文件进行覆盖。</p> <ol> <li><strong>重要：覆盖处理前，请务必确保已经将代码 commit 到 git 仓库，这样一来可以避免修改的丢失，二来更新后可以利用 git 看到具体有哪些变动</strong></li> <li><strong>重要：如果已经是一个 gem-mine 创建的项目，建议使用 <code>gem-mine update</code> 命令处理升级，这样无须进行选项的选择</strong></li> </ol> <p>创建项目时，如果该项目并没有被 git 管理，gem-mine 会自动为你初始化 git。</p> <ul> <li>更新项目</li> </ul> <pre><code><span class=hljs-meta>#</span><span class=bash> 在项目根目录下执行：</span>\ngem-mine update\n</code></pre><p>该命令会根据以前的选择（例如是否支持 IE8，选择了什么 UI 组件库等）进行自动升级，默认升级只处理以下文件：</p> <pre><code>├──<span class=hljs-built_in> config\n</span>│     ├── webpack\n│     ├── webpack.js\n├── package.json\n</code></pre><p>package.json 文件只会添加要增加的依赖包，并对依赖进行安装。如果需要更新 public 目录，请使用 --with_public 选项：</p> <pre><code><span class=hljs-comment># 在项目根目录下执行：</span>\ngem-mine update <span class=hljs-comment>--with_public</span>\n</code></pre><p><strong>重要：覆盖处理前，请务必确保已经将代码 commit 到 git 仓库，否则上述涉及的文件会被覆盖</strong></p> <p>这里不处理其他文件是因为通常您已经修改了部分代码，为了减少恢复工作（通常只需要处理 webpack.js）。如果确实需要整个项目方式进行覆盖，可以采用上面提到的 <code>gem-mine project_name</code> 方式进行处理。</p> <h2 id=npm-scripts>npm scripts</h2> <h3 id=->本地开发</h3> <pre><code><span class=hljs-built_in>npm</span> start\n</code></pre><p>默认热加载，如果想在 IE8 下开发调试，需要禁用热加载：</p> <pre><code><span class=hljs-built_in>npm</span> start --hot=<span class=hljs-literal>false</span>\n</code></pre><p>默认启动端口 9000，如果本地需要启动多个项目，会自动检测端口是否冲突，如果冲突则自动寻找可用端口。</p> <h3 id=->打包</h3> <pre><code>npm <span class=hljs-keyword>run</span><span class=bash> build</span>\n</code></pre><p>打包时会检测是否生成过 polyfill 和 vendor，如果没有，则会自动调用 npm run polyfill 和 npm run vendor 生成对应的 polyfill 包 和 vendor 包。</p> <p>如果依赖包（例如 cat-eye）或者 polyfill 有更新过，并且本地已经存在 polyfill 或者 vendor，可以手动指定执行：</p> <pre><code>npm <span class=hljs-keyword>run</span><span class=bash> build --polyfill\n</span>npm <span class=hljs-keyword>run</span><span class=bash> build --vendor\n</span>npm <span class=hljs-keyword>run</span><span class=bash> build --polyfill --vendor</span>\n</code></pre><p>当然，你也可以直接执行 vendor 和 polyfill 命令进行打包（通常不需要这两个命令）：</p> <pre><code>npm <span class=hljs-keyword>run</span><span class=bash> vendor\n</span>npm <span class=hljs-keyword>run</span><span class=bash> polyfill</span>\n</code></pre><h3 id=->代码格式化检查</h3> <pre><code>npm <span class=hljs-keyword>run</span><span class=bash> lint</span>\n</code></pre><p>会执行样式检查（css/less/scss） 以及 js 检查（js/jsx）</p> <h3 id=->参数列表</h3> <ul> <li>--hot=false：禁用热加载，用于 npm start，被 webpack-dev-server 接受</li> <li>--port=xxx：指定端口，用于 npm start，被 webpack-dev-server 接受</li> <li>--env=xxx：指定环境变量，不指定则从系统中获取（没有为空），该变量会影响 <code>config/constant.js</code> 和 <code>config/proxy.js</code>。<strong>代码中可以使用 ENV 这个全局变量来获取这个值</strong>。</li> <li>--analyzer：是否输出打包分析，用于做一些打包性能调优分析依据</li> <li>--polyfill：是否同时进行 polyfill 打包，用于 npm run build</li> <li>--vendor：是否同时进行 vendor 打包，用于 npm run build</li> </ul> "},function(e,s){e.exports="<h1 id=->环境变量与常量</h1> <h2 id=->环境变量</h2> <p>gem-mine 打包过程中会去 npm 中获取名为 <strong>env</strong> 的环境变量，同时将这个值写入名为 ENV 的常量，因此代码中可以直接使用这个变量。本地开发中想模拟这个环境变量，最简单有效的方式是通过 --env 指定：</p> <pre><code>npm <span class=hljs-built_in>start</span> <span class=hljs-comment>--env=dev</span>\n</code></pre><p>当然，小众做法是通过 npm 命令行设定：</p> <pre><code>npm<span class=hljs-built_in> config </span><span class=hljs-builtin-name>set</span> <span class=hljs-attribute>env</span>=dev\nnpm start\n</code></pre><p>但最常使用到 ENV 这个常量的，是 gem-mine 脚手架里面的 常量与网络请求。</p> <h2 id=->常量的定义与使用</h2> <p>常量配置文件：<code>config/constant.js</code></p> <p>如果是所有环境下的常量一致，可以直接定义输出：</p> <pre><code class=\"hljs javascript\">exports<span class=hljs-selector-class>.TITLE</span> = <span class=hljs-string>'gem-mine'</span>\n</code></pre> <p>常量命名规则是全大写字母，多个单词之间使用下划线连接，例如：SOME_CONSTANT</p> <p>对于不同环境下的不同常量值，在 config/constant.js 中的 data 中进行定义：</p> <pre><code class=\"hljs javascript\">const data = {\n  <span class=hljs-comment>// 本地配置</span>\n  <span class=hljs-built_in>local</span>: {\n    <span class=hljs-built_in>NAME</span>: <span class=hljs-string>'tom'</span>\n  },\n  <span class=hljs-comment>// 开发环境</span>\n  dev: {\n    <span class=hljs-built_in>NAME</span>: <span class=hljs-string>'jerry'</span>\n  },\n  <span class=hljs-comment>// 生产环境</span>\n  production: {\n    <span class=hljs-built_in>NAME</span>: <span class=hljs-string>'lucy'</span>\n  }\n}\n</code></pre> <p>没有 env 值时会读取 local 中的值，通常本地就是这种情况。当读取到 env 时，则获取对应的值，例如 env=production 时，读取到的 NAME 值是 lucy。</p> <p>使用常量值，直接 import 即可：</p> <pre><code class=\"hljs javascript\"><span class=hljs-keyword>import</span> { TITLE, NAME } <span class=hljs-keyword>from</span> <span class=hljs-string>'config/constant'</span>\n</code></pre> <h2 id=->网络请求</h2> <p>请参看 <a href=#/docs/api/request>网络请求</a> 一节</p> "},function(e,s,n){e.exports="<h1 id=model>model</h1> <p>所谓 model，是一个整合了 redux 的 state、action、reducer（含同步、异步）、dispatch、contant 管理功能的集合体，开发者不要为了修改一个小功能频繁的在多个文件甚至目录之间切换，带来体力和脑力的开销。</p> <p>model 由 <a href=https://github.com/gem-mine/cat-eye target=_blank>cat-eye</a> 提供，model 层设计重度参考了 <a href=https://github.com/mirrorjs/mirror target=_blank>mirror</a>，如果你熟悉 mirror，那么你会觉得这里的设计格外亲切。遇到下面一些概念的迷惑（actions、reducers、effects），亦可以参考 mirror 的文档 <a href=https://github.com/mirrorjs/mirror/blob/master/docs/zh/api.md target=_blank>mirror API</a></p> <p><img src="+n(145)+" /></p> <h2 id=-model>定义 model</h2> <p>model <strong>有且仅有 4 个属性值，分别是：name，state，reducers，effects</strong>，我们通常这样定义一个 model：</p> <pre><code class=\"hljs javascript\">import ce <span class=hljs-keyword>from</span> 'cat-eye'\n\nce.model({\n  name: '<span class=hljs-keyword>user</span>',\n  <span class=hljs-keyword>state</span>: {},\n  reducers: {},\n  effects: {}\n})\n</code></pre> <ul> <li>name 的作用 name 是 model 的名称，用于创建命名空间，该命名空间起到了两个作用（后续会看到如何使用）：<ul> <li>将模块自己的 state 挂载到此命名空间下</li> <li>将模块自己的 actions 挂载到此命名空间下</li> </ul> </li> <li>state：<strong>model 的初始 state</strong>，这是 redux reducer 中标准的 initialState</li> <li>reducers：reducers 由一个个 function 组成，包含了 3 个方面的能力：<ul> <li>用于创建 redux 中的 reducer</li> <li>自动根据[model name + reducer name] 来创建 action，因此一个 reducer 对应的是一个 action</li> <li>将 action 挂载在 actions[model] 下，通过 reducer name 来访问</li> </ul> </li> </ul> <blockquote> <p>注意，reducer 必须返回一个 state，这是 redux reducer 要求的</p> </blockquote> <pre><code class=\"hljs javascript\"><span class=hljs-comment>// src/global/model/user.js</span>\n<span class=hljs-keyword>import</span> ce <span class=hljs-keyword>from</span> <span class=hljs-string>'cat-eye'</span>\nce.model({\n  <span class=hljs-attr>name</span>: <span class=hljs-string>'user'</span>,\n  <span class=hljs-attr>state</span>: {\n    <span class=hljs-attr>age</span>: <span class=hljs-number>18</span>,\n    <span class=hljs-attr>nickname</span>: <span class=hljs-string>'jerry'</span>\n  },\n  <span class=hljs-attr>reducers</span>: {\n    growUp() {\n      <span class=hljs-keyword>return</span> <span class=hljs-keyword>this</span>.setField({\n        <span class=hljs-attr>age</span>: <span class=hljs-function><span class=hljs-params>v</span> =&gt;</span> v + <span class=hljs-number>1</span>\n      })\n    }\n  }\n})\n\n<span class=hljs-comment>// 在你需要的地方，通常是在 jsx 或者 model 的 effects 中调用</span>\n<span class=hljs-comment>// 例如 某个 jsx 中</span>\n<span class=hljs-keyword>import</span> { actions } <span class=hljs-keyword>from</span> <span class=hljs-string>'cat-eye'</span>\n\n<span class=hljs-keyword>export</span> <span class=hljs-keyword>default</span> props =&gt; {\n  <span class=hljs-keyword>return</span> <span class=xml><span class=hljs-tag>&lt;<span class=hljs-name>button</span> <span class=hljs-attr>onClick</span>=<span class=hljs-string>{actions.user.growUp}</span>&gt;</span>click me<span class=hljs-tag>&lt;/<span class=hljs-name>button</span>&gt;</span></span>\n}\n</code></pre> <p>上面代码中，注意到 growUp 这个 reducer 中，使用了 this.setField，这是一个强大易用高效的工具，内部结合了 轻量的 immutable 功能，先不要着急如何使用，本文后面会为你介绍。</p> <ul> <li>effects：一般异步的操作（有副作用的操作，非纯函数）放在 effects，而不放在 reducers 中。对于业务来说，大部分操作都是异步请求，因此 effects 更经常使用。另外，effects 无须返回 state，通常我们会把异步操作返回，也就是返回一个 promise。除此之外，effects 看起来和 reducers 并没有什么两样，定义的方法同样会挂载到 actions 上。</li> </ul> <p>reducers、effects 更详细的用法后面也会介绍。</p> <h2 id=-model>使用 model</h2> <h3 id=model->model 的加载</h3> <p>model 是自动引入到系统的，但需要满足下面其中一个原则：</p> <ul> <li>全局的 model 放在 <code>src/global/model</code> 目录下，命名可以自定义，例如放 user.js 这种各个模块都可能使用到的公用 model</li> <li>业务的 model 放在业务自己的目录下，必须取名为 <code>model.js</code></li> </ul> <h3 id=actions->actions 的使用</h3> <p>在 model 中定义好 reducers、effects 后，这些方法就会挂载在 actions 下，可以直接拿来使用：</p> <pre><code class=\"hljs javascript\"><span class=hljs-keyword>import</span> { actions } <span class=hljs-keyword>from</span> <span class=hljs-string>'cat-eye'</span>\n</code></pre> <p>如果不需要进行加工，可以在 JSX 中直接调用对应的方法：</p> <pre><code>&lt;SomeComponent onClick={actions<span class=hljs-selector-class>.user</span><span class=hljs-selector-class>.growUp</span>} /&gt;\n</code></pre><p>需要进行一些数据操作，可以在组件的方法中定义：</p> <pre><code><span class=hljs-keyword>import</span> <span class=hljs-type>React</span>, {<span class=hljs-type>Component</span>} from <span class=hljs-symbol>'reac</span>t'\n<span class=hljs-keyword>import</span> {actions} from <span class=hljs-symbol>'cat</span>-eye'\n\n<span class=hljs-class><span class=hljs-keyword>class</span> <span class=hljs-title>SomeComponent</span> <span class=hljs-keyword>extends</span> <span class=hljs-title>Component</span> </span>{\n  handleClick = () =&gt; {\n    <span class=hljs-comment>// some code ...</span>\n    actions.user.growUp()\n    <span class=hljs-comment>// some code ...</span>\n  }\n  render() {\n    <span class=hljs-keyword>return</span> (\n      &lt;button onClick={<span class=hljs-keyword>this</span>.handleClick}&gt;click me&lt;/button&gt;\n    )\n  }\n}\n</code></pre><h3 id=-model-smart-actions>组件中使用 model：smart、actions</h3> <p>组件中使用 model 通过 cat-eye 提供的 smart，这个是 react-redux connect 易用版：</p> <pre><code class=\"hljs javascript\"><span class=hljs-keyword>import</span> { smart } from 'cat-eye'\n\n<span class=hljs-title>export</span> <span class=hljs-keyword>default</span> smart(<span class=hljs-title>mapStateToProps</span>, <span class=hljs-title>mapDispathToProps</span>)(<span class=hljs-type>SomeComponent</span>)\n</code></pre> <p>这样看起来和 connect 似乎并无差别，重点是 mapDispatchToProps 可以直接取到 this.props 的值作为参数，来看下 mapDispatchToProps 的使用：</p> <pre><code class=\"hljs javascript\"><span class=hljs-keyword>import</span> { actions } <span class=hljs-keyword>from</span> <span class=hljs-string>'cat-eye'</span>\n<span class=hljs-comment>// mapDispatchToProps 的 props 即这个组件的 this.props</span>\n<span class=hljs-keyword>export</span> <span class=hljs-keyword>default</span> smart(<span class=hljs-literal>null</span>, <span class=hljs-function><span class=hljs-params>props</span> =&gt;</span> {\n  <span class=hljs-comment>// 一般 mapDispatchToProps 会调用 actions 提供的方法，以此来更新 state</span>\n  <span class=hljs-keyword>const</span> act = actions.user\n  <span class=hljs-keyword>return</span> {\n    growUp: act.growUp\n  }\n})(SomeComponent)\n</code></pre> <p>而 mapStateToProps 和 connect 并无两异：</p> <pre><code>// mapStateToProps\n(<span class=hljs-keyword>state</span>, ownProps) =&gt; {\n  const s = <span class=hljs-keyword>state</span>.<span class=hljs-keyword>user</span>;\n  return {\n    // the fields you want <span class=hljs-keyword>to</span> map\n  }\n}\n</code></pre><p>cat-eye 同样将 connect 暴露了出来，但推荐你使用 smart。</p> <h3 id=setfield>setField</h3> <p>setFiled 依赖于 <a href=https://github.com/gem-mine/zero-immutable target=_blank>zero-immutable</a> 的实现，将 immutable 的能力内置在 gem-mine 中，既提高了性能，也很大程度降低了代码的繁琐。</p> <h4 id=setfield->setField 接受的参数</h4> <p>setField(object)：接受一个 key-value 的对象作为参数：</p> <pre><code class=\"hljs javascript\">{\n  <span class=hljs-attribute>name</span>: <span class=hljs-string>'tom'</span>,\n  age: <span class=hljs-number>20</span>\n}\n</code></pre> <p>setField 接受的 key-value 不支持多级，对于 state 是多层级的情况，可以这样处理：</p> <pre><code class=\"hljs javascript\"><span class=hljs-comment>// state</span>\n{\n  <span class=hljs-keyword>name</span>: <span class=hljs-string>'tom'</span>,\n  family: [{\n    <span class=hljs-keyword>name</span>: <span class=hljs-string>'lily'</span>\n  }, {\n    <span class=hljs-keyword>name</span>: <span class=hljs-string>'jerry'</span>\n  }],\n  job: {\n    <span class=hljs-built_in>title</span>: <span class=hljs-string>'manager'</span>\n  }\n}\n\n<span class=hljs-comment>// setField 参数</span>\n{\n  <span class=hljs-string>'family.1.name'</span>: <span class=hljs-string>'pig'</span>, <span class=hljs-comment>// 将 jerry 修改</span>\n  <span class=hljs-string>'job.title'</span>: <span class=hljs-string>'boss'</span>\n}\n</code></pre> <p>key-value 的 value 还可以是一个 function：</p> <pre><code>{\n  <span class=hljs-attribute>age</span>: age =&gt; age + <span class=hljs-number>1</span>\n}\n</code></pre><h4 id=actions-setfield>actions 内置 setField</h4> <p>所有的 model，其 reducers 都会默认注册一个 setField 方法，这样 actions 上就会有该 model 的 setField 方法。正是由于这个方法的存在，导致了 reducers 存在感非常低，大部分设值操作都变得多余，直接通过 setField 进行即可。</p> <pre><code class=\"hljs javascript\">import { actions } <span class=hljs-keyword>from</span> 'cat-eye'\n\n// 在某个组件中直接修改 <span class=hljs-keyword>user</span> <span class=hljs-keyword>state</span>，无须定义 reducer\nactions.<span class=hljs-keyword>user</span>.<span class=hljs-built_in>set</span>Field({\n  name: 'tom',\n  age: age =&gt; age + <span class=hljs-number>1</span>\n})\n</code></pre> <p>如果是纯粹的 redux 开发，这里要定义常量，定义 state，定义 action，实现 reducer，最后才在组件中进行 dispatch（可能还需要 connect），这里就简化成了一步。</p> <h4 id=-reducers->在 reducers 中使用</h4> <p><strong>重要：reducers 中定义的 function 请不要使用箭头函数，否则会丢失 this</strong></p> <p>reducers 的 function 是这样定义的：</p> <pre><code class=\"hljs javascript\">// <span class=hljs-keyword>user</span> model 的 reducers\n\n{\n  // data 是 actions.<span class=hljs-keyword>user</span>.growUp(data) 传入的\n  // getState 可以获取到 redux 的整个 <span class=hljs-keyword>state</span>\n  growUp(data, getState) {\n    // reducer 必须 return 一个新的 <span class=hljs-keyword>state</span>，<span class=hljs-built_in>set</span>Field 就有这个能力\n    return this.<span class=hljs-built_in>set</span>Field({\n      // ...\n    })\n  }\n}\n</code></pre> <p>可以看到，reducer 中的 this 具有 setField 方法，可以对自己的 model 的 state 进行更新。对于获取 state 的，分为：</p> <ul> <li>获取自己 model 的 state：通过 <code>this.getState()</code> 就可以拿到</li> <li>获取所有的 state：通过第二个参数 <code>getState()</code> 可以拿到，然后根据命名空间来获取，例如 getState().book.name</li> </ul> <h4 id=-effects->在 effects 中使用</h4> <p>effects 中的使用和 reducers 中完全一样，只是无须返回 state。同样，<strong>请不要使用箭头函数</strong>。一般在 effects 中会使用到 网络请求，这部分文档参看 <a href=#/docs/api/request>网络请求</a></p> <pre><code class=\"hljs javascript\"><span class=hljs-comment>// user model 的 effects</span>\n<span class=hljs-keyword>import</span> {request} <span class=hljs-keyword>from</span> <span class=hljs-string>'cat-eye'</span>\n<span class=hljs-keyword>const</span> {api} = request\n\n{\n  <span class=hljs-comment>// data 是 actions.user.fetchSomething(data) 传入的</span>\n  <span class=hljs-comment>// getState 可以获取到 redux 的整个 state</span>\n  fetchSomething(data, getState) {\n    api.post({}).then(<span class=hljs-function><span class=hljs-params>data</span> =&gt;</span> {\n      <span class=hljs-keyword>this</span>.setField({\n        <span class=hljs-comment>// ...</span>\n      })\n    })\n  }\n}\n</code></pre> <p>获取 state（自己或者全局）和 reducers 是一致的，分别是通过 this.getState() 和 函数的第二个参数 getState() 来获得。</p> "},function(e,s,n){e.exports=n.p+"model-616777d6ed6b10a757e91dc03bbd6338.png"},function(e,s){e.exports="<h1 id=->路由</h1> <p>gem-mine 内置 react-router 4，并提供了基于 react router 4 的封装，具有以下特性：</p> <ul> <li>使用 JSON 方式对路由进行配置</li> <li>支持多级子路由</li> <li>支持默认路由</li> <li>支持权限拦截</li> </ul> <h2 id=->配置与使用</h2> <p>路由配置文件存放在 <code>src/global/routes</code> 目录下，一般所有配置都放置在 <code>index.js</code> 中，当然你可以进行拆分成多个文件来处理来减少冲突。</p> <p>路由配置包括两个部分：<strong>通用配置</strong> 和 <strong>路由注册</strong>。</p> <h3 id=->通用配置</h3> <p>通用配置用来为路由组件注入 props，以及设置 403 无权限，404 没找到路由的默认组件配置。这个配置是通过 cat-eye 提供的 router.config 进行：</p> <pre><code class=\"hljs javascript\"><span class=hljs-keyword>import</span> { router } <span class=hljs-keyword>from</span> <span class=hljs-string>'cat-eye'</span>\n<span class=hljs-keyword>import</span> NotFound <span class=hljs-keyword>from</span> <span class=hljs-string>'components/common/exception/404'</span>\n<span class=hljs-keyword>import</span> Forbidden <span class=hljs-keyword>from</span> <span class=hljs-string>'components/common/exception/403'</span>\n\n<span class=hljs-comment>// 通用配置</span>\nrouter.config({\n  <span class=hljs-comment>// 为路由注入 props，主要是为了做权限判断时使用，路由配置时可以看到使用</span>\n  mapStateToProps: <span class=hljs-function><span class=hljs-params>state</span> =&gt;</span> {\n    <span class=hljs-keyword>return</span> {\n      <span class=hljs-attr>user</span>: state.user\n    }\n  },\n  <span class=hljs-comment>// 设置默认的 403，404 组件（可选，默认的403、404 无样式，较为简陋）</span>\n  components: {\n    NotFound,\n    Forbidden\n  }\n})\n</code></pre> <h3 id=->路由注册</h3> <p>通过 router.register 来注册路由，接受的参数是一个 object，一个相对完整的模板如下：</p> <pre><code class=\"hljs javascript\"><span class=hljs-string>import</span> <span class=hljs-string>{</span> <span class=hljs-string>router</span> <span class=hljs-string>}</span> <span class=hljs-string>from</span> <span class=hljs-string>'cat-eye'</span>\n\n<span class=hljs-string>//</span> <span class=hljs-string>注册路由</span>\n<span class=hljs-string>router.register({</span>\n<span class=hljs-attr>  login:</span> <span class=hljs-string>{</span>\n<span class=hljs-attr>    path:</span> <span class=hljs-string>LOGIN_PATH,</span>\n<span class=hljs-attr>    component:</span> <span class=hljs-string>Login,</span>\n<span class=hljs-attr>    description:</span> <span class=hljs-string>'登录页'</span><span class=hljs-string>,</span>\n<span class=hljs-attr>    index:</span> <span class=hljs-literal>true</span> <span class=hljs-string>//</span> <span class=hljs-string>根路由下默认显示</span>\n  <span class=hljs-string>},</span>\n<span class=hljs-attr>  main:</span> <span class=hljs-string>{</span>\n<span class=hljs-attr>    path:</span> <span class=hljs-string>'/'</span><span class=hljs-string>,</span>\n<span class=hljs-attr>    permission:</span> <span class=hljs-string>props</span> <span class=hljs-string>=&gt;</span> <span class=hljs-string>{</span>\n      <span class=hljs-string>if</span> <span class=hljs-string>(getIn(props,</span> <span class=hljs-string>'user.token'</span><span class=hljs-string>))</span> <span class=hljs-string>{</span>\n        <span class=hljs-string>return</span> <span class=hljs-literal>true</span>\n      <span class=hljs-string>}</span>\n      <span class=hljs-string>return</span> <span class=hljs-string>&lt;Redirect</span> <span class=hljs-string>to={{</span> <span class=hljs-attr>pathname:</span> <span class=hljs-string>LOGIN_PATH</span> <span class=hljs-string>}}</span> <span class=hljs-string>/&gt;</span>\n    <span class=hljs-string>},</span>\n    <span class=hljs-string>//</span> <span class=hljs-string>子路由</span>\n<span class=hljs-attr>    sub:</span> <span class=hljs-string>{</span>\n<span class=hljs-attr>      home:</span> <span class=hljs-string>{</span>\n<span class=hljs-attr>        path:</span> <span class=hljs-string>'/home'</span><span class=hljs-string>,</span>\n<span class=hljs-attr>        component:</span> <span class=hljs-string>Home,</span>\n<span class=hljs-attr>        description:</span> <span class=hljs-string>'首页'</span><span class=hljs-string>,</span>\n<span class=hljs-attr>        index:</span> <span class=hljs-literal>true</span> <span class=hljs-string>//</span> <span class=hljs-string>子路由如果要默认显示，path</span> <span class=hljs-string>设置成</span> <span class=hljs-string>/，并且设置</span> <span class=hljs-attr>exact:</span> <span class=hljs-literal>true</span><span class=hljs-string>。或者设置</span> <span class=hljs-string>index</span> <span class=hljs-string>为</span> <span class=hljs-literal>true</span>\n      <span class=hljs-string>},</span>\n<span class=hljs-attr>      about:</span> <span class=hljs-string>{</span>\n<span class=hljs-attr>        path:</span> <span class=hljs-string>'/about'</span><span class=hljs-string>,</span>\n<span class=hljs-attr>        component:</span> <span class=hljs-string>About,</span>\n<span class=hljs-attr>        description:</span> <span class=hljs-string>'关于页'</span>\n      <span class=hljs-string>},</span>\n<span class=hljs-attr>      topic:</span> <span class=hljs-string>{</span>\n<span class=hljs-attr>        path:</span> <span class=hljs-string>'/topics'</span><span class=hljs-string>,</span>\n<span class=hljs-attr>        redirect:</span> <span class=hljs-string>'main.topic.list'</span><span class=hljs-string>,</span>\n<span class=hljs-attr>        module:</span> <span class=hljs-string>{</span>\n          <span class=hljs-string>//</span> <span class=hljs-string>子模块</span>\n<span class=hljs-attr>          list:</span> <span class=hljs-string>{</span>\n<span class=hljs-attr>            description:</span> <span class=hljs-string>'话题列表页'</span><span class=hljs-string>,</span>\n<span class=hljs-attr>            path:</span> <span class=hljs-string>'/list'</span><span class=hljs-string>,</span>\n<span class=hljs-attr>            component:</span> <span class=hljs-string>TopicList</span>\n          <span class=hljs-string>},</span>\n<span class=hljs-attr>          add:</span> <span class=hljs-string>{</span>\n<span class=hljs-attr>            description:</span> <span class=hljs-string>'添加话题页面'</span><span class=hljs-string>,</span>\n<span class=hljs-attr>            path:</span> <span class=hljs-string>'/add'</span><span class=hljs-string>,</span>\n<span class=hljs-attr>            component:</span> <span class=hljs-string>TopicAdd</span>\n          <span class=hljs-string>},</span>\n<span class=hljs-attr>          detail:</span> <span class=hljs-string>{</span>\n<span class=hljs-attr>            description:</span> <span class=hljs-string>'话题详细页'</span><span class=hljs-string>,</span>\n<span class=hljs-attr>            path:</span> <span class=hljs-string>'/:id'</span><span class=hljs-string>,</span>\n<span class=hljs-attr>            component:</span> <span class=hljs-string>TopicItem</span>\n          <span class=hljs-string>}</span>\n        <span class=hljs-string>}</span>\n      <span class=hljs-string>},</span>\n<span class=hljs-attr>      admin:</span> <span class=hljs-string>{</span>\n<span class=hljs-attr>        description:</span> <span class=hljs-string>'管理路由'</span><span class=hljs-string>,</span>\n<span class=hljs-attr>        path:</span> <span class=hljs-string>'/admin'</span><span class=hljs-string>,</span>\n<span class=hljs-attr>        component:</span> <span class=hljs-string>Admin,</span> <span class=hljs-string>//</span> <span class=hljs-string>存在子路由，需要有个组件来放置路由</span>\n<span class=hljs-attr>        permission:</span> <span class=hljs-string>props</span> <span class=hljs-string>=&gt;</span> <span class=hljs-string>{</span>\n          <span class=hljs-string>if</span> <span class=hljs-string>(props.user.name</span> <span class=hljs-string>===</span> <span class=hljs-string>ADMIN</span> <span class=hljs-string>||</span> <span class=hljs-string>props.user.name</span> <span class=hljs-string>===</span> <span class=hljs-string>SUPER)</span> <span class=hljs-string>{</span>\n            <span class=hljs-string>return</span> <span class=hljs-literal>true</span>\n          <span class=hljs-string>}</span>\n          <span class=hljs-string>return</span> <span class=hljs-literal>false</span>\n        <span class=hljs-string>},</span>\n<span class=hljs-attr>        sub:</span> <span class=hljs-string>{</span>\n<span class=hljs-attr>          dashboard:</span> <span class=hljs-string>{</span>\n<span class=hljs-attr>            path:</span> <span class=hljs-string>'/dashboard'</span><span class=hljs-string>,</span>\n<span class=hljs-attr>            description:</span> <span class=hljs-string>'管理首页'</span><span class=hljs-string>,</span>\n<span class=hljs-attr>            index:</span> <span class=hljs-literal>true</span><span class=hljs-string>,</span> <span class=hljs-string>//</span> <span class=hljs-string>作为默认显示的子路由</span>\n<span class=hljs-attr>            redirect:</span> <span class=hljs-string>{</span>\n              <span class=hljs-string>//</span> <span class=hljs-string>带参数的</span> <span class=hljs-string>redirect</span>\n<span class=hljs-attr>              key:</span> <span class=hljs-string>'main.admin.dashboard.x'</span><span class=hljs-string>,</span>\n<span class=hljs-attr>              params:</span> <span class=hljs-string>{</span> <span class=hljs-attr>name:</span> <span class=hljs-string>'tom'</span> <span class=hljs-string>}</span>\n            <span class=hljs-string>},</span>\n<span class=hljs-attr>            module:</span> <span class=hljs-string>{</span>\n<span class=hljs-attr>              x:</span> <span class=hljs-string>{</span>\n<span class=hljs-attr>                path:</span> <span class=hljs-string>'/x'</span><span class=hljs-string>,</span>\n<span class=hljs-attr>                component:</span> <span class=hljs-string>X</span>\n              <span class=hljs-string>},</span>\n<span class=hljs-attr>              y:</span> <span class=hljs-string>{</span>\n<span class=hljs-attr>                path:</span> <span class=hljs-string>'/y'</span><span class=hljs-string>,</span>\n<span class=hljs-attr>                component:</span> <span class=hljs-string>Y</span>\n              <span class=hljs-string>}</span>\n            <span class=hljs-string>}</span>\n          <span class=hljs-string>},</span>\n<span class=hljs-attr>          super:</span> <span class=hljs-string>{</span>\n<span class=hljs-attr>            description:</span> <span class=hljs-string>'超级管理员页面'</span><span class=hljs-string>,</span>\n<span class=hljs-attr>            path:</span> <span class=hljs-string>'/super'</span><span class=hljs-string>,</span>\n<span class=hljs-attr>            component:</span> <span class=hljs-string>Super,</span>\n<span class=hljs-attr>            permission:</span> <span class=hljs-string>props</span> <span class=hljs-string>=&gt;</span> <span class=hljs-string>{</span>\n              <span class=hljs-string>if</span> <span class=hljs-string>(props.user.name</span> <span class=hljs-string>===</span> <span class=hljs-string>SUPER)</span> <span class=hljs-string>{</span>\n                <span class=hljs-string>return</span> <span class=hljs-literal>true</span>\n              <span class=hljs-string>}</span>\n              <span class=hljs-string>return</span> <span class=hljs-string>&lt;Forbidden</span> <span class=hljs-string>message={`请将用户名改为</span> <span class=hljs-string>${SUPER}`}</span> <span class=hljs-string>/&gt;</span>\n            <span class=hljs-string>}</span>\n          <span class=hljs-string>},</span>\n<span class=hljs-attr>          log:</span> <span class=hljs-string>{</span>\n<span class=hljs-attr>            description:</span> <span class=hljs-string>'日志'</span><span class=hljs-string>,</span>\n<span class=hljs-attr>            path:</span> <span class=hljs-string>'/logs'</span><span class=hljs-string>,</span>\n<span class=hljs-attr>            module:</span> <span class=hljs-string>{</span>\n<span class=hljs-attr>              list:</span> <span class=hljs-string>{</span>\n<span class=hljs-attr>                description:</span> <span class=hljs-string>'日志列表'</span><span class=hljs-string>,</span>\n<span class=hljs-attr>                path:</span> <span class=hljs-string>'/'</span><span class=hljs-string>,</span>\n<span class=hljs-attr>                exact:</span> <span class=hljs-literal>true</span><span class=hljs-string>,</span>\n<span class=hljs-attr>                component:</span> <span class=hljs-string>LogList</span>\n              <span class=hljs-string>},</span>\n<span class=hljs-attr>              detail:</span> <span class=hljs-string>{</span>\n<span class=hljs-attr>                description:</span> <span class=hljs-string>'日志详情'</span><span class=hljs-string>,</span>\n<span class=hljs-attr>                path:</span> <span class=hljs-string>'/:id'</span><span class=hljs-string>,</span>\n<span class=hljs-attr>                component:</span> <span class=hljs-string>LogItem</span>\n              <span class=hljs-string>}</span>\n            <span class=hljs-string>}</span>\n          <span class=hljs-string>}</span>\n        <span class=hljs-string>}</span>\n      <span class=hljs-string>}</span>\n    <span class=hljs-string>}</span>\n  <span class=hljs-string>}</span>\n<span class=hljs-string>})</span>\n</code></pre> <p>路由中的每一项，可能由下面的若干个配置构成：</p> <ul> <li>path: 路由对应的 url 地址，嵌套的路由（包括 sub 和 module）会祖先路由的 path 作为前缀拼接</li> <li>component：路由对应的组件</li> <li>permission：权限拦截函数，返回 true 表示有权限。返回 false 则渲染默认无权限组件，返回一个组件时是表示无权限对应的自定义组件。嵌套的路由会继承祖先的 permission 权限拦截函数，因此只有祖先 permission 返回 true 后才会进入目标路由</li> <li>description：描述，相当于一个注释作用</li> <li>index：是否作为默认子路由</li> <li>redirect：进入该路由后自动跳转到指定路由。<strong>注意：redirect 不能和 sub 同级别存在，也就是某一项路由中，redirect 和 sub 不能同时存在</strong>，因为如果 redirect 的目标是自己的子路由，而子路由渲染必然需要经过祖先路由，又会触发 redirect，从而死循环。虽然 redirect 一般是结合 module 使用，表示跳转进入某个平级路由，但 redirect 其实是可以跳转进入任意的其他路由。</li> <li>sub：子路由，其下配置也是一个路由配置</li> <li>module：平级模块路由，其下配置也是一个路由配置</li> <li>exact：唯一匹配，否则”/“和”/page1”都会匹配到 path 为&quot;/&quot;的路由，制定 exact 后，&quot;/page1&quot;就不会再匹配到&quot;/&quot;了</li> </ul> <h4 id=-sub-module->嵌套路由：sub 和 module 的区别</h4> <p>sub 和 module 都属于嵌套路由，会从祖先路由那里继承到 path 和 permission。其区别在于 sub 是子路由，需要一个容器作为承载，路由变化时，只有指定部分的内容会发生变化。 module 我们称之为平级模块，只是为了较少 path 和 permission 书写而已。module 无论嵌套多少级他们之间都是平级的，是共享操作一个区域的内容。</p> <p>子路由 sub 被 <code>&lt;Routes&gt;</code> 组件接收，是这样使用的：</p> <pre><code class=\"hljs javascript\"><span class=hljs-comment>// 使用顶级路由</span>\n<span class=hljs-params>&lt;Routes/&gt;</span>\n\n<span class=hljs-comment>// 使用某个子路由</span>\n<span class=hljs-params>&lt;Routes path=\"main.admin\"/&gt;</span>\n</code></pre> <h4 id=->默认路由</h4> <p>默认路由是针对 sub 的，当给某个 sub 的元素指定 index:true 时，如果 url 对应的是父路由的 path，该子路由会作为默认显示。例如上面的配置，当访问 / 时，permission 通过时，由于其 home 子路由具有 index:true，因此会默认显示 home 对应的内容。当然，访问 /home 也是一样显示 home。</p> <p>默认路由还有另外一种写法，即子路由的 path 为 / 时，就是作为默认子路由显示，此时通常需要增加一个 exact:true 防止路由冲突，例如上面配置中的 main.admin.log.list。</p> <p>如果是 module，想默认进入某个路由，可以使用 redirect 进行跳转。</p> <h4 id=->路由的拆分</h4> <p>所有路由都写在 <code>src/global/routes/index.js</code> 下的话，可能会导致该文件变得很大，多人协作时容易引起冲突。可以利用 js 的模块性质进行拆分，通常根据功能块进行拆分：</p> <pre><code class=\"hljs javascript\"><span class=hljs-string>import</span> <span class=hljs-string>topicRoutes</span> <span class=hljs-string>from</span> <span class=hljs-string>'./main.topic'</span>\n<span class=hljs-string>import</span> <span class=hljs-string>adminRoutes</span> <span class=hljs-string>from</span> <span class=hljs-string>'./main.admin'</span>\n\n<span class=hljs-string>router.register({</span>\n<span class=hljs-attr>  login:</span> <span class=hljs-string>{</span>\n<span class=hljs-attr>    path:</span> <span class=hljs-string>LOGIN_PATH,</span>\n<span class=hljs-attr>    component:</span> <span class=hljs-string>Login,</span>\n<span class=hljs-attr>    description:</span> <span class=hljs-string>'登录页'</span><span class=hljs-string>,</span>\n<span class=hljs-attr>    index:</span> <span class=hljs-literal>true</span> <span class=hljs-string>//</span> <span class=hljs-string>根路由下默认显示</span>\n  <span class=hljs-string>},</span>\n<span class=hljs-attr>  main:</span> <span class=hljs-string>{</span>\n<span class=hljs-attr>    path:</span> <span class=hljs-string>'/'</span><span class=hljs-string>,</span>\n<span class=hljs-attr>    permission:</span> <span class=hljs-string>props</span> <span class=hljs-string>=&gt;</span> <span class=hljs-string>{</span>\n      <span class=hljs-string>if</span> <span class=hljs-string>(getIn(props,</span> <span class=hljs-string>'user.token'</span><span class=hljs-string>)</span> <span class=hljs-string>&amp;&amp;</span> <span class=hljs-string>getIn(props,</span> <span class=hljs-string>'user.name'</span><span class=hljs-string>))</span> <span class=hljs-string>{</span>\n        <span class=hljs-string>return</span> <span class=hljs-literal>true</span>\n      <span class=hljs-string>}</span>\n      <span class=hljs-string>return</span> <span class=hljs-string>&lt;Redirect</span> <span class=hljs-string>to={{</span> <span class=hljs-attr>pathname:</span> <span class=hljs-string>LOGIN_PATH</span> <span class=hljs-string>}}</span> <span class=hljs-string>/&gt;</span>\n    <span class=hljs-string>},</span>\n    <span class=hljs-string>//</span> <span class=hljs-string>子路由</span>\n<span class=hljs-attr>    sub:</span> <span class=hljs-string>{</span>\n<span class=hljs-attr>      home:</span> <span class=hljs-string>{</span>\n<span class=hljs-attr>        path:</span> <span class=hljs-string>'/home'</span><span class=hljs-string>,</span>\n<span class=hljs-attr>        component:</span> <span class=hljs-string>Home,</span>\n<span class=hljs-attr>        description:</span> <span class=hljs-string>'首页'</span><span class=hljs-string>,</span>\n<span class=hljs-attr>        index:</span> <span class=hljs-literal>true</span>\n      <span class=hljs-string>},</span>\n<span class=hljs-attr>      about:</span> <span class=hljs-string>{</span>\n<span class=hljs-attr>        path:</span> <span class=hljs-string>'/about'</span><span class=hljs-string>,</span>\n<span class=hljs-attr>        component:</span> <span class=hljs-string>About,</span>\n<span class=hljs-attr>        description:</span> <span class=hljs-string>'关于页'</span>\n      <span class=hljs-string>},</span>\n<span class=hljs-attr>      topic:</span> <span class=hljs-string>topicRoutes,</span>\n<span class=hljs-attr>      admin:</span> <span class=hljs-string>adminRoutes</span>\n    <span class=hljs-string>}</span>\n  <span class=hljs-string>}</span>\n<span class=hljs-string>})</span>\n</code></pre> <p>topic 配置放在同目录下的 <code>main.topic.js</code> 中：</p> <pre><code class=\"hljs javascript\"><span class=hljs-selector-tag>export</span> <span class=hljs-selector-tag>default</span> {\n  <span class=hljs-attribute>path</span>: <span class=hljs-string>'/topics'</span>,\n  <span class=hljs-attribute>redirect</span>: <span class=hljs-string>'main.topic.list'</span>, <span class=hljs-comment>// 跳转到话题列表页（如果话题列表页path是 / 就不要 redirect）</span>\n  <span class=hljs-comment>// 子模块</span>\n  <span class=hljs-attribute>module</span>: {\n    <span class=hljs-attribute>list</span>: {\n      <span class=hljs-attribute>description</span>: <span class=hljs-string>'话题列表页'</span>,\n      <span class=hljs-attribute>path</span>: <span class=hljs-string>'/list'</span>,\n      <span class=hljs-attribute>component</span>: TopicList\n    },\n    <span class=hljs-attribute>add</span>: {\n      <span class=hljs-attribute>description</span>: <span class=hljs-string>'添加话题页面'</span>,\n      <span class=hljs-attribute>path</span>: <span class=hljs-string>'/add'</span>,\n      <span class=hljs-attribute>component</span>: TopicAdd\n    },\n    <span class=hljs-attribute>detail</span>: {\n      <span class=hljs-attribute>description</span>: <span class=hljs-string>'话题详细页'</span>,\n      <span class=hljs-attribute>path</span>: <span class=hljs-string>'/:id'</span>,\n      <span class=hljs-attribute>component</span>: TopicItem\n    }\n  }\n}\n</code></pre> <p>同样也将 admin 配置抽取，放在同目录下的 <code>main.admin.js</code> 中</p> <h3 id=->路由的使用</h3> <h4 id=->使用子路由</h4> <p>使用 <code>Routes</code> 组件</p> <pre><code class=\"hljs javascript\"><span class=hljs-comment>// 使用顶级路由</span>\n<span class=hljs-params>&lt;Routes/&gt;</span>\n\n<span class=hljs-comment>// 使用某个子路由</span>\n<span class=hljs-params>&lt;Routes path=\"main.admin\"/&gt;</span>\n</code></pre> <h4 id=->使用链接跳转</h4> <p>使用 <code>Link</code> 组件，一般结合 urlFor 来自动从路由配置中获取 url</p> <pre><code class=\"hljs javascript\">&lt;<span class=hljs-keyword>Link</span> <span class=hljs-keyword>to</span>={urlFor(<span class=hljs-string>'main.admin'</span>)}&gt;跳转&lt;/<span class=hljs-keyword>Link</span>&gt;\n\n<span class=hljs-comment>// 携带参数，id命中路径参数，没命中的 name 和 age 作为查询参数，因此得到 url: /topics/233?name=tom&amp;age22</span>\n&lt;<span class=hljs-keyword>Link</span> <span class=hljs-keyword>to</span>={urlFor(<span class=hljs-string>'main.topic.detail'</span>, {id: <span class=hljs-number>233</span>, name:<span class=hljs-string>'tom'</span>, age: <span class=hljs-number>22</span>})}&gt;\n</code></pre> <h4 id=->使用导航链接</h4> <p>对于导航性质，尤其是需要高亮处理的情况，建议使用 <code>NavLink</code> 替换 Link 组件。具体使用参看 <a href=https://reacttraining.com/react-router/web target=_blank>react-router 4 文档</a></p> <h4 id=-url->获取 url 参数</h4> <p>获取查询参数通过 cat-eye 提供的 <code>queryString</code> 工具对 search 参数进行解析，获取路径参数直接通过 props.match.params 来获取。</p> <p>例如上面路由中定义的 main.topic.detail 对应的 url：/topics/233?name=tom&amp;age22，其中的 233 就是路径参数（key 为 id），name 和 age 是查询参数，可以这样获取：</p> <pre><code class=\"hljs javascript\"><span class=hljs-keyword>import</span> { queryString } from <span class=hljs-string>'cat-eye'</span>\n\n<span class=hljs-keyword>export</span> <span class=hljs-keyword>default</span> props =&gt; {\n  <span class=hljs-keyword>const</span> { name } = queryString.parse(props.location.search)\n  <span class=hljs-keyword>const</span> { id } = props.match.params\n\n  <span class=hljs-comment>// ...</span>\n}\n</code></pre> <p>注意，如果 props 中没有 search 和 match，需要使用 <code>withRouter</code> 对组件进行包装。</p> <h3 id=-react-router-api>其他 react-router 的 API</h3> <p>cat-eye 对 <a href=https://reacttraining.com/react-router/web target=_blank>react-router 4 </a> 进行了封装，但也将其常用 API 暴露出来，包括：</p> <ul> <li>Route</li> <li>Redirect</li> <li>Switch</li> <li>Prompt</li> <li>withRouter</li> <li>Link</li> <li>NavLink</li> </ul> ";
},function(e,s){e.exports="<h1 id=->网络请求</h1> <p>gem-mine 支持的网络请求特性包括：</p> <ul> <li>多域下的封装：支持对多个域请求的封装，例如需要请求多个 API 站点</li> <li>请求的切面处理：<ul> <li>支持全局切面处理（对所有请求）</li> <li>单个域切面处理（对某个域下的所有请求）</li> <li>单个请求处理如果某个请求同时存在上述两个或者以上的切面，优先级是：</li> <li>单个请求 &gt; 域 &gt; 全局</li> </ul> </li> </ul> <p>脚手架支持 3 种跨域请求处理方式：</p> <ul> <li>CORS</li> <li>nginx 反向代理</li> <li>server 代理</li> </ul> <p>3 种方式各有优劣，这里简单讲述下 3 中方案的优劣，项目中请根据自己情况进行选择：</p> <ul> <li>CORS：前后端代码分离，仅服务端进行少量配置即可支持。但是 IE8、9 存在兼容性问题，同时将请求的服务器地址或域名直接暴露，架构不合理的情况下存在被攻击的安全隐患</li> <li>nginx 反向代理：同域方案，前后端代码分离，仅 nginx 进行少量配置即可支持（需要协定前缀来配置规则来支持 nginx 进行请求转发），无兼容性问题，不暴露请求服务器。</li> <li>server 代理：同域方案，无兼容性问题，不暴露请求服务器，但需要服务端代码进行支持，前端工程中必须有服务端代码。还可以做合并请求、请求结果预处理等功能（这部分也需要服务端代码支持）</li> </ul> <h2 id=->配置与使用</h2> <p>请求配置文件位置：<code>config/proxy.js</code>，下面分 CORS、 server 代理、nginx 反向代理 三种情况来描述。</p> <p>先从 CORS 模式配置入手，并结合使用、本地开发模式。CORS 的基础知识可以参见：<a href=http://www.ruanyifeng.com/blog/2016/04/cors.html target=_blank>跨域资源共享 CORS 详解 - 阮一峰的网络日志</a>。</p> <h3 id=cors>CORS</h3> <p>假设存在一个 API，其支持 CORS 跨域请求 <code>config/proxy.js</code> 配置如下：</p> <pre><code class=\"hljs javascript\"><span class=hljs-keyword>const</span> <span class=hljs-built_in>config</span> = {\n  api: {\n    mode: <span class=hljs-string>'cors'</span>, <span class=hljs-comment>// CORS 模式</span>\n    defaults: {\n      <span class=hljs-comment>// 没有找到 env 时候的默认配置</span>\n      url: <span class=hljs-string>'http://cors.me'</span>,\n      prefix: <span class=hljs-string>'/v1.0'</span>\n    }\n  }\n}\n\n<span class=hljs-keyword>module</span>.exports = <span class=hljs-built_in>config</span>\n</code></pre> <p>上面声明了一个 api 的请求服务，mode 表明请求使用的模式是 cors。mode 可选值包括：</p> <ul> <li>cors：使用 CORS</li> <li>server：使用服务端代理，这是<em>默认值</em></li> <li>nginx：使用 nginx 反向代理</li> </ul> <p>defaults 是没有找到 env 时的默认使用的配置，其下字段含义为：</p> <ul> <li>url：CORS 请求的域</li> <li>prefix：每个请求的 url 的前缀部分</li> </ul> <p>如果想配置额外通用的参数，可以在这里配置，然后通过切面 before 的第三个参数 可以获取到进行统一的处理（before 的使用在本文的最后）。</p> <pre><code class=\"hljs javascript\"><span class=hljs-keyword>const</span> <span class=hljs-built_in>config</span> = {\n  api: {\n    mode: <span class=hljs-string>'cors'</span>, <span class=hljs-comment>// CORS 模式</span>\n    defaults: {\n      <span class=hljs-comment>// 没有找到 env 时候的默认配置</span>\n      url: <span class=hljs-string>'http://cors.me'</span>,\n      prefix: <span class=hljs-string>'/v1.0'</span>\n    },\n    params: {\n      <span class=hljs-comment>// ...</span>\n    },\n    extra: {\n      <span class=hljs-comment>// ...</span>\n    }\n  }\n}\n\n<span class=hljs-keyword>module</span>.exports = <span class=hljs-built_in>config</span>\n</code></pre> <p>业务中使用就非常的简单：</p> <pre><code class=\"hljs javascript\">import { request } <span class=hljs-keyword>from</span> <span class=hljs-string>'cat-eye'</span>\n<span class=hljs-keyword>const</span> { api } = request\n\n<span class=hljs-comment>// 返回了一个 axios 对象（promise）</span>\napi.<span class=hljs-keyword>get</span>(<span class=hljs-string>'/mock'</span>, {\n  <span class=hljs-keyword>params</span>: {\n    q: <span class=hljs-string>'hello'</span>\n  }\n})\n</code></pre> <p>使用接口和 axios 相同，axios 文档可以查看：<a href=https://github.com/axios/axios#axios-api target=_blank>axios</a></p> <p>上面只声明了一个 defaults，则所有环境下都使用同一个请求配置，无论本地、测试环境、预生产环境，还是生产环境。不同环境下通常会有不同的请求配置，例如我们针对本地和测试环境，添加配置：</p> <pre><code class=\"hljs javascript\"><span class=hljs-keyword>const</span> <span class=hljs-built_in>config</span> = {\n  api: {\n    mode: <span class=hljs-string>'cors'</span>, <span class=hljs-comment>// CORS 模式</span>\n    defaults: {\n      <span class=hljs-comment>// 没有找到 env 时候的默认配置</span>\n      url: <span class=hljs-string>'http://cors.me'</span>,\n      prefix: <span class=hljs-string>'/v1.0'</span>\n    },\n    wds: {\n      <span class=hljs-comment>// WDS 使用的配置</span>\n      url: <span class=hljs-string>'http://local.cors.me'</span>,\n      prefix: <span class=hljs-string>'/v1.0'</span>\n    },\n    debug: {\n      url: <span class=hljs-string>'http://debug.cors.me'</span>,\n      prefix: <span class=hljs-string>'/v1.0'</span>\n    }\n  }\n}\n\n<span class=hljs-keyword>module</span>.exports = <span class=hljs-built_in>config</span>\n</code></pre> <p>对于某个请求服务，使用到的配置优先级查找顺序是这样的：</p> <ol> <li>提供了 env，则根据 env 查找配置，找到则直接得到配置</li> <li>没有提供 env，或者提供的 env 对应的配置不存在，分情况来看：<ul> <li>如果通过 webpack-dev-server 来启动，则先找 key 为 wds 的配置（例如上面 api 请求服务，如果通过 WDS 启动，没有找到配置情况下会先查找 api.wds）；如果 wds 配置也不存在，才会去找 defaults 配置。</li> <li>对于非本地情况，不可能以 WDS 启动，因此没有找到配置情况下，默认都是查找 defaults 配置。</li> </ul> </li> </ol> <p>注意，本地如果配置了 wds，不论 mode 使用什么，都将使用 webpack-dev-server 的 proxy 代理，本质是 server 代理（wepack-dev-server 内置了 express 服务器）。webpack-dev-server 的文档可以点击查阅：<a href=https://webpack.github.io/docs/webpack-dev-server.html target=_blank>webpack dev server</a>，我们做了一层封装，让 webpack-dev-server 的 proxy 更简单使用。</p> <p>因此你通过 chrome 开发者工具看到的网络请求如下：</p> <pre><code>http:<span class=hljs-regexp>//</span>localhost:<span class=hljs-number>9000</span><span class=hljs-regexp>/api_wds/</span>v1.<span class=hljs-number>0</span><span class=hljs-regexp>/mock?q=hello</span>\n</code></pre><p>是请求的本地 webpack-dev-server 服务器，api_wds 是脚手架自动添加的前缀用来给 webpack-dev-server 识别这是代理请求，需要转发。最终转发到</p> <pre><code>http:<span class=hljs-regexp>//</span>cors.me<span class=hljs-regexp>/v1.0/m</span>ock?q=hello\n</code></pre><p>这个 URL 上。</p> <p>当然，本地如果配置了 wds，但是想测试下其他配置，可以使用 env 方式：</p> <pre><code class=\"hljs bash\"><span class=hljs-comment># 使用 defaults 配置</span>\nnpm <span class=hljs-built_in>start</span> <span class=hljs-comment>--env=defaults</span>\n\n<span class=hljs-comment># 使用 debug 配置</span>\nnpm <span class=hljs-built_in>start</span> <span class=hljs-comment>--env=debug</span>\n</code></pre> <h3 id=server->server 代理</h3> <p>server 代理需要在前端工程中加入后端代码，因此项目不会是纯静态项目。后端代码通常是用来做统一请求处理，将请求统一转发到对应的服务器，从而绕过跨域限制。这个弊端就是对后端有要求，极端情况下，对接不同语言的后端，要分别实现一遍代理请求处理。</p> <p><code>config/proxy.js</code> 其配置和上面 CORS 基本一致：</p> <pre><code class=\"hljs javascript\"><span class=hljs-keyword>const</span> <span class=hljs-built_in>config</span> = {\n  api: {\n    mode: <span class=hljs-string>'server'</span>, <span class=hljs-comment>// server 模式，不填默认也是 server</span>\n    defaults: {\n      <span class=hljs-comment>// 没有找到 env 时候的默认配置</span>\n      url: <span class=hljs-string>'http://cors.me'</span>,\n      prefix: <span class=hljs-string>'/proxy/v1.0'</span>\n    },\n    wds: {\n      <span class=hljs-comment>// WDS 使用的配置</span>\n      url: <span class=hljs-string>'http://local.cors.me'</span>,\n      prefix: <span class=hljs-string>'/v2.0'</span>\n    },\n    debug: {\n      url: <span class=hljs-string>'http://debug.cors.me'</span>,\n      prefix: <span class=hljs-string>'/proxy/v1.0'</span>\n    }\n  }\n}\n\n<span class=hljs-keyword>module</span>.exports = <span class=hljs-built_in>config</span>\n</code></pre> <p>和 CORS 中配置的区别是，非 wds 模式下，prefix 添加了一个前缀 /proxy（defaults 和 debug 配置中可以看到）。这个前缀是为了让后端代码路由识别，统一处理。这个规则需要前后端进行协定。</p> <p>wds 和上一节 CORS 中介绍的一致，业务代码使用请求也和 CORS 完全一致，不在赘述。</p> <h3 id=nginx->nginx 反向代理</h3> <p>nginx 反向代理和 server 代理类似，是实现了同域请求转发功能，只是转发功能放到了 nginx 上来处理。前端工程通常就需要 nginx 支持，因此和 server 代理对比，就没有了服务端代码。</p> <p><code>config/proxy.js</code> 其配置和上面 server 代理，除了 mode 外完全一致：</p> <pre><code class=\"hljs javascript\">const config = {\n  api: {\n    <span class=hljs-keyword>mode</span>: <span class=hljs-string>'nginx'</span>,\n    default<span class=hljs-variable>s:</span> {\n      // 没有找到 env 时候的默认配置\n      ur<span class=hljs-variable>l:</span> <span class=hljs-string>'http://cors.me'</span>,\n      prefix: <span class=hljs-string>'/proxy/v1.0'</span>\n    },\n    wd<span class=hljs-variable>s:</span> {\n      // WDS 使用的配置\n      ur<span class=hljs-variable>l:</span> <span class=hljs-string>'http://local.cors.me'</span>,\n      prefix: <span class=hljs-string>'/v2.0'</span>\n    },\n    debu<span class=hljs-variable>g:</span> {\n      ur<span class=hljs-variable>l:</span> <span class=hljs-string>'http://debug.cors.me'</span>,\n      prefix: <span class=hljs-string>'/proxy/v1.0'</span>\n    }\n  }\n}\n\nmodule.exports = config\n</code></pre> <p>prefix 在非 wds 配置下，同样增加了 /proxy 前缀，是为了发送请求后被 nginx 识别，将需要的请求转发到服务器。</p> <p>业务中使用网路请求，3 中代理模式完全一致。</p> <h2 id=->多域的使用</h2> <p>上面讲述中，我们例举了一个域的使用，gem-mine 支持多域的配置，我们在<code>config/proxy.js</code>增加一个域：</p> <pre><code class=\"hljs javascript\">const config = {\n  api: {\n    <span class=hljs-keyword>mode</span>: <span class=hljs-string>'nginx'</span>,\n    default<span class=hljs-variable>s:</span> {\n      // 没有找到 env 时候的默认配置\n      ur<span class=hljs-variable>l:</span> <span class=hljs-string>'http://cors.me'</span>,\n      prefix: <span class=hljs-string>'/proxy/v1.0'</span>\n    },\n    wd<span class=hljs-variable>s:</span> {\n      // WDS 使用的配置\n      ur<span class=hljs-variable>l:</span> <span class=hljs-string>'http://local.cors.me'</span>,\n      prefix: <span class=hljs-string>'/v2.0'</span>\n    },\n    debu<span class=hljs-variable>g:</span> {\n      ur<span class=hljs-variable>l:</span> <span class=hljs-string>'http://debug.cors.me'</span>,\n      prefix: <span class=hljs-string>'/proxy/v1.0'</span>\n    }\n  },\n\n  douban: {\n    <span class=hljs-keyword>mode</span>: <span class=hljs-string>'server'</span>,\n    default<span class=hljs-variable>s:</span> {\n      // 没有找到 env 时候的默认配置\n      ur<span class=hljs-variable>l:</span> <span class=hljs-string>'http://api.douban.com'</span>,\n      prefix: <span class=hljs-string>'/v2'</span>\n    },\n    wd<span class=hljs-variable>s:</span> {\n      // WDS 使用的配置\n      ur<span class=hljs-variable>l:</span> <span class=hljs-string>'http://local.douban.me'</span>,\n      prefix: <span class=hljs-string>'/v2.0'</span>\n    }\n  }\n}\n\nmodule.exports = config\n</code></pre> <p>上面配置中，api 这个请求使用了 nginx 反向代理，douban 这个请求使用了 server 代理</p> <h2 id=->请求的切面处理</h2> <p>通常有以下这些需求：</p> <ul> <li>每次请求的头信息中需要携带计算的授权头</li> <li>大部分请求希望有统一的异常处理，无须每个请求都对异常进行处理</li> <li>请求如果超过一定时间，希望有统一的等待提示</li> </ul> <p>上面的需求可以通过请求的切面来实现，这些切面的配置文件位于：<code>src/global/request.js</code>，其代码大致结构如下：</p> <pre><code class=\"hljs javascript\"><span class=hljs-keyword>import</span> { request, actions } <span class=hljs-keyword>from</span> <span class=hljs-string>'cat-eye'</span>\n<span class=hljs-keyword>import</span> proxyConfig <span class=hljs-keyword>from</span> <span class=hljs-string>'config/proxy'</span>\n<span class=hljs-keyword>import</span> { getCurrentProxyConfig } <span class=hljs-keyword>from</span> <span class=hljs-string>'./util/proxy'</span>\n\nrequest.init(getCurrentProxyConfig(proxyConfig))\n\n<span class=hljs-comment>// 全局设置，对所有请求生效</span>\nrequest.config({})\n\n<span class=hljs-comment>// 某个域的设置，对该域的请求生效</span>\nrequest.api.config({})\n</code></pre> <p>设置通常包括了以下几点：</p> <ul> <li>请求前的切面处理（before）</li> <li>loading 处理</li> <li>请求异常处理（error）</li> <li>请求完成处理（complete）</li> </ul> <p>例如对全局的设置：</p> <pre><code class=\"hljs javascript\">request.config({\n  <span class=hljs-comment>// 当请求时间超过默认设定的1500ms时触发 loading</span>\n  loading: <span class=hljs-function><span class=hljs-keyword>function</span><span class=hljs-params>(params)</span> </span>{\n    <span class=hljs-comment>// this 指向这个请求实例，为了便于后面取消这个提示。这里使用了 fish 的 message 组件</span>\n    <span class=hljs-keyword>this</span>.hideTip = message.loading(<span class=hljs-string>'请求仍在进行，请稍候...'</span>, <span class=hljs-number>15</span>)\n  },\n  <span class=hljs-comment>// 请求异常时的处理函数，这里使用 fish 的 message 组件进行提示</span>\n  error: <span class=hljs-function><span class=hljs-keyword>function</span><span class=hljs-params>(res)</span> </span>{\n    <span class=hljs-keyword>const</span> msg = getIn(res, <span class=hljs-string>'data.message'</span>) || <span class=hljs-string>'您的请求遇到了错误，请稍候再试'</span>\n    message.error(msg, <span class=hljs-number>5</span>)\n  },\n  <span class=hljs-comment>// 请求完成时的处理函数，无论成功失败，这里只是将 loading 隐藏</span>\n  complete: <span class=hljs-function><span class=hljs-keyword>function</span><span class=hljs-params>(res)</span> </span>{\n    <span class=hljs-keyword>if</span> (<span class=hljs-keyword>this</span>.hideTip) {\n      <span class=hljs-keyword>this</span>.hideTip()\n    }\n  }\n})\n</code></pre> <p>还可以对某个域进行设置，如果有重复的切面，则域的设置会覆盖全局的设置：</p> <pre><code class=\"hljs javascript\"><span class=hljs-selector-tag>request</span><span class=hljs-selector-class>.api</span><span class=hljs-selector-class>.config</span>({\n  <span class=hljs-attribute>error</span>: <span class=hljs-built_in>function</span>(res) {\n    <span class=hljs-built_in>alert</span>(res.data.message)\n  }\n})\n</code></pre> <p>因此 api 请求还会使用 全局的 loading 和 complete，但是 error 使用自己定义的方式。</p> <p>对于统一授权头的处理，是通过 before 切面进行设定：</p> <pre><code class=\"hljs javascript\">request<span class=hljs-selector-class>.api</span><span class=hljs-selector-class>.config</span>({\n  <span class=hljs-comment>// params: axios 的请求配置参数</span>\n  <span class=hljs-comment>// ins: 请求实例</span>\n  <span class=hljs-comment>// cfg: 对应的 proxy 的配置（即 config/proxy.js 中对应环境下的配置），如果有配置额外的参数，这里就可以拿到</span>\n  before: function(params, <span class=hljs-selector-tag>ins</span>, cfg) {\n    return setIn(params, {\n      <span class=hljs-string>'headers.Authorization'</span>: <span class=hljs-string>'...'</span>\n    })\n  }\n})\n</code></pre> "},function(e,s){e.exports="<h1 id=->国际化</h1> <p>国际化功能处于待办，文档待定。</p> "},function(e,s){e.exports="<h1 id=webpack->webpack 配置</h1> <h2 id=->支持的功能</h2> <p>脚手架屏蔽了大部分 webpack 繁琐的配置细节，目前支持了以下能力：</p> <ul> <li>如果选择支持 IE8，将会支持 IE8 的兼容性处理</li> <li>支持 webpack-dev-server，包括请求代理、热加载</li> <li>支持 webpack dll plugin，作为公共包的优化方案</li> <li>支持输出包使用分析，作为包优化方案依据</li> <li>支持样式模块化处理，支持 css、less、scss、postcss 处理</li> <li>支持样式合并文件，PC 端支持样式文件拆分功能（避免 IE9 下 css 文件太大导致部分样式失效问题）</li> <li>支持小的资源文件 base64 化处理，其余文件会自动带上 hash 值，防止缓存问题</li> <li>支持以下路径别名：<ul> <li>config: config 目录 /config</li> <li>components: 组件目录 /src/components</li> <li>styles: 公用样式目录 /src/styles</li> <li>global: 全局功能目录 /src/global</li> <li>fish: 用到 fish UI 组件库时的别名</li> <li>fishmobile: 用到 fish-mobile UI 组件库时的别名</li> </ul> </li> <li>支持 uglifyJS 进行代码压缩</li> <li>细节支持：<ul> <li>npm start 端口冲突时自动采用可用端口</li> <li>开发期异常输出到浏览器界面，方便调试</li> </ul> </li> </ul> <p><strong>重要：gem-mine 中的 webpack 会根据你是否支持 IE8 进行自行选择，IE8 会选择 webpack 1x，现代浏览器会选择 webpack 3x。这里也不对 webpack 进行包装统一，涉及到细节的配置，请根据不同版本的 webpack 进行。</strong></p> <h2 id=->涉及文件</h2> <p>webpack 配置涉及的文件在 <a href=#/guide/catalogue>目录结构</a> 这一节中详细描述过：</p> <blockquote> <ul> <li><code>webpack.js</code> 暴露给开发者的配置文件</li> <li><p><code>webpack</code> 封装的 webpack 配置目录，通常情况下开发者无须去修改，包含：</p> <ul> <li>loaders：存放自定义 webpack loader 目录，在 webpack 常规 loader 无法满足功能需要自己定制 loader 时才会用到</li> <li>plugins：存放自定义 webpack plugins 目录，在 webpack 常规 plugin 无法满足功能需要自己定制 plugin 时才会用到</li> <li>helper.js：webpack 常规辅助工具函数，后续 dev.js、production.js、polyfill.js、vendor.js 重度依赖此文件</li> <li>dev.js：npm start 对应的运行脚本，是一个标准的 webpack 配置文件，用于 webpack 构建开发期的脚本</li> <li>production.js：npm run build 对应的运行脚本，是一个标准的 webpack 配置文件，用于 webpack 打包上线时的脚本</li> <li>polyfill.js：npm run polyfill 对应的运行脚本，是一个标准的 webpack 配置文件，用于 webpack 构建 polyfill 文件</li> <li>vendor.js：npm run vendor 对应的运行脚本，是一个标准的 webpack 配置文件，用于 webpack 构建公共包文件</li> </ul> </li> </ul> </blockquote> <h2 id=->配置说明</h2> <p>webpack.js 支持的配置在该文件的注释中已经有了详细的说明，这里再逐一介绍：</p> <ul> <li>title：HTML 页面标题栏的名称</li> <li>resolve：额外的别名设置，放在 alias 中处理</li> <li>buildPath：指定打包输出的目录结构，默认是 /build 目录，你可以指定到磁盘中的有权限写入的任意位置</li> <li>port：webpack-dev-server 的端口，默认 9000。当然你可以直接用命令行指定：npm start--port=9001</li> <li>vendor：额外要打入公共包的文件，默认已经有 react、redux、cat-eye 相关文件</li> <li>loaders：额外的 loader 配置</li> <li>plugins：额外的 plugin 配置</li> <li>additional：额外第三包配置，这些包是放在 public 目录下，直接在 index.html 中使用</li> <li>done：打包结束后的回调函数</li> </ul> <p>可以打开 <code>config/webpack.js</code> 来对照查看。</p> "},function(e,s){e.exports="<h1 id=cat-eye-api->cat-eye api 速查</h1> <h2 id=model>model</h2> <ul> <li>定义 model</li> </ul> <pre><code class=\"hljs javascript\"><span class=hljs-keyword>import</span> ce from 'cat-eye'\n\nce.model({\n  <span class=hljs-keyword>name</span>: <span class=hljs-string>'user'</span>,\n  state: {},\n  reducers: {\n    growUp(<span class=hljs-keyword>data</span>, getState) {\n      <span class=hljs-comment>// this.getState()</span>\n      <span class=hljs-comment>// return this.setField({})</span>\n    }\n  },\n  effects: {\n    fetchSome(<span class=hljs-keyword>data</span>, getState) {\n      <span class=hljs-comment>// this.getState()</span>\n      <span class=hljs-comment>// this.actions.otherModel.someFn()</span>\n      <span class=hljs-comment>// this.setField({})</span>\n    }\n  }\n})\n</code></pre> <ul> <li>连接组件 smart、使用 actions</li> </ul> <pre><code class=\"hljs javascript\">import { smart, actions } <span class=hljs-keyword>from</span> 'cat-eye'\n\nsmart(\n  <span class=hljs-keyword>state</span> =&gt; {\n    const s = <span class=hljs-keyword>state</span>.<span class=hljs-keyword>user</span>\n    return {\n      //\n    }\n  },\n  props =&gt; {\n    const a = actions.<span class=hljs-keyword>user</span>\n    return {\n      //\n    }\n  }\n)()\n</code></pre> <h2 id=router>router</h2> <ul> <li>路由 配置与声明</li> </ul> <pre><code class=\"hljs javascript\"><span class=hljs-keyword>import</span> { router } from <span class=hljs-string>'cat-eye'</span>\n\n<span class=hljs-comment>// 参见 src/global/request.js</span>\nrouter.<span class=hljs-built_in>config</span>({})\n\nrouter.<span class=hljs-keyword>register</span>({})\n</code></pre> <ul> <li>路由使用</li> </ul> <pre><code class=\"hljs javascript\"><span class=hljs-keyword>import</span> {Routes} <span class=hljs-keyword>from</span> <span class=hljs-string>'cat-eye'</span>\n\n&lt;Routes /&gt;\n\n<span class=xml><span class=hljs-tag>&lt;<span class=hljs-name>Routes</span> <span class=hljs-attr>path</span>=<span class=hljs-string>\"main.home\"</span> /&gt;</span></span>\n</code></pre> <h2 id=request>request</h2> <ul> <li>请求配置</li> </ul> <pre><code class=\"hljs javascript\"><span class=hljs-comment>// 参见 config/proxy.js</span>\n<span class=hljs-keyword>import</span> { request } from <span class=hljs-string>'cat-eye'</span>\n\nrequest.<span class=hljs-built_in>config</span>({})\n</code></pre> <ul> <li>切面配置</li> </ul> <pre><code class=\"hljs javascript\"><span class=hljs-comment>// 参见 src/global/request.js</span>\n<span class=hljs-keyword>import</span> { request } from <span class=hljs-string>'cat-eye'</span>\n\n<span class=hljs-comment>// 全局配置</span>\nrequest.<span class=hljs-built_in>config</span>({})\n\n<span class=hljs-comment>// 某个域配置</span>\nrequest.api.<span class=hljs-built_in>config</span>({})\n</code></pre> <ul> <li>使用</li> </ul> <pre><code class=\"hljs javascript\"><span class=hljs-keyword>import</span> { request } <span class=hljs-keyword>from</span> <span class=hljs-string>'cat-eye'</span>\n<span class=hljs-keyword>const</span> { api } = request\n\n<span class=hljs-comment>// 参数同 axios</span>\napi.get(url, {}).then(<span class=hljs-function><span class=hljs-params>res</span> =&gt;</span> {})\n</code></pre> <h2 id=tool>tool</h2> <ul> <li>immutable</li> </ul> <pre><code class=\"hljs javascript\"><span class=hljs-comment>// 详细使用参看 zero-immutable: https://github.com/gem-mine/zero-immutable</span>\nimport { setIn, getIn } from <span class=hljs-string>'cat-eye'</span>\n\n<span class=hljs-comment>// 设置</span>\n<span class=hljs-function><span class=hljs-title>setIn</span><span class=hljs-params>(object, {})</span></span>\n\n<span class=hljs-comment>// 无论多深，取不到返回 undefined</span>\n<span class=hljs-function><span class=hljs-title>getIn</span><span class=hljs-params>(object, keyPath)</span></span>\n</code></pre> <ul> <li>URL 处理</li> </ul> <pre><code class=\"hljs javascript\"><span class=hljs-keyword>import</span> { queryString } <span class=hljs-keyword>from</span> <span class=hljs-string>'cat-eye'</span>\n\n<span class=hljs-comment>// 解析查询参数</span>\nqueryString.parse(url)\n\n<span class=hljs-comment>// 生成 url</span>\nqueryString.stringify(url, {\n  <span class=hljs-comment>// ...</span>\n})\n</code></pre> <p>通过 urlFor 结合路由生成 url：</p> <pre><code class=\"hljs javascript\"><span class=hljs-keyword>import</span> { urlFor } <span class=hljs-keyword>from</span> <span class=hljs-string>'cat-eye'</span>\n\n<span class=hljs-comment>// 可以处理路径参数和查询参数</span>\nurlFor(<span class=hljs-string>'main.home'</span>, {\n  <span class=hljs-comment>// ...</span>\n})\n</code></pre> <ul> <li>从 path 解析成正则</li> </ul> <pre><code class=\"hljs javascript\"><span class=hljs-keyword>import</span> { pathToRegexp } <span class=hljs-keyword>from</span> <span class=hljs-string>'cat-eye'</span>\n\n<span class=hljs-keyword>const</span> path = <span class=hljs-string>'/topics/:id'</span>\n\n<span class=hljs-comment>// 生成的正则可以验证某个 url 是否满足规则</span>\n<span class=hljs-keyword>const</span> reg = pathToRegexp(path)\n</code></pre> <ul> <li>获取 store</li> </ul> <p>组件中可以通过 smart 注入，model 中可以通过 this.getState, getState 参数获取。</p> <p>其他地方可以通过 getState 来获取</p> <pre><code class=\"hljs javascript\"><span class=hljs-keyword>import</span> { getState } <span class=hljs-keyword>from</span> <span class=hljs-string>'cat-eye'</span>\n\n<span class=hljs-keyword>const</span> store = getState()\n</code></pre> "},function(e,s){e.exports="<h1 id=->如何高效反馈问题</h1> <p>感谢您向我们反馈问题。</p> <ol> <li>我们推荐如果是小问题（错别字修改，小的 bug fix）直接提交 PR。</li> <li>如果是一个新需求，请提供：详细需求描述，最好是有伪代码示意。</li> <li>如果是一个 BUG，请提供：复现步骤，错误日志，系统和浏览器版本以及相关配置。如果可以，尽可能使用 gem-mine 提供一个最小可复现的代码仓库，方便我们排查问题，不要挤牙膏似的交流。</li> </ol> <p>扩展阅读，推荐大家都读一读，有助于提高做事的条理性和情商：</p> <ul> <li><a href=https://www.chiark.greenend.org.uk/~sgtatham/bugs-cn.html target=_blank>如何有效地报告 Bug</a></li> <li><a href=https://github.com/seajs/seajs/issues/545 target=_blank>如何向开源社区提问题（适用于所有向第三方项目提问的情况）</a></li> <li><a href=https://zhuanlan.zhihu.com/p/25795393 target=_blank>如何向开源项目提交无法解答的问题（本文务必反着看）</a></li> <li><a href=https://github.com/ryanhanwu/How-To-Ask-Questions-The-Smart-Way/blob/master/README-zh_CN.md target=_blank>提问的智慧</a></li> </ul> "},function(e,s){e.exports="<h1 id=->常见问题列表</h1> <ul> <li><a href=https://github.com/gem-mine/gem-mine/issues/2 target=_blank>windows 下使用 git bash ，创建项目时命令行无法进行选择</a></li> </ul> "},function(e,s){e.exports="<h1 id=->版本履历</h1> <ul> <li><p><code>2018年02月06日</code></p> <ul> <li>gem-mine 0.2.0<ul> <li>gem-mine update 能力升级，可以通过选择进行针对性的升级</li> <li>优化 git 工具安装的检测</li> </ul> </li> </ul> </li> <li><p><code>2018年02月05日</code></p> <ul> <li>gem-mine-template<ul> <li>提供 stylelint，并对开发模式下启用 cache 以及 dll plugin，提高编译速度</li> <li>提供 postcss 支持</li> </ul> </li> </ul> </li> <li><p><code>2018年01月25日</code></p> <ul> <li>cat-eye 0.3.6（latest）或 2.2.1（next）<ul> <li>提供 getState 方法，在任意地方直接获取 store</li> </ul> </li> </ul> </li> <li><p><code>2018年01月22日</code></p> <ul> <li>gem-mine-template<ul> <li>windows 下 webpack-dev-server 默认使用本机 IP 打开</li> </ul> </li> </ul> </li> <li><p><code>2018年01月18日</code></p> <ul> <li><p>gem-mine 0.1.9</p> <ul> <li>gem-mine update 命令自动处理增加的包，更新 package.json，自动更新依赖</li> <li>gem-mine update 支持 --with_public 选项，此时会自动更新 public 目录</li> </ul> </li> <li><p>gem-mine-template</p> <ul> <li>npm start 端口冲突时，自动选择可用端口</li> </ul> </li> <li>gem-mine-docs<ul> <li>首页样式优化</li> </ul> </li> </ul> </li> <li><p><code>2018年01月16日</code></p> <ul> <li>gem-mine 0.1.8，update 命令只更新 webpack 相关内容，不处理其他源码</li> <li>gem-mine-template<ul> <li>修正样式无法热更新问题</li> <li>npm start 默认启用热更新</li> <li>对于现代浏览器，webpack 使用 3x 版本</li> <li>修正一些 IE 兼容性 的 polyfill</li> </ul> </li> <li>文档系统发布</li> </ul> </li> </ul> "},function(e,s){e.exports="<h1 id=->待办事项</h1> <ul> <li><span class=gray>[不处理，sourcemap 无问题，devtools 语法高亮问题是 chrome 带来的，create-react-app 也是如此] jsx 文件的 sourcemap 有问题，并且在 devtools 中没有语法高亮</span></li> <li><span class=green>[已处理] 提供 style lint</span></li> <li><span class=green>[已处理] postcss 配置检查并完善</span></li> <li><p>提供单元测试能力</p> </li> <li><p><span class=green>[已处理] 提高打包速度，调研以下方案：</span></p> <ul> <li><span class=green>[已处理] dev 中也使用 dll plugin 方案</span></li> <li><span class=gray>[暂不加入，测试后对目前打包方案没有速度提升] happypack 方案</span></li> <li><span class=green>[已处理] webpack cache</span></li> <li><span class=green>[已处理] babel cache</span></li> <li><span class=gray>[暂不加入，测试后对目前打包方案没有速度提升] hard-source-webpack-plugin</span></li> <li><span class=gray>[暂不加入，测试后对目前打包方案没有速度提升] webpack-uglify-parallel</span></li> <li><span class=gray>[暂不加入，测试后对目前打包方案没有速度提升] parallel-webpack</span></li> </ul> </li> <li><p>多页面打包能力</p> </li> <li><p>国际化能力</p> <ul> <li>业务国际化</li> <li>UI 组件库国际化管理</li> <li>工具类国际化定制（moment）</li> <li>支持远程翻译资源文件（工具类）</li> </ul> </li> <li><span class=green>[已处理] webpack 根据项目是否支持 IE8 进行自动选择版本，现代浏览器可以使用 webpack 3 or 4。目前脚手架中为了兼容 IE8，采用了 webpack 1.x</span></li> <li>资源自动化 CDN 能力<ul> <li>支持资源前缀配置</li> <li>阿里云（工具类）</li> <li>CS（内网，工具类）</li> </ul> </li> </ul> "},function(e,s){e.exports="<h1 id=->鸣谢</h1> <p>gem-mine 的诞生首先受益于这几年来前端社区的蓬勃发展，从很多框架、工具中得到了直接、间接的思路和帮助。本着受益于社区回馈社区的原则，将 gem-mine 开源，也希望可以从社区中得到更多的帮助，让 gem-mine 可以持续发展。</p> <p>下面排名不分先后：</p> <ul> <li><a href=https://reactjs.org/ target=_blank>React</a></li> <li><a href=https://redux.js.org/ target=_blank>Redux</a></li> <li><a href=https://reacttraining.com/react-router/web target=_blank>React-Router</a></li> <li><a href=https://github.com/facebookincubator/create-react-app target=_blank>create-react-app</a></li> <li><a href=https://webpack.js.org/ target=_blank>webpack</a></li> <li><a href=https://babeljs.io/ target=_blank>babel</a></li> <li><a href=https://github.com/mirrorjs/mirror target=_blank>mirror</a>：对 cat-eye 设计与开发提供了直接的帮助</li> <li><a href=https://github.com/dvajs/dva target=_blank>dva</a></li> <li><a href=https://eggjs.org/ target=_blank>egg</a>：提供了文档的参考</li> <li><a href=https://ant.design/ target=_blank>ant design</a></li> <li><a href=https://mobile.ant.design/ target=_blank>ant design mobile</a></li> <li><a href=https://facebook.github.io/immutable-js/ target=_blank>immutable-js</a></li> </ul> "},function(e,s,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(s,"__esModule",{"value":!0});var a=n(1),r=t(a),l=n(3);n(157),n(158),n(159),n(160);var i=n(161),o=t(i),p=n(163),c=t(p),u=function(e){return r["default"].createElement("div",{"className":"main"},r["default"].createElement(o["default"],null),r["default"].createElement("div",{"className":"body"},r["default"].createElement(l.Routes,null)),r["default"].createElement(c["default"],null))};s["default"]=(0,l.withRouter)((0,l.smart)(function(e){return{}})(u))},function(e,s){},function(e,s){},function(e,s){},function(e,s){},function(e,s,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(s,"__esModule",{"value":!0});var a=n(1),r=t(a),l=n(3),i=n(162),o=t(i),p=n(104),c=t(p);s["default"]=function(e){return r["default"].createElement("div",{"className":o["default"].nav},r["default"].createElement("div",{"className":o["default"].header+" clear"},r["default"].createElement(l.Link,{"to":"","className":o["default"].logo},r["default"].createElement("img",{"src":c["default"],"alt":"gem-mine"}),r["default"].createElement("strong",null,"gem mine")),r["default"].createElement("ul",{"className":o["default"].items},r["default"].createElement("li",null,r["default"].createElement(l.NavLink,{"to":(0,l.urlFor)("docs.guide"),"activeClassName":o["default"].highlight},"新手指南")),r["default"].createElement("li",null,r["default"].createElement(l.NavLink,{"to":(0,l.urlFor)("docs.api"),"activeClassName":o["default"].highlight},"使用教程")),r["default"].createElement("li",null,r["default"].createElement(l.NavLink,{"to":(0,l.urlFor)("docs.question"),"activeClassName":o["default"].highlight},"常见问题")),r["default"].createElement("li",null,r["default"].createElement(l.NavLink,{"to":(0,l.urlFor)("docs.version"),"activeClassName":o["default"].highlight},"版本履历"))),r["default"].createElement("a",{"href":"http://github.com/gem-mine/gem-mine","target":"_blank","className":o["default"].version})))}},function(e,s){e.exports={"nav":"style__nav-p38Qa","header":"style__header-1HZYQ","highlight":"style__highlight-2h-QL","logo":"style__logo-2F0cl","version":"style__version-3LqjR","items":"style__items-3KtOR"}},function(e,s,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(s,"__esModule",{"value":!0});var a=n(1),r=t(a),l=n(164),i=t(l),o=n(165),p=t(o),c=n(166),u=t(c),d=n(167),f=t(d),h=n(168),m=t(h);s["default"]=function(e){return r["default"].createElement("div",{"className":i["default"].footer},r["default"].createElement("div",{"className":i["default"].content},r["default"].createElement(p["default"],null),r["default"].createElement("div",{"className":i["default"].right},r["default"].createElement("img",{"src":u["default"],"alt":"gem-mine"}),r["default"].createElement("img",{"src":f["default"],"alt":"gem-mine"}),r["default"].createElement("img",{"src":m["default"],"alt":"gem-mine"}))))}},function(e,s){e.exports={"footer":"style__footer-NIzrw","content":"style__content-2McLs","right":"style__right-Bdzeq"}},function(e,s,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(s,"__esModule",{"value":!0});var a=n(1),r=t(a),l=n(3),i=n(164),o=t(i);s["default"]=function(e){return r["default"].createElement("ul",{"className":o["default"].links},r["default"].createElement("li",null,r["default"].createElement("dl",null,r["default"].createElement("dt",null,"Github"),r["default"].createElement("dd",null,r["default"].createElement("a",{"href":"https://github.com/gem-mine","target":"_blank"},"源码工程")),r["default"].createElement("dd",null,r["default"].createElement("a",{"href":"https://github.com/gem-mine/cat-eye","target":"_blank"},"redux 工具")),r["default"].createElement("dd",null,r["default"].createElement("a",{"href":"https://github.com/gem-mine/zero-immutable","target":"_blank"},"immutable 工具")))),r["default"].createElement("li",null,r["default"].createElement("dl",null,r["default"].createElement("dt",null,"Community"),r["default"].createElement("dd",null,r["default"].createElement(l.Link,{"to":""},"版本履历")),r["default"].createElement("dd",null,r["default"].createElement(l.Link,{"to":""},"常见问题")),r["default"].createElement("dd",null,r["default"].createElement("a",{"href":"https://github.com/gem-mine/gem-mine/issues","target":"_blank"},"Issues")))),r["default"].createElement("li",null,r["default"].createElement("dl",null,r["default"].createElement("dt",null,"Links"),r["default"].createElement("dd",null,r["default"].createElement("a",{"href":"https://ant.design","target":"_blank"},"Ant Design")),r["default"].createElement("dd",null,r["default"].createElement("a",{"href":"https://mobile ant.design","target":"_blank"},"Ant Design Mobile")),r["default"].createElement("dd",null,r["default"].createElement("a",{"href":"https://github.com/mirrorjs/mirror","target":"_blank"},"mirror")))))}},function(e,s,n){e.exports=n.p+"logo-blue-3559debf2dd5e407915af2729d1e8a26.png"},function(e,s,n){e.exports=n.p+"logo-purple-20680deb04ca8f45725793901352f7f2.png"},function(e,s,n){e.exports=n.p+"logo-red-9c5c8d7d25a3f9a1094877079443335d.png"},function(e,s,n){function t(e){return n(a(e))}function a(e){return r[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var r={"./user.js":170};t.keys=function(){return Object.keys(r)},t.resolve=a,e.exports=t,t.id=169},function(e,s,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var a=n(3),r=t(a);r["default"].model({"name":"user","state":{},"reducers":{},"effects":{}})},function(e,s,n){function t(e){return n(a(e))}function a(e){return r[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var r={"./examples/model.js":172,"./home/model.js":173};t.keys=function(){return Object.keys(r)},t.resolve=a,e.exports=t,t.id=171},function(e,s,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var a=n(3),r=t(a),l=a.request.example;r["default"].model({"name":"example","state":{"count":7},"reducers":{"change":function(e){return this.setField({"count":function(s){return s+e}})}},"effects":{"corsGet":function(){var e=this;l.get("/mock",{"params":{"q":"hello"}}).then(function(s){e.setField({"data":s})})},"corsPost":function(){var e=this;l.post("/mock",{"data":{"name":"tom"}}).then(function(s){e.setField({
"data":s})})}}})},function(e,s,n){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var a=n(3),r=t(a);r["default"].model({"name":"home","state":{"showConsole":!1,"showMore":!1,"done":!1}})}]);
//# sourceMappingURL=main-03c1f8e50df3efc078b8.js.map